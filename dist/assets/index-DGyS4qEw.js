import{m as ue,D as Oi,v as We,a as Me,b as ki,c as Fi,d as Pi,M as Je,e as Qe,f as mt,g as Fn,B as Ii,t as ut,E as lt,h as ct,I as Mi,i as ot,s as Et,j as nt,k as zt,l as Nt,n as Pn,o as Bi,p as er,q as Qr,r as Li,u as nr,w as Ze,x as Rr,y as et,z as Ui,A as Ri,C as ji,F as In,G as zi,H as Zr,J as xt,K as jr,L as Mn,N as Gi,O as Ne,P as Gt,Q as Vi,R as Wi,S as St,T as zr,U as Or,V as ir,W as Ct,X as Hi,Y as Xi,Z as qi,_ as hr,$ as Be,a0 as pt,a1 as $i,a2 as Ki,a3 as vt,a4 as Ji,a5 as Yi,a6 as Ot,a7 as Qi,a8 as Zi,a9 as ea,aa as ta}from"./index-C6yJsqwR.js";import{au as Bl,am as Ll,ak as Ul,aw as Rl,aY as jl,aj as zl,ax as Gl,aU as Vl,at as Wl,al as Hl,aq as Xl,aW as ql,av as $l,ar as Kl,ap as Jl,an as Yl,ao as Ql,as as Zl,aN as ec,aM as tc,ai as rc,aX as nc,aV as ic,aZ as ac,a_ as oc,aE as sc,aF as uc,af as lc,aA as cc,aB as fc,aD as hc,aC as pc,b0 as dc,ay as mc,az as gc,aQ as yc,ah as vc,aO as _c,aG as xc,aP as bc,ab as wc,ac as Sc,aJ as Dc,ad as Ec,aH as Cc,aO as Tc,ae as Ac,aT as Nc,a$ as Oc,ag as kc,aS as Fc,aR as Pc,aL as Ic,aK as Mc,aI as Bc}from"./index-C6yJsqwR.js";const kl="3.30.3";class ra{constructor(e){this._color=[200,0,0],this.id=e.id,this._points=e.points,this._polys=e.polys,this._color=e.color??this._color,this.frameOfReferenceUID=e.frameOfReferenceUID,this._segmentIndex=e.segmentIndex,this.sizeInBytes=this._getSizeInBytes(),this._updateCentroid(),this._visible=!0}_getSizeInBytes(){return this._points.length*4+this._polys.length*4}_updateCentroid(){const e=this._points.length/3;let v=0,o=0,r=0;for(let c=0;c<this._points.length;c+=3)v+=this._points[c],o+=this._points[c+1],r+=this._points[c+2];this._centroid=[v/e,o/e,r/e]}get color(){return this._color}set color(e){this._color=e}get points(){return this._points}set points(e){this._points=e,this._updateCentroid()}get polys(){return this._polys}set polys(e){this._polys=e}get segmentIndex(){return this._segmentIndex}get visible(){return this._visible}set visible(e){this._visible=e}get centroid(){return this._centroid}get flatPointsArray(){return this._points}get totalNumberOfPoints(){return this._points.length/3}}function Bn(_){return new TextDecoder("latin1").decode(_)}function na(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const o=Bn(_),r=e.exec(o);if(!r)return{text:o};const c=r.index+r[0].length,d=o.substring(0,c);let l=null;const u=v?v.exec(o):null;if(u){const n=o.substr(u.index);l={text:d+n,binaryBuffer:_.slice(c,u.index)}}else l={text:d,binaryBuffer:_.slice(c)};return l}var kt={arrayBufferToString:Bn,extractBinary:na};const Gr={};function Ln(_){return!!Gr[_]}function ia(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Gr[_](e)}function Un(_,e){Gr[_]=e}var Ut={get:ia,has:Ln,registerType:Un};function Rn(){const _=new ArrayBuffer(4),e=new Uint8Array(_),v=new Uint32Array(_);return e[0]=161,e[1]=178,e[2]=195,e[3]=212,v[0]===3569595041?"LittleEndian":v[0]===2712847316?"BigEndian":null}const aa=Rn();function oa(_,e){if(e<2)return;const v=new Int8Array(_),o=v.length,r=[];for(let c=0;c<o;c+=e){for(let d=0;d<e;d++)r.push(v[c+d]);for(let d=0;d<e;d++)v[c+d]=r.pop()}}var mr={ENDIANNESS:aa,getEndianness:Rn,swapBytes:oa};const{vtkErrorMacro:jn,vtkDebugMacro:sa}=ue,Vr=()=>(jn("LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead."),Promise.reject(new Error("LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead.")));let bt=0;function pr(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=new XMLHttpRequest;return o.open(_,e,!0),v.headers&&Object.entries(v.headers).forEach(r=>{let[c,d]=r;return o.setRequestHeader(c,d)}),v.progressCallback&&o.addEventListener("progress",v.progressCallback),o}function ua(_){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((v,o)=>{const r=pr("GET",_,e);r.onreadystatechange=c=>{r.readyState===4&&(r.status===200||r.status===0?v(r.response):o({xhr:r,e:c}))},r.responseType="arraybuffer",r.send()})}function la(_,e,v){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return o&&o.compression?Vr():v.ref&&!v.ref.pending?new Promise((r,c)=>{const d=[e,v.ref.basepath,v.ref.id].join("/"),l=pr("GET",d,o);l.onreadystatechange=u=>{l.readyState===1&&(v.ref.pending=!0,++bt===1&&_?.invokeBusy&&_.invokeBusy(!0)),l.readyState===4&&(v.ref.pending=!1,l.status===200||l.status===0?(v.buffer=l.response,v.ref.encode==="JSON"?v.values=JSON.parse(v.buffer):(mr.ENDIANNESS!==v.ref.encode&&mr.ENDIANNESS&&(sa(`Swap bytes of ${v.name}`),mr.swapBytes(v.buffer,Oi[v.dataType])),v.values=ue.newTypedArray(v.dataType,v.buffer)),v.values.length!==v.size&&jn(`Error in FetchArray: ${v.name}, does not have the proper array size. Got ${v.values.length}, instead of ${v.size}`),delete v.ref,--bt===0&&_?.invokeBusy&&_.invokeBusy(!1),_?.modified&&_.modified(),r(v)):c({xhr:l,e:u}))},l.responseType=v.dataType!=="string"?"arraybuffer":"text",l.send()}):Promise.resolve(v)}function ca(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v&&v.compression?Vr():new Promise((o,r)=>{const c=pr("GET",e,v);c.onreadystatechange=d=>{c.readyState===1&&++bt===1&&_?.invokeBusy&&_.invokeBusy(!0),c.readyState===4&&(--bt===0&&_?.invokeBusy&&_.invokeBusy(!1),c.status===200||c.status===0?o(JSON.parse(c.responseText)):r({xhr:c,e:d}))},c.responseType="text",c.send()})}function fa(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v&&v.compression?Vr():new Promise((o,r)=>{const c=pr("GET",e,v);c.onreadystatechange=d=>{c.readyState===1&&++bt===1&&_?.invokeBusy&&_.invokeBusy(!0),c.readyState===4&&(--bt===0&&_?.invokeBusy&&_.invokeBusy(!1),c.status===200||c.status===0?o(c.responseText):r({xhr:c,e:d}))},c.responseType="text",c.send()})}function ha(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((o,r)=>{const c=new Image;v.crossOrigin&&(c.crossOrigin=v.crossOrigin),c.onload=()=>o(c),c.onerror=r,c.src=e})}const pa={fetchArray:la,fetchJSON:ca,fetchText:fa,fetchBinary:ua,fetchImage:ha};Ln("http")||Un("http",_=>pa);const gr={ASCII:"ascii",BINARY_LITTLE_ENDIAN:"binary_little_endian"},en={diffuse_red:"red",diffuse_green:"green",diffuse_blue:"blue"},zn={patternHeader:/ply([\s\S]*)end_header\r?\n/,patternBody:/end_header\s([\s\S]*)$/};function tn(_){let e="",v=0;const o=zn.patternHeader.exec(_);o!==null&&(e=o[1],v=o[0].length);const r={comments:[],elements:[],headerLength:v},c=e.split(`
`);let d,l,u;for(let n=0;n<c.length;n++){let h=c[n];if(h=h.trim(),h!==""){let t;switch(u=h.split(/\s+/),l=u.shift(),h=u.join(" "),l){case"format":r.format=u[0],r.version=u[1];break;case"comment":r.comments.push(h);break;case"element":d!==void 0&&r.elements.push(d),d={},d.name=u[0],d.count=parseInt(u[1],10),d.properties=[];break;case"property":t={type:u[0]},t.type==="list"?(t.name=u[3],t.countType=u[1],t.itemType=u[2]):t.name=u[1],t.name in en&&(t.name=en[t.name]),d.properties.push(t);break;case"obj_info":r.objInfo=h;break;default:console.warn("unhandled",l,u);break}}}return d!==void 0&&r.elements.push(d),r}function rn(_,e){const v=e.find(m=>m.name==="vertex"),o=e.find(m=>m.name==="face");let r=0,c=0;v&&(r=v.count),o&&(c=o.count);const d=new Float32Array(r*3),l=new Uint8Array(r*3),u=new Float32Array(r*2),n=new Float32Array(r*3),h=_.colors.length>0,t=_.uvs.length>0,a=_.normals.length>0,f=_.faceVertexUvs.length>0;for(let m=0;m<r;m++){let y=m*3+0,g=m*3+1;const i=m*3+2;d[y]=_.vertices[y],d[g]=_.vertices[g],d[i]=_.vertices[i],h&&(l[y]=_.colors[y],l[g]=_.colors[g],l[i]=_.colors[i]),t&&(y=m*2+0,g=m*2+1,u[y]=_.uvs[y],u[g]=_.uvs[g]),a&&(n[y]=_.normals[y],n[g]=_.normals[g],n[i]=_.normals[i])}if(!t&&f){let m=0,y=0;for(let g=0;g<c;++g){const i=_.indices[m++],s=_.faceVertexUvs[y++];if(s&&i*2===s.length)for(let x=0;x<i;++x){const b=_.indices[m++];u[b*2+0]=s[x*2+0],u[b*2+1]=s[x*2+1]}else m+=i}}const p=We.newInstance();if(p.getPoints().setData(d,3),h&&p.getPointData().setScalars(Me.newInstance({numberOfComponents:3,values:l,name:"Scalars"})),t||f){const m=Me.newInstance({numberOfComponents:2,values:u,name:"TextureCoordinates"}),y=p.getPointData();y.addArray(m),y.setActiveTCoords(m.getName())}return a&&p.getPointData().setNormals(Me.newInstance({numberOfComponents:3,name:"Normals",values:n})),p.getPolys().setData(Uint32Array.from(_.indices)),p}function yr(_,e){let v;switch(e){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":v=parseInt(_,10);break;case"float":case"double":case"float32":case"float64":v=parseFloat(_);break;default:console.log("Unsupported type");break}return v}function da(_,e){const v=e.split(/\s+/),o={};for(let r=0;r<_.length;r++)if(_[r].type==="list"){const c=[],d=yr(v.shift(),_[r].countType);for(let l=0;l<d;l++)c.push(yr(v.shift(),_[r].itemType));o[_[r].name]=c}else o[_[r].name]=yr(v.shift(),_[r].type);return o}function nn(_,e,v){if(e==="vertex")_.vertices.push(v.x,v.y,v.z),"nx"in v&&"ny"in v&&"nz"in v&&_.normals.push(v.nx,v.ny,v.nz),"s"in v&&"t"in v?_.uvs.push(v.s,v.t):"u"in v&&"v"in v?_.uvs.push(v.u,v.v):"texture_u"in v&&"texture_v"in v&&_.uvs.push(v.texture_u,v.texture_v),"red"in v&&"green"in v&&"blue"in v&&_.colors.push(v.red,v.green,v.blue);else if(e==="face"){const o=v.vertex_indices||v.vertex_index,r=v.texcoord;o&&o.length>0&&(_.indices.push(o.length),o.forEach((c,d)=>{_.indices.push(c)})),_.faceVertexUvs.push(r)}}function vr(_,e,v,o){let r;switch(v){case"int8":case"char":r=[_.getInt8(e),1];break;case"uint8":case"uchar":r=[_.getUint8(e),1];break;case"int16":case"short":r=[_.getInt16(e,o),2];break;case"uint16":case"ushort":r=[_.getUint16(e,o),2];break;case"int32":case"int":r=[_.getInt32(e,o),4];break;case"uint32":case"uint":r=[_.getUint32(e,o),4];break;case"float32":case"float":r=[_.getFloat32(e,o),4];break;case"float64":case"double":r=[_.getFloat64(e,o),8];break;default:console.log("Unsupported type");break}return r}function ma(_,e,v,o){const r={};let c,d=0;for(let l=0;l<v.length;l++)if(v[l].type==="list"){const u=[];c=vr(_,e+d,v[l].countType,o);const n=c[0];d+=c[1];for(let h=0;h<n;h++)c=vr(_,e+d,v[l].itemType,o),u.push(c[0]),d+=c[1];r[v[l].name]=u}else c=vr(_,e+d,v[l].type,o),r[v[l].name]=c[0],d+=c[1];return[r,d]}function ga(_,e){e.classHierarchy.push("vtkPLYReader"),e.dataAccessHelper||(e.dataAccessHelper=Ut.get("http"));function v(o){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{compression:c,progressCallback:d}=e;return r.binary?e.dataAccessHelper.fetchBinary(o,{compression:c,progressCallback:d}):e.dataAccessHelper.fetchText(_,o,{compression:c,progressCallback:d})}_.setUrl=function(o){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{binary:!0};e.url=o;const c=o.split("/");return c.pop(),e.baseURL=c.join("/"),e.compression=r.compression,_.loadData({progressCallback:r.progressCallback,binary:!!r.binary})},_.loadData=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=v(e.url,o);return r.then(_.parse),r},_.parse=o=>{typeof o=="string"?_.parseAsText(o):_.parseAsArrayBuffer(o)},_.parseAsArrayBuffer=o=>{if(!o)return;if(o!==e.parseData)_.modified();else return;const r=kt.arrayBufferToString(o),c=tn(r);if(!(c.format!==gr.ASCII)){_.parseAsText(o);return}e.parseData=o;const l={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},u=c.format===gr.BINARY_LITTLE_ENDIAN,n=o instanceof ArrayBuffer?o:o.buffer,h=new DataView(n,c.headerLength);let t,a=0;for(let p=0;p<c.elements.length;p++)for(let m=0;m<c.elements[p].count;m++){t=ma(h,a,c.elements[p].properties,u),a+=t[1];const y=t[0];nn(l,c.elements[p].name,y)}const f=rn(l,c.elements);e.output[0]=f},_.parseAsText=o=>{if(!o)return;if(o!==e.parseData)_.modified();else return;e.parseData=o;const r=kt.arrayBufferToString(o),c=tn(r);if(c.format!==gr.ASCII){_.parseAsArrayBuffer(o);return}const l={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},u=zn.patternBody.exec(r);let n="";u!==null&&(n=u[1]);const h=n.split(`
`);let t=0,a=0;for(let p=0;p<h.length;p++){let m=h[p];if(m=m.trim(),m!==""){a>=c.elements[t].count&&(t++,a=0);const y=da(c.elements[t].properties,m);nn(l,c.elements[t].name,y),a++}}const f=rn(l,c.elements);e.output[0]=f},_.requestData=(o,r)=>{_.parse(e.parseData)}}const ya={};function Gn(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ya,v),ue.obj(_,e),ue.get(_,e,["url","baseURL"]),ue.setGet(_,e,["dataAccessHelper"]),ue.algo(_,e,0,1),ga(_,e),e.compression||(e.compression=null),e.progressCallback||(e.progressCallback=null)}const va=ue.newInstance(Gn,"vtkPLYReader");var _a={extend:Gn,newInstance:va};const{vtkErrorMacro:_r}=ue;function xa(_){const v=_.split(" ").filter(r=>r.indexOf("=")>-1),o={};for(let r=0;r<v.length;++r){const d=v[r].split("=");d.length===2&&(o[d[0]]=d[1])}return o}function an(_,e){for(let v=0;v<_.length;v++)e.push(_[v])}function ba(_,e,v,o,r){const c=_[e];if(c===void 0)return-1;if(c.indexOf("endfacet")!==-1||c.indexOf("facet")===-1)return e+1;let d=0,l=2;const u=v.length/3,n=c.split(/[ \t]+/).filter(h=>h).slice(-3).map(Number);for(an(n,r);_[e+l].indexOf("vertex")!==-1;){const t=_[e+l].split(/[ \t]+/).filter(a=>a).slice(-3).map(Number);an(t,v),d++,l++}o.push(d);for(let h=0;h<d;h++)o.push(u+h);for(;_[e+l]&&_[e+l].indexOf("endfacet")!==-1;)l++;return e+l+2}function wa(_,e){e.classHierarchy.push("vtkSTLReader"),e.dataAccessHelper||(e.dataAccessHelper=Ut.get("http"));function v(r){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const d=c.compression!==void 0?c.compression:e.compression,l=c.progressCallback!==void 0?c.progressCallback:e.progressCallback;return c.binary?e.dataAccessHelper.fetchBinary(r,{compression:d,progressCallback:l}):e.dataAccessHelper.fetchText(_,r,{compression:d,progressCallback:l})}function o(r){const c=e.output[0],d=c.getPoints().getData(),l=c.getPolys().getData();if(!d||!l){console.warn("No valid polydata.");return}const u=new Map,n=new Map;let h=0,t=!1;for(let m=0;m<d.length;m+=3){const y=(d[m]*10**r).toFixed(0),g=(d[m+1]*10**r).toFixed(0),i=(d[m+2]*10**r).toFixed(0),s=`${y},${g},${i}`;u.get(s)!==void 0?(n.set(m/3,u.get(s)),t=!0):(n.set(m/3,h),u.set(s,h),h++)}const a=new Float32Array(u.size*3),f=Array.from(u.keys());for(let m=0;m<f.length;m++){const y=f[m],g=u.get(y)*3,i=y.split(",").map(s=>+s*10**-r);a[g]=i[0],a[g+1]=i[1],a[g+2]=i[2]}const p=new Int32Array(l);for(let m=0;m<l.length;m+=4)p[m]=3,p[m+1]=n.get(l[m+1]),p[m+2]=n.get(l[m+2]),p[m+3]=n.get(l[m+3]);c.getPoints().setData(a),c.getPolys().setData(p),t&&_.modified()}_.setUrl=function(r){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{binary:!0};e.url=r;const d=r.split("/");return d.pop(),e.baseURL=d.join("/"),_.loadData(c)},_.loadData=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const c=v(e.url,r);return c.then(_.parse),c},_.parse=r=>{typeof r=="string"?_.parseAsText(r):_.parseAsArrayBuffer(r)},_.parseAsArrayBuffer=r=>{if(!r)return;if(r!==e.parseData)_.modified();else return;e.parseData=r;let c=!1;if(c=84+new DataView(r,0,84).getUint32(80,!0)*50===r.byteLength,!c){_.parseAsText(kt.arrayBufferToString(r));return}const u=r.slice(0,80),n=kt.arrayBufferToString(u),h=xa(n),t=new DataView(r,84),a=(r.byteLength-84)/50,f=new Float32Array(a*9),p=new Float32Array(a*3),m=new Uint32Array(a*4),y=new Uint16Array(a);let g=0;for(let x=0;x<a;x++){const b=x*50;p[x*3+0]=t.getFloat32(b+0,!0),p[x*3+1]=t.getFloat32(b+4,!0),p[x*3+2]=t.getFloat32(b+8,!0),f[x*9+0]=t.getFloat32(b+12,!0),f[x*9+1]=t.getFloat32(b+16,!0),f[x*9+2]=t.getFloat32(b+20,!0),f[x*9+3]=t.getFloat32(b+24,!0),f[x*9+4]=t.getFloat32(b+28,!0),f[x*9+5]=t.getFloat32(b+32,!0),f[x*9+6]=t.getFloat32(b+36,!0),f[x*9+7]=t.getFloat32(b+40,!0),f[x*9+8]=t.getFloat32(b+44,!0),m[g++]=3,m[g++]=x*3+0,m[g++]=x*3+1,m[g++]=x*3+2,y[x]=t.getUint16(b+48,!0)}const i="SPACE";if(i in h&&h[i]!=="LPS"){const x=h[i],b=new Float32Array(16);switch(b[15]=1,x[0]){case"L":b[0]=1;break;case"R":b[0]=-1;break;default:_r(`Can not convert STL file from ${x} to LPS space: permutations not supported. Use itk.js STL reader instead.`);return}switch(x[1]){case"P":b[5]=1;break;case"A":b[5]=-1;break;default:_r(`Can not convert STL file from ${x} to LPS space: permutations not supported. Use itk.js STL reader instead.`);return}switch(x[2]){case"S":b[10]=1;break;case"I":b[10]=-1;break;default:_r(`Can not convert STL file from ${x} to LPS space: permutations not supported. Use itk.js STL reader instead.`);return}ki.buildFromDegree().setMatrix(b).apply(f).apply(p)}const s=We.newInstance();s.getPoints().setData(f,3),s.getPolys().setData(m),s.getCellData().setScalars(Me.newInstance({name:"Attribute",values:y})),s.getCellData().setNormals(Me.newInstance({name:"Normals",values:p,numberOfComponents:3})),e.output[0]=s,e.removeDuplicateVertices>=0&&o(e.removeDuplicateVertices)},_.parseAsText=r=>{if(!r)return;if(r!==e.parseData)_.modified();else return;e.parseData=r;const c=r.split(`
`);let d=1;const l=[],u=[],n=[];for(;d!==-1;)d=ba(c,d,l,u,n);const h=We.newInstance();h.getPoints().setData(Float32Array.from(l),3),h.getPolys().setData(Uint32Array.from(u)),h.getCellData().setNormals(Me.newInstance({name:"Normals",values:Float32Array.from(n),numberOfComponents:3})),e.output[0]=h,e.removeDuplicateVertices>=0&&o(e.removeDuplicateVertices)},_.requestData=(r,c)=>{_.parse(e.parseData)}}const Sa={removeDuplicateVertices:-1};function Vn(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Sa,v),ue.obj(_,e),ue.get(_,e,["url","baseURL"]),ue.setGet(_,e,["dataAccessHelper","removeDuplicateVertices"]),ue.algo(_,e,0,1),wa(_,e),e.compression||(e.compression=null),e.progressCallback||(e.progressCallback=null)}const Da=ue.newInstance(Vn,"vtkSTLReader");var Ea={extend:Vn,newInstance:Da},tr={exports:{}},Ca=tr.exports,on;function Ta(){return on||(on=1,function(_,e){(function(v,o){_.exports=o()})(Ca,function(){return function(v){var o={};function r(c){if(o[c])return o[c].exports;var d=o[c]={i:c,l:!1,exports:{}};return v[c].call(d.exports,d,d.exports,r),d.l=!0,d.exports}return r.m=v,r.c=o,r.d=function(c,d,l){r.o(c,d)||Object.defineProperty(c,d,{enumerable:!0,get:l})},r.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},r.t=function(c,d){if(1&d&&(c=r(c)),8&d||4&d&&typeof c=="object"&&c&&c.__esModule)return c;var l=Object.create(null);if(r.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:c}),2&d&&typeof c!="string")for(var u in c)r.d(l,u,function(n){return c[n]}.bind(null,u));return l},r.n=function(c){var d=c&&c.__esModule?function(){return c.default}:function(){return c};return r.d(d,"a",d),d},r.o=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)},r.p="",r(r.s=184)}([function(v,o,r){function c(d){for(var l in d)o.hasOwnProperty(l)||(o[l]=d[l])}Object.defineProperty(o,"__esModule",{value:!0}),c(r(240)),c(r(251)),c(r(175)),c(r(107)),c(r(29)),c(r(73)),c(r(106)),c(r(30)),c(r(252)),c(r(52)),c(r(97)),c(r(253)),c(r(37)),c(r(51)),c(r(173)),c(r(176)),c(r(172)),c(r(108)),c(r(254)),c(r(255)),c(r(256)),c(r(72)),c(r(177)),c(r(105)),c(r(17)),c(r(257)),c(r(12)),c(r(174))},function(v,o,r){var c=this&&this.__values||function(s){var x=typeof Symbol=="function"&&Symbol.iterator,b=x&&s[x],w=0;if(b)return b.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&w>=s.length&&(s=void 0),{value:s&&s[w++],done:!s}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var d=r(212);o.FixedSizeSet=d.FixedSizeSet;var l=r(213);o.ObjectCache=l.ObjectCache;var u=r(214);o.CompareCache=u.CompareCache;var n=r(215);o.Lazy=n.Lazy;var h=r(216);function t(s,x,b){if(g(s))s.forEach(function(S,D){return x.call(b,D,S)});else for(var w in s)s.hasOwnProperty(w)&&x.call(b,w,s[w])}function a(s){var x,b;if(f(s))return s;if(m(s)){var w=[];try{for(var S=c(s),D=S.next();!D.done;D=S.next()){var C=D.value;w.push(a(C))}}catch(O){x={error:O}}finally{try{D&&!D.done&&(b=S.return)&&b.call(S)}finally{if(x)throw x.error}}return w}if(p(s)){w={};for(var A in s)if(s.hasOwnProperty(A)){var T=s[A];w[A]=a(T)}return w}return s}function f(s){return!!s&&Object.prototype.toString.call(s)==="[object Function]"}function p(s){var x=typeof s;return!!s&&(x==="function"||x==="object")}function m(s){return Array.isArray(s)}function y(s){return s instanceof Set}function g(s){return s instanceof Map}function i(s){if(p(s)){var x=Object.getPrototypeOf(s),b=x.constructor;return x&&b&&typeof b=="function"&&b instanceof b&&Function.prototype.toString.call(b)===Function.prototype.toString.call(Object)}return!1}o.StringWalker=h.StringWalker,o.applyMixin=function(s,x){for(var b=[],w=2;w<arguments.length;w++)b[w-2]=arguments[w];Object.getOwnPropertyNames(x.prototype).forEach(function(S){if(S!=="constructor"){if(b.indexOf(S)!==-1){var D=Object.getOwnPropertyDescriptor(s.prototype,S);D&&Object.defineProperty(s.prototype,"_"+S,D)}var C=Object.getOwnPropertyDescriptor(x.prototype,S);C&&Object.defineProperty(s.prototype,S,C)}})},o.applyDefaults=function s(x,b,w){w===void 0&&(w=!1);var S=a(x||{});return t(b,function(D,C){i(C)?S[D]=s(S[D],C,w):(w||S[D]===void 0)&&(S[D]=C)}),S},o.forEachArray=function(s,x,b){s.forEach(x,b)},o.forEachObject=t,o.arrayLength=function(s){return y(s)?s.size:s.length},o.objectLength=function(s){return g(s)?s.size:Object.keys(s).length},o.getObjectValue=function(s,x){return g(s)?s.get(x):s[x]},o.removeObjectValue=function(s,x){g(s)?s.delete(x):delete s[x]},o.clone=a,o.isBoolean=function(s){return typeof s=="boolean"},o.isNumber=function(s){return typeof s=="number"},o.isString=function(s){return typeof s=="string"},o.isFunction=f,o.isObject=p,o.isArray=m,o.isSet=y,o.isMap=g,o.isEmpty=function(s){if(m(s))return!s.length;if(y(s)||g(s))return!s.size;if(p(s)){for(var x in s)if(s.hasOwnProperty(x))return!1;return!0}return!1},o.isPlainObject=i,o.isIterable=function(s){return s&&typeof s[Symbol.iterator]=="function"},o.getValue=function(s){return f(s.valueOf)?s.valueOf():s},o.utf8Encode=function(s){for(var x=new Uint8Array(4*s.length),b=0,w=0;w<s.length;w++){var S=s.charCodeAt(w);if(S<128)x[b++]=S;else{if(S<2048)x[b++]=S>>6|192;else{if(S>55295&&S<56320){if(++w>=s.length)throw new Error("Incomplete surrogate pair.");var D=s.charCodeAt(w);if(D<56320||D>57343)throw new Error("Invalid surrogate character.");S=65536+((1023&S)<<10)+(1023&D),x[b++]=S>>18|240,x[b++]=S>>12&63|128}else x[b++]=S>>12|224;x[b++]=S>>6&63|128}x[b++]=63&S|128}}return x.subarray(0,b)},o.utf8Decode=function(s){for(var x="",b=0;b<s.length;){var w=s[b++];if(w>127)if(w>191&&w<224){if(b>=s.length)throw new Error("Incomplete 2-byte sequence.");w=(31&w)<<6|63&s[b++]}else if(w>223&&w<240){if(b+1>=s.length)throw new Error("Incomplete 3-byte sequence.");w=(15&w)<<12|(63&s[b++])<<6|63&s[b++]}else{if(!(w>239&&w<248))throw new Error("Unknown multi-byte start.");if(b+2>=s.length)throw new Error("Incomplete 4-byte sequence.");w=(7&w)<<18|(63&s[b++])<<12|(63&s[b++])<<6|63&s[b++]}if(w<=65535)x+=String.fromCharCode(w);else{if(!(w<=1114111))throw new Error("Code point exceeds UTF-16 limit.");w-=65536,x+=String.fromCharCode(w>>10|55296),x+=String.fromCharCode(1023&w|56320)}}return x}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0}),function(c){c[c.Before=0]="Before",c[c.Equal=1]="Equal",c[c.After=2]="After"}(o.BoundaryPosition||(o.BoundaryPosition={})),function(c){c[c.None=0]="None",c[c.Capturing=1]="Capturing",c[c.AtTarget=2]="AtTarget",c[c.Bubbling=3]="Bubbling"}(o.EventPhase||(o.EventPhase={})),function(c){c[c.Element=1]="Element",c[c.Attribute=2]="Attribute",c[c.Text=3]="Text",c[c.CData=4]="CData",c[c.EntityReference=5]="EntityReference",c[c.Entity=6]="Entity",c[c.ProcessingInstruction=7]="ProcessingInstruction",c[c.Comment=8]="Comment",c[c.Document=9]="Document",c[c.DocumentType=10]="DocumentType",c[c.DocumentFragment=11]="DocumentFragment",c[c.Notation=12]="Notation"}(o.NodeType||(o.NodeType={})),function(c){c[c.Disconnected=1]="Disconnected",c[c.Preceding=2]="Preceding",c[c.Following=4]="Following",c[c.Contains=8]="Contains",c[c.ContainedBy=16]="ContainedBy",c[c.ImplementationSpecific=32]="ImplementationSpecific"}(o.Position||(o.Position={})),function(c){c[c.Accept=1]="Accept",c[c.Reject=2]="Reject",c[c.Skip=3]="Skip"}(o.FilterResult||(o.FilterResult={})),function(c){c[c.All=4294967295]="All",c[c.Element=1]="Element",c[c.Attribute=2]="Attribute",c[c.Text=4]="Text",c[c.CDataSection=8]="CDataSection",c[c.EntityReference=16]="EntityReference",c[c.Entity=32]="Entity",c[c.ProcessingInstruction=64]="ProcessingInstruction",c[c.Comment=128]="Comment",c[c.Document=256]="Document",c[c.DocumentType=512]="DocumentType",c[c.DocumentFragment=1024]="DocumentFragment",c[c.Notation=2048]="Notation"}(o.WhatToShow||(o.WhatToShow={})),function(c){c[c.StartToStart=0]="StartToStart",c[c.StartToEnd=1]="StartToEnd",c[c.EndToEnd=2]="EndToEnd",c[c.EndToStart=3]="EndToStart"}(o.HowToCompare||(o.HowToCompare={}))},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(241);o.Cast=c.Cast;var d=r(150);o.Guard=d.Guard;var l=r(242);o.EmptySet=l.EmptySet},function(v,o,r){var c=r(11),d=r(55).f,l=r(21),u=r(25),n=r(80),h=r(119),t=r(123);v.exports=function(a,f){var p,m,y,g,i,s=a.target,x=a.global,b=a.stat;if(p=x?c:b?c[s]||n(s,{}):(c[s]||{}).prototype)for(m in f){if(g=f[m],y=a.noTargetGet?(i=d(p,m))&&i.value:p[m],!t(x?m:s+(b?".":"#")+m,a.forced)&&y!==void 0){if(typeof g==typeof y)continue;h(g,y)}(a.sham||y&&y.sham)&&l(g,"sham",!0),u(p,m,g,a)}}},function(v,o,r){var c=r(11),d=r(81),l=r(14),u=r(58),n=r(86),h=r(124),t=d("wks"),a=c.Symbol,f=h?a:a&&a.withoutSetter||u;v.exports=function(p){return l(t,p)||(n&&l(a,p)?t[p]=a[p]:t[p]=f("Symbol."+p)),t[p]}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(1),d=r(29),l=function(){function u(){this._features={mutationObservers:!0,customElements:!0,slots:!0,steps:!0},this._window=null,this._compareCache=new c.CompareCache,this._rangeList=new c.FixedSizeSet}return u.prototype.setFeatures=function(n){if(n===void 0&&(n=!0),c.isObject(n))for(var h in n)this._features[h]=n[h]||!1;else for(var h in this._features)this._features[h]=n},Object.defineProperty(u.prototype,"features",{get:function(){return this._features},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"window",{get:function(){return this._window===null&&(this._window=d.create_window()),this._window},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"compareCache",{get:function(){return this._compareCache},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rangeList",{get:function(){return this._rangeList},enumerable:!0,configurable:!0}),Object.defineProperty(u,"instance",{get:function(){return u._instance||(u._instance=new u),u._instance},enumerable:!0,configurable:!0}),u}();o.dom=l.instance},function(v,o,r){var c=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var x in i)Object.hasOwnProperty.call(i,x)&&(s[x]=i[x]);return s.default=i,s};Object.defineProperty(o,"__esModule",{value:!0});var d=c(r(228));o.base64=d;var l=c(r(146));o.byte=l;var u=c(r(147));o.byteSequence=u;var n=c(r(96));o.codePoint=n;var h=c(r(232));o.json=h;var t=c(r(233));o.list=t;var a=c(r(234));o.map=a;var f=c(r(235));o.namespace=f;var p=c(r(236));o.queue=p;var m=c(r(237));o.set=m;var y=c(r(238));o.stack=y;var g=c(r(239));o.string=g},function(v,o){v.exports=function(r){try{return!!r()}catch{return!0}}},function(v,o,r){var c,d=this&&this.__extends||(c=function(L,j){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,H){z.__proto__=H}||function(z,H){for(var X in H)H.hasOwnProperty(X)&&(z[X]=H[X])})(L,j)},function(L,j){function z(){this.constructor=L}c(L,j),L.prototype=j===null?Object.create(j):(z.prototype=j.prototype,new z)});Object.defineProperty(o,"__esModule",{value:!0});var l=function(L){function j(z,H){H===void 0&&(H="");var X=L.call(this,H)||this;return X.name=z,X}return d(j,L),j}(Error);o.DOMException=l;var u=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"DOMStringSizeError",z)||this}return d(j,L),j}(l);o.DOMStringSizeError=u;var n=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"WrongDocumentError","The object is in the wrong document. "+z)||this}return d(j,L),j}(l);o.WrongDocumentError=n;var h=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"NoDataAllowedError",z)||this}return d(j,L),j}(l);o.NoDataAllowedError=h;var t=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"NoModificationAllowedError","The object can not be modified. "+z)||this}return d(j,L),j}(l);o.NoModificationAllowedError=t;var a=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"NotSupportedError","The operation is not supported. "+z)||this}return d(j,L),j}(l);o.NotSupportedError=a;var f=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"InUseAttributeError",z)||this}return d(j,L),j}(l);o.InUseAttributeError=f;var p=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"InvalidStateError","The object is in an invalid state. "+z)||this}return d(j,L),j}(l);o.InvalidStateError=p;var m=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"InvalidModificationError","The object can not be modified in this way. "+z)||this}return d(j,L),j}(l);o.InvalidModificationError=m;var y=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"NamespaceError","The operation is not allowed by Namespaces in XML. [XMLNS] "+z)||this}return d(j,L),j}(l);o.NamespaceError=y;var g=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"InvalidAccessError","The object does not support the operation or argument. "+z)||this}return d(j,L),j}(l);o.InvalidAccessError=g;var i=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"ValidationError",z)||this}return d(j,L),j}(l);o.ValidationError=i;var s=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"TypeMismatchError",z)||this}return d(j,L),j}(l);o.TypeMismatchError=s;var x=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"SecurityError","The operation is insecure. "+z)||this}return d(j,L),j}(l);o.SecurityError=x;var b=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"NetworkError","A network error occurred. "+z)||this}return d(j,L),j}(l);o.NetworkError=b;var w=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"AbortError","The operation was aborted. "+z)||this}return d(j,L),j}(l);o.AbortError=w;var S=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"URLMismatchError","The given URL does not match another URL. "+z)||this}return d(j,L),j}(l);o.URLMismatchError=S;var D=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"QuotaExceededError","The quota has been exceeded. "+z)||this}return d(j,L),j}(l);o.QuotaExceededError=D;var C=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"TimeoutError","The operation timed out. "+z)||this}return d(j,L),j}(l);o.TimeoutError=C;var A=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"InvalidNodeTypeError","The supplied node is incorrect or has an incorrect ancestor for this operation. "+z)||this}return d(j,L),j}(l);o.InvalidNodeTypeError=A;var T=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"DataCloneError","The object can not be cloned. "+z)||this}return d(j,L),j}(l);o.DataCloneError=T;var O=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"NotImplementedError","The DOM method is not implemented by this module. "+z)||this}return d(j,L),j}(l);o.NotImplementedError=O;var I=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"HierarchyRequestError","The operation would yield an incorrect node tree. "+z)||this}return d(j,L),j}(l);o.HierarchyRequestError=I;var k=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"NotFoundError","The object can not be found here. "+z)||this}return d(j,L),j}(l);o.NotFoundError=k;var R=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"IndexSizeError","The index is not in the allowed range. "+z)||this}return d(j,L),j}(l);o.IndexSizeError=R;var G=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"SyntaxError","The string did not match the expected pattern. "+z)||this}return d(j,L),j}(l);o.SyntaxError=G;var W=function(L){function j(z){return z===void 0&&(z=""),L.call(this,"InvalidCharacterError","The string contains invalid characters. "+z)||this}return d(j,L),j}(l);o.InvalidCharacterError=W},function(v,o,r){var c=r(53),d=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],l=["scalar","sequence","mapping"];v.exports=function(u,n){var h,t;if(n=n||{},Object.keys(n).forEach(function(a){if(d.indexOf(a)===-1)throw new c('Unknown option "'+a+'" is met in definition of "'+u+'" YAML type.')}),this.tag=u,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(a){return a},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.defaultStyle=n.defaultStyle||null,this.styleAliases=(h=n.styleAliases||null,t={},h!==null&&Object.keys(h).forEach(function(a){h[a].forEach(function(f){t[String(f)]=a})}),t),l.indexOf(this.kind)===-1)throw new c('Unknown kind "'+this.kind+'" is specified for "'+u+'" YAML type.')}},function(v,o,r){(function(c){var d=function(l){return l&&l.Math==Math&&l};v.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof c=="object"&&c)||Function("return this")()}).call(this,r(78))},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0}),o.idl_defineConst=function(c,d,l){Object.defineProperty(c,d,{writable:!1,enumerable:!0,configurable:!1,value:l})}},function(v,o){v.exports=function(r){return typeof r=="object"?r!==null:typeof r=="function"}},function(v,o){var r={}.hasOwnProperty;v.exports=function(c,d){return r.call(c,d)}},function(v,o,r){var c=r(16),d=r(115),l=r(18),u=r(56),n=Object.defineProperty;o.f=c?n:function(h,t,a){if(l(h),t=u(t,!0),l(a),d)try{return n(h,t,a)}catch{}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(h[t]=a.value),h}},function(v,o,r){var c=r(8);v.exports=!c(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(v,o,r){var c=this&&this.__values||function(s){var x=typeof Symbol=="function"&&Symbol.iterator,b=x&&s[x],w=0;if(b)return b.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&w>=s.length&&(s=void 0),{value:s&&s[w++],done:!s}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var d=r(3),l=r(2);function u(s,x,b){if(b===void 0&&(b=!1),b&&d.Guard.isElementNode(x)&&d.Guard.isShadowRoot(x.shadowRoot)&&x.shadowRoot._firstChild)return x.shadowRoot._firstChild;if(x._firstChild)return x._firstChild;if(x===s)return null;if(x._nextSibling)return x._nextSibling;for(var w=x._parent;w&&w!==s;){if(w._nextSibling)return w._nextSibling;w=w._parent}return null}function n(){var s;return(s={})[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:null}}}},s}function h(s,x,b,w){x===void 0&&(x=!1),b===void 0&&(b=!1);for(var S=x?s:u(s,s,b);S&&w&&!w(S);)S=u(s,S,b);return S}function t(s,x,b,w,S){w===void 0&&(w=!1);for(var D=u(s,x,w);D&&S&&!S(D);)D=u(s,D,w);return D}function a(s,x,b,w){var S;return x===void 0&&(x=!1),b===void 0&&(b=!1),x||s._children.size!==0?((S={})[Symbol.iterator]=function(){var D=x?s:u(s,s,b);return{next:function(){for(;D&&w&&!w(D);)D=u(s,D,b);if(D===null)return{done:!0,value:null};var C={done:!1,value:D};return D=u(s,D,b),C}}},S):n()}function f(s,x,b){x===void 0&&(x=!1);for(var w=x?s:s._parent;w&&b&&!b(w);)w=w._parent;return w}function p(s,x,b,w){for(var S=x._parent;S&&w&&!w(S);)S=S._parent;return S}function m(s){return d.Guard.isDocumentTypeNode(s)?0:d.Guard.isCharacterDataNode(s)?s._data.length:s._children.size}function y(s,x){if(x===void 0&&(x=!1),x){var b=y(s,!1);return d.Guard.isShadowRoot(b)?y(b._host,!0):b}return s._parent?y(s._parent):s}function g(s,x,b,w){b===void 0&&(b=!1),w===void 0&&(w=!1);for(var S=b?s:w&&d.Guard.isShadowRoot(s)?s._host:s._parent;S!==null;){if(S===x)return!0;S=w&&d.Guard.isShadowRoot(S)?S._host:S._parent}return!1}function i(s){for(var x=y(s),b=0,w=h(x);w!==null;){if(b++,w===s)return b;w=t(x,w)}return-1}o.tree_getFirstDescendantNode=h,o.tree_getNextDescendantNode=t,o.tree_getDescendantNodes=a,o.tree_getDescendantElements=function(s,x,b,w){var S;return x===void 0&&(x=!1),b===void 0&&(b=!1),x||s._children.size!==0?((S={})[Symbol.iterator]=function(){var D=a(s,x,b,function(A){return d.Guard.isElementNode(A)})[Symbol.iterator](),C=D.next().value;return{next:function(){for(;C&&w&&!w(C);)C=D.next().value;if(C===null)return{done:!0,value:null};var A={done:!1,value:C};return C=D.next().value,A}}},S):n()},o.tree_getSiblingNodes=function(s,x,b){var w;return x===void 0&&(x=!1),s._parent&&s._parent._children.size!==0?((w={})[Symbol.iterator]=function(){var S=s._parent?s._parent._firstChild:null;return{next:function(){for(;S&&(b&&!b(S)||!x&&S===s);)S=S._nextSibling;if(S===null)return{done:!0,value:null};var D={done:!1,value:S};return S=S._nextSibling,D}}},w):n()},o.tree_getFirstAncestorNode=f,o.tree_getNextAncestorNode=p,o.tree_getAncestorNodes=function(s,x,b){var w;return x===void 0&&(x=!1),x||s._parent?((w={})[Symbol.iterator]=function(){var S=f(s,x,b);return{next:function(){if(S===null)return{done:!0,value:null};var D={done:!1,value:S};return S=p(0,S,x,b),D}}},w):n()},o.tree_getCommonAncestor=function(s,x){if(s===x)return s._parent;for(var b=[],w=[],S=f(s,!0);S!==null;)b.push(S),S=p(0,S);for(var D=f(x,!0);D!==null;)w.push(D),D=p(0,D);for(var C=b.length,A=w.length,T=null,O=Math.min(C,A);O>0;O--){var I=b[--C];if(I!==w[--A])break;T=I}return T},o.tree_getFollowingNode=function(s,x){if(x._firstChild)return x._firstChild;if(x._nextSibling)return x._nextSibling;for(;;){var b=x._parent;if(b===null||b===s)return null;if(b._nextSibling)return b._nextSibling;x=b}},o.tree_getPrecedingNode=function(s,x){return x===s?null:x._previousSibling?(x=x._previousSibling)._lastChild?x._lastChild:x:x._parent},o.tree_isConstrained=function s(x){var b,w,S,D,C,A;switch(x._nodeType){case l.NodeType.Document:var T=!1,O=!1;try{for(var I=c(x._children),k=I.next();!k.done;k=I.next())switch(k.value._nodeType){case l.NodeType.ProcessingInstruction:case l.NodeType.Comment:break;case l.NodeType.DocumentType:if(T||O)return!1;T=!0;break;case l.NodeType.Element:if(O)return!1;O=!0;break;default:return!1}}catch(j){b={error:j}}finally{try{k&&!k.done&&(w=I.return)&&w.call(I)}finally{if(b)throw b.error}}break;case l.NodeType.DocumentFragment:case l.NodeType.Element:try{for(var R=c(x._children),G=R.next();!G.done;G=R.next())switch(G.value._nodeType){case l.NodeType.Element:case l.NodeType.Text:case l.NodeType.ProcessingInstruction:case l.NodeType.CData:case l.NodeType.Comment:break;default:return!1}}catch(j){S={error:j}}finally{try{G&&!G.done&&(D=R.return)&&D.call(R)}finally{if(S)throw S.error}}break;case l.NodeType.DocumentType:case l.NodeType.Text:case l.NodeType.ProcessingInstruction:case l.NodeType.CData:case l.NodeType.Comment:return!x.hasChildNodes()}try{for(var W=c(x._children),L=W.next();!L.done;L=W.next())if(!s(L.value))return!1}catch(j){C={error:j}}finally{try{L&&!L.done&&(A=W.return)&&A.call(W)}finally{if(C)throw C.error}}return!0},o.tree_nodeLength=m,o.tree_isEmpty=function(s){return m(s)===0},o.tree_rootNode=y,o.tree_isDescendantOf=function(s,x,b,w){b===void 0&&(b=!1),w===void 0&&(w=!1);for(var S=h(s,b,w);S!==null;){if(S===x)return!0;S=t(s,S,b,w)}return!1},o.tree_isAncestorOf=g,o.tree_isHostIncludingAncestorOf=function s(x,b,w){if(w===void 0&&(w=!1),g(x,b,w))return!0;var S=y(x);return!(!d.Guard.isDocumentFragmentNode(S)||S._host===null||!s(S._host,b,w))},o.tree_isSiblingOf=function(s,x,b){return b===void 0&&(b=!1),s!==x?s._parent!==null&&s._parent===x._parent:!!b},o.tree_isPreceding=function(s,x){var b=i(s),w=i(x);return b!==-1&&w!==-1&&y(s)===y(x)&&w<b},o.tree_isFollowing=function(s,x){var b=i(s),w=i(x);return b!==-1&&w!==-1&&y(s)===y(x)&&w>b},o.tree_isParentOf=function(s,x){return s._parent===x},o.tree_isChildOf=function(s,x){return x._parent===s},o.tree_previousSibling=function(s){return s._previousSibling},o.tree_nextSibling=function(s){return s._nextSibling},o.tree_firstChild=function(s){return s._firstChild},o.tree_lastChild=function(s){return s._lastChild},o.tree_treePosition=i,o.tree_index=function(s){for(var x=0;s._previousSibling!==null;)x++,s=s._previousSibling;return x},o.tree_retarget=function(s,x){for(;;){if(!s||!d.Guard.isNode(s))return s;var b=y(s);if(!d.Guard.isShadowRoot(b)||x&&d.Guard.isNode(x)&&g(b,x,!0,!0))return s;s=b.host}}},function(v,o,r){var c=r(13);v.exports=function(d){if(!c(d))throw TypeError(String(d)+" is not an object");return d}},function(v,o,r){var c=r(24),d=r(130),l=r(49),u=r(43),n=r(88),h=u.set,t=u.getterFor("Array Iterator");v.exports=n(Array,"Array",function(a,f){h(this,{type:"Array Iterator",target:c(a),index:0,kind:f})},function(){var a=t(this),f=a.target,p=a.kind,m=a.index++;return!f||m>=f.length?(a.target=void 0,{value:void 0,done:!0}):p=="keys"?{value:m,done:!1}:p=="values"?{value:f[m],done:!1}:{value:[m,f[m]],done:!1}},"values"),l.Arguments=l.Array,d("keys"),d("values"),d("entries")},function(v,o,r){var c=r(90),d=r(25),l=r(202);c||d(Object.prototype,"toString",l,{unsafe:!0})},function(v,o,r){var c=r(16),d=r(15),l=r(40);v.exports=c?function(u,n,h){return d.f(u,n,l(1,h))}:function(u,n,h){return u[n]=h,u}},function(v,o,r){var c=r(137).charAt,d=r(43),l=r(88),u=d.set,n=d.getterFor("String Iterator");l(String,"String",function(h){u(this,{type:"String Iterator",string:String(h),index:0})},function(){var h,t=n(this),a=t.string,f=t.index;return f>=a.length?{value:void 0,done:!0}:(h=c(a,f),t.index+=h.length,{value:h,done:!1})})},function(v,o,r){var c=r(11),d=r(203),l=r(19),u=r(21),n=r(5),h=n("iterator"),t=n("toStringTag"),a=l.values;for(var f in d){var p=c[f],m=p&&p.prototype;if(m){if(m[h]!==a)try{u(m,h,a)}catch{m[h]=a}if(m[t]||u(m,t,f),d[f]){for(var y in l)if(m[y]!==l[y])try{u(m,y,l[y])}catch{m[y]=l[y]}}}}},function(v,o,r){var c=r(41),d=r(35);v.exports=function(l){return c(d(l))}},function(v,o,r){var c=r(11),d=r(21),l=r(14),u=r(80),n=r(117),h=r(43),t=h.get,a=h.enforce,f=String(String).split("String");(v.exports=function(p,m,y,g){var i=!!g&&!!g.unsafe,s=!!g&&!!g.enumerable,x=!!g&&!!g.noTargetGet;typeof y=="function"&&(typeof m!="string"||l(y,"name")||d(y,"name",m),a(y).source=f.join(typeof m=="string"?m:"")),p!==c?(i?!x&&p[m]&&(s=!0):delete p[m],s?p[m]=y:d(p,m,y)):s?p[m]=y:u(m,y)})(Function.prototype,"toString",function(){return typeof this=="function"&&t(this).source||n(this)})},function(v,o,r){var c=r(47),d=Math.min;v.exports=function(l){return l>0?d(c(l),9007199254740991):0}},function(v,o,r){var c=r(35);v.exports=function(d){return Object(c(d))}},function(v,o,r){var c=r(16),d=r(8),l=r(14),u=Object.defineProperty,n={},h=function(t){throw t};v.exports=function(t,a){if(l(n,t))return n[t];a||(a={});var f=[][t],p=!!l(a,"ACCESSORS")&&a.ACCESSORS,m=l(a,0)?a[0]:h,y=l(a,1)?a[1]:void 0;return n[t]=!!f&&!d(function(){if(p&&!c)return!0;var g={length:-1};p?u(g,1,{enumerable:!0,get:h}):g[1]=1,f.call(g,m,y)})}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(148),d=r(149),l=r(151),u=r(98),n=r(153),h=r(154),t=r(155),a=r(99),f=r(100),p=r(156),m=r(157),y=r(101),g=r(158),i=r(159),s=r(160),x=r(161),b=r(162),w=r(163),S=r(164),D=r(165),C=r(166),A=r(167),T=r(168),O=r(169),I=r(170);o.create_domImplementation=function(k){return c.DOMImplementationImpl._create(k)},o.create_window=function(){return d.WindowImpl._create()},o.create_xmlDocument=function(){return new l.XMLDocumentImpl},o.create_document=function(){return new u.DocumentImpl},o.create_abortController=function(){return new n.AbortControllerImpl},o.create_abortSignal=function(){return h.AbortSignalImpl._create()},o.create_documentType=function(k,R,G,W){return t.DocumentTypeImpl._create(k,R,G,W)},o.create_element=function(k,R,G,W){return a.ElementImpl._create(k,R,G,W)},o.create_htmlElement=function(k,R,G,W){return a.ElementImpl._create(k,R,G,W)},o.create_htmlUnknownElement=function(k,R,G,W){return a.ElementImpl._create(k,R,G,W)},o.create_documentFragment=function(k){return f.DocumentFragmentImpl._create(k)},o.create_shadowRoot=function(k,R){return p.ShadowRootImpl._create(k,R)},o.create_attr=function(k,R){return m.AttrImpl._create(k,R)},o.create_text=function(k,R){return y.TextImpl._create(k,R)},o.create_cdataSection=function(k,R){return g.CDATASectionImpl._create(k,R)},o.create_comment=function(k,R){return i.CommentImpl._create(k,R)},o.create_processingInstruction=function(k,R,G){return s.ProcessingInstructionImpl._create(k,R,G)},o.create_htmlCollection=function(k,R){return R===void 0&&(R=function(){return!0}),x.HTMLCollectionImpl._create(k,R)},o.create_nodeList=function(k){return b.NodeListImpl._create(k)},o.create_nodeListStatic=function(k,R){return w.NodeListStaticImpl._create(k,R)},o.create_namedNodeMap=function(k){return S.NamedNodeMapImpl._create(k)},o.create_range=function(k,R){return D.RangeImpl._create(k,R)},o.create_nodeIterator=function(k,R,G){return C.NodeIteratorImpl._create(k,R,G)},o.create_treeWalker=function(k,R){return A.TreeWalkerImpl._create(k,R)},o.create_nodeFilter=function(){return T.NodeFilterImpl._create()},o.create_mutationRecord=function(k,R,G,W,L,j,z,H,X){return O.MutationRecordImpl._create(k,R,G,W,L,j,z,H,X)},o.create_domTokenList=function(k,R){return I.DOMTokenListImpl._create(k,R)}},function(v,o,r){var c=this&&this.__values||function(m){var y=typeof Symbol=="function"&&Symbol.iterator,g=y&&m[y],i=0;if(g)return g.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&i>=m.length&&(m=void 0),{value:m&&m[i++],done:!m}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var d=r(6),l=r(17),u=r(3),n=r(72),h=new Map;function t(m,y){if(y!==m._root&&l.tree_isAncestorOf(m._reference,y,!0)){if(m._pointerBeforeReference)for(;;){var g=l.tree_getFollowingNode(m._root,y);if(g!==null&&l.tree_isDescendantOf(m._root,g,!0)&&!l.tree_isDescendantOf(y,g,!0))return void(m._reference=g);if(g===null)return void(m._pointerBeforeReference=!1)}if(y._previousSibling===null)y._parent!==null&&(m._reference=y._parent);else{for(var i=y._previousSibling,s=l.tree_getFirstDescendantNode(y._previousSibling,!0,!1);s!==null;)s!==null&&(i=s),s=l.tree_getNextDescendantNode(y._previousSibling,s,!0,!1);m._reference=i}}}function a(m,y,g,i,s){if(u.Guard.isSlot(m)&&y==="name"&&s===null){if(i===g||i===null&&g===""||i===""&&g===null)return;m._name=i===null||i===""?"":i,n.shadowTree_assignSlotablesForATree(l.tree_rootNode(m))}}function f(m,y,g,i,s){if(u.Guard.isSlotable(m)&&y==="slot"&&s===null){if(i===g||i===null&&g===""||i===""&&g===null)return;m._name=i===null||i===""?"":i,n.shadowTree_isAssigned(m)&&n.shadowTree_assignSlotables(m._assignedSlot),n.shadowTree_assignASlot(m)}}function p(m,y,g,i){y==="id"&&i===null&&(m._uniqueIdentifier=g||void 0)}o.dom_runRemovingSteps=function(m,y){},o.dom_runCloningSteps=function(m,y,g,i){},o.dom_runAdoptingSteps=function(m,y){},o.dom_runAttributeChangeSteps=function(m,y,g,i,s){var x,b;d.dom.features.slots&&(f.call(m,m,y,g,i,s),a.call(m,m,y,g,i,s)),p.call(m,m,y,i,s);try{for(var w=c(m._attributeChangeSteps),S=w.next();!S.done;S=w.next())S.value.call(m,m,y,g,i,s)}catch(D){x={error:D}}finally{try{S&&!S.done&&(b=w.return)&&b.call(w)}finally{if(x)throw x.error}}},o.dom_runInsertionSteps=function(m){},o.dom_runNodeIteratorPreRemovingSteps=function(m,y){t.call(m,m,y)},o.dom_hasSupportedTokens=function(m){return h.has(m)},o.dom_getSupportedTokens=function(m){return h.get(m)||new Set},o.dom_runEventConstructingSteps=function(m){},o.dom_runChildTextContentChangeSteps=function(m){}},function(v,o,r){var c=r(4),d=r(11),l=r(46),u=r(44),n=r(16),h=r(86),t=r(124),a=r(8),f=r(14),p=r(59),m=r(13),y=r(18),g=r(27),i=r(24),s=r(56),x=r(40),b=r(60),w=r(61),S=r(82),D=r(190),C=r(85),A=r(55),T=r(15),O=r(79),I=r(21),k=r(25),R=r(81),G=r(57),W=r(45),L=r(58),j=r(5),z=r(125),H=r(126),X=r(62),Y=r(43),Z=r(36).forEach,q=G("hidden"),ee=j("toPrimitive"),re=Y.set,ae=Y.getterFor("Symbol"),Q=Object.prototype,N=d.Symbol,E=l("JSON","stringify"),P=A.f,F=T.f,M=D.f,B=O.f,U=R("symbols"),$=R("op-symbols"),J=R("string-to-symbol-registry"),ne=R("symbol-to-string-registry"),oe=R("wks"),ge=d.QObject,de=!ge||!ge.prototype||!ge.prototype.findChild,Ce=n&&a(function(){return b(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a!=7})?function(ie,ce,le){var pe=P(Q,ce);pe&&delete Q[ce],F(ie,ce,le),pe&&ie!==Q&&F(Q,ce,pe)}:F,we=function(ie,ce){var le=U[ie]=b(N.prototype);return re(le,{type:"Symbol",tag:ie,description:ce}),n||(le.description=ce),le},fe=t?function(ie){return typeof ie=="symbol"}:function(ie){return Object(ie)instanceof N},Ae=function(ie,ce,le){ie===Q&&Ae($,ce,le),y(ie);var pe=s(ce,!0);return y(le),f(U,pe)?(le.enumerable?(f(ie,q)&&ie[q][pe]&&(ie[q][pe]=!1),le=b(le,{enumerable:x(0,!1)})):(f(ie,q)||F(ie,q,x(1,{})),ie[q][pe]=!0),Ce(ie,pe,le)):F(ie,pe,le)},V=function(ie,ce){y(ie);var le=i(ce),pe=w(le).concat(K(le));return Z(pe,function(Se){n&&!ye.call(le,Se)||Ae(ie,Se,le[Se])}),ie},ye=function(ie){var ce=s(ie,!0),le=B.call(this,ce);return!(this===Q&&f(U,ce)&&!f($,ce))&&(!(le||!f(this,ce)||!f(U,ce)||f(this,q)&&this[q][ce])||le)},ve=function(ie,ce){var le=i(ie),pe=s(ce,!0);if(le!==Q||!f(U,pe)||f($,pe)){var Se=P(le,pe);return!Se||!f(U,pe)||f(le,q)&&le[q][pe]||(Se.enumerable=!0),Se}},he=function(ie){var ce=M(i(ie)),le=[];return Z(ce,function(pe){f(U,pe)||f(W,pe)||le.push(pe)}),le},K=function(ie){var ce=ie===Q,le=M(ce?$:i(ie)),pe=[];return Z(le,function(Se){!f(U,Se)||ce&&!f(Q,Se)||pe.push(U[Se])}),pe};h||(k((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor");var ie=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,ce=L(ie),le=function(pe){this===Q&&le.call($,pe),f(this,q)&&f(this[q],ce)&&(this[q][ce]=!1),Ce(this,ce,x(1,pe))};return n&&de&&Ce(Q,ce,{configurable:!0,set:le}),we(ce,ie)}).prototype,"toString",function(){return ae(this).tag}),k(N,"withoutSetter",function(ie){return we(L(ie),ie)}),O.f=ye,T.f=Ae,A.f=ve,S.f=D.f=he,C.f=K,z.f=function(ie){return we(j(ie),ie)},n&&(F(N.prototype,"description",{configurable:!0,get:function(){return ae(this).description}}),u||k(Q,"propertyIsEnumerable",ye,{unsafe:!0}))),c({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:N}),Z(w(oe),function(ie){H(ie)}),c({target:"Symbol",stat:!0,forced:!h},{for:function(ie){var ce=String(ie);if(f(J,ce))return J[ce];var le=N(ce);return J[ce]=le,ne[le]=ce,le},keyFor:function(ie){if(!fe(ie))throw TypeError(ie+" is not a symbol");if(f(ne,ie))return ne[ie]},useSetter:function(){de=!0},useSimple:function(){de=!1}}),c({target:"Object",stat:!0,forced:!h,sham:!n},{create:function(ie,ce){return ce===void 0?b(ie):V(b(ie),ce)},defineProperty:Ae,defineProperties:V,getOwnPropertyDescriptor:ve}),c({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:he,getOwnPropertySymbols:K}),c({target:"Object",stat:!0,forced:a(function(){C.f(1)})},{getOwnPropertySymbols:function(ie){return C.f(g(ie))}}),E&&c({target:"JSON",stat:!0,forced:!h||a(function(){var ie=N();return E([ie])!="[null]"||E({a:ie})!="{}"||E(Object(ie))!="{}"})},{stringify:function(ie,ce,le){for(var pe,Se=[ie],me=1;arguments.length>me;)Se.push(arguments[me++]);if(pe=ce,(m(ce)||ie!==void 0)&&!fe(ie))return p(ce)||(ce=function(De,Ee){if(typeof pe=="function"&&(Ee=pe.call(this,De,Ee)),!fe(Ee))return Ee}),Se[1]=ce,E.apply(null,Se)}}),N.prototype[ee]||I(N.prototype,ee,N.prototype.valueOf),X(N,"Symbol"),W[q]=!0},function(v,o,r){var c=r(4),d=r(16),l=r(11),u=r(14),n=r(13),h=r(15).f,t=r(119),a=l.Symbol;if(d&&typeof a=="function"&&(!("description"in a.prototype)||a().description!==void 0)){var f={},p=function(){var s=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),x=this instanceof p?new a(s):s===void 0?a():a(s);return s===""&&(f[x]=!0),x};t(p,a);var m=p.prototype=a.prototype;m.constructor=p;var y=m.toString,g=String(a("test"))=="Symbol(test)",i=/^Symbol\((.*)\)[^)]+$/;h(m,"description",{configurable:!0,get:function(){var s=n(this)?this.valueOf():this,x=y.call(s);if(u(f,s))return"";var b=g?x.slice(7,-1):x.replace(i,"$1");return b===""?void 0:b}}),c({global:!0,forced:!0},{Symbol:p})}},function(v,o,r){r(126)("iterator")},function(v,o,r){var c,d=this&&this.__extends||(c=function(g,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,x){s.__proto__=x}||function(s,x){for(var b in x)x.hasOwnProperty(b)&&(s[b]=x[b])})(g,i)},function(g,i){function s(){this.constructor=g}c(g,i),g.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}),l=this&&this.__values||function(g){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&g[i],x=0;if(s)return s.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&x>=g.length&&(g=void 0),{value:g&&g[x++],done:!g}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var u=r(6),n=r(2),h=r(70),t=r(3),a=r(9),f=r(0),p=r(152),m=r(12),y=function(g){function i(){var s=g.call(this)||this;return s._parent=null,s._firstChild=null,s._lastChild=null,s._previousSibling=null,s._nextSibling=null,s}return d(i,g),Object.defineProperty(i.prototype,"_childNodes",{get:function(){return this.__childNodes||(this.__childNodes=f.create_nodeList(this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverride||u.dom.window._associatedDocument},set:function(s){this._nodeDocumentOverride=s},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_registeredObserverList",{get:function(){return this.__registeredObserverList||(this.__registeredObserverList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"nodeType",{get:function(){return this._nodeType},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"nodeName",{get:function(){return t.Guard.isElementNode(this)?this._htmlUppercasedQualifiedName:t.Guard.isAttrNode(this)?this._qualifiedName:t.Guard.isExclusiveTextNode(this)?"#text":t.Guard.isCDATASectionNode(this)?"#cdata-section":t.Guard.isProcessingInstructionNode(this)?this._target:t.Guard.isCommentNode(this)?"#comment":t.Guard.isDocumentNode(this)?"#document":t.Guard.isDocumentTypeNode(this)?this._name:t.Guard.isDocumentFragmentNode(this)?"#document-fragment":""},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"baseURI",{get:function(){return p.urlSerializer(this._nodeDocument._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isConnected",{get:function(){return t.Guard.isElementNode(this)&&f.shadowTree_isConnected(this)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ownerDocument",{get:function(){return this._nodeType===n.NodeType.Document?null:this._nodeDocument},enumerable:!0,configurable:!0}),i.prototype.getRootNode=function(s){return f.tree_rootNode(this,!!s&&s.composed)},Object.defineProperty(i.prototype,"parentNode",{get:function(){return this._nodeType===n.NodeType.Attribute?null:this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"parentElement",{get:function(){return this._parent&&t.Guard.isElementNode(this._parent)?this._parent:null},enumerable:!0,configurable:!0}),i.prototype.hasChildNodes=function(){return this._firstChild!==null},Object.defineProperty(i.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"firstChild",{get:function(){return this._firstChild},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lastChild",{get:function(){return this._lastChild},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"nodeValue",{get:function(){return t.Guard.isAttrNode(this)?this._value:t.Guard.isCharacterDataNode(this)?this._data:null},set:function(s){s===null&&(s=""),t.Guard.isAttrNode(this)?f.attr_setAnExistingAttributeValue(this,s):t.Guard.isCharacterDataNode(this)&&f.characterData_replaceData(this,0,this._data.length,s)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textContent",{get:function(){return t.Guard.isDocumentFragmentNode(this)||t.Guard.isElementNode(this)?f.text_descendantTextContent(this):t.Guard.isAttrNode(this)?this._value:t.Guard.isCharacterDataNode(this)?this._data:null},set:function(s){s===null&&(s=""),t.Guard.isDocumentFragmentNode(this)||t.Guard.isElementNode(this)?f.node_stringReplaceAll(s,this):t.Guard.isAttrNode(this)?f.attr_setAnExistingAttributeValue(this,s):t.Guard.isCharacterDataNode(this)&&f.characterData_replaceData(this,0,f.tree_nodeLength(this),s)},enumerable:!0,configurable:!0}),i.prototype.normalize=function(){for(var s,x,b,w,S=[],D=f.tree_getFirstDescendantNode(this,!1,!1,function(Z){return t.Guard.isExclusiveTextNode(Z)});D!==null;)S.push(D),D=f.tree_getNextDescendantNode(this,D,!1,!1,function(Z){return t.Guard.isExclusiveTextNode(Z)});for(var C=0;C<S.length;C++){var A=S[C];if(A._parent!==null){var T=f.tree_nodeLength(A);if(T!==0){var O=[],I="";try{for(var k=(s=void 0,l(f.text_contiguousExclusiveTextNodes(A))),R=k.next();!R.done;R=k.next()){var G=R.value;O.push(G),I+=G._data}}catch(Z){s={error:Z}}finally{try{R&&!R.done&&(x=k.return)&&x.call(k)}finally{if(s)throw s.error}}if(f.characterData_replaceData(A,T,0,I),u.dom.rangeList.size!==0)for(var W=A._nextSibling;W!==null&&t.Guard.isExclusiveTextNode(W);){var L=W,j=f.tree_index(L);try{for(var z=(b=void 0,l(u.dom.rangeList)),H=z.next();!H.done;H=z.next()){var X=H.value;X._start[0]===L&&(X._start[0]=A,X._start[1]+=T),X._end[0]===L&&(X._end[0]=A,X._end[1]+=T),X._start[0]===L._parent&&X._start[1]===j&&(X._start[0]=A,X._start[1]=T),X._end[0]===L._parent&&X._end[1]===j&&(X._end[0]=A,X._end[1]=T)}}catch(Z){b={error:Z}}finally{try{H&&!H.done&&(w=z.return)&&w.call(z)}finally{if(b)throw b.error}}T+=f.tree_nodeLength(W),W=W._nextSibling}for(var Y=0;Y<O.length;Y++)(G=O[Y])._parent!==null&&f.mutation_remove(G,G._parent)}else f.mutation_remove(A,A._parent)}}},i.prototype.cloneNode=function(s){if(s===void 0&&(s=!1),t.Guard.isShadowRoot(this))throw new a.NotSupportedError;return f.node_clone(this,null,s)},i.prototype.isEqualNode=function(s){return s===void 0&&(s=null),s!==null&&f.node_equals(this,s)},i.prototype.isSameNode=function(s){return s===void 0&&(s=null),this===s},i.prototype.compareDocumentPosition=function(s){if(s===this)return 0;var x=s,b=this,w=null,S=null;if(t.Guard.isAttrNode(x)&&(x=(w=x)._element),t.Guard.isAttrNode(b)&&(b=(S=b)._element,w&&x&&x===b))for(var D=0;D<b._attributeList.length;D++){var C=b._attributeList[D];if(f.node_equals(C,w))return n.Position.ImplementationSpecific|n.Position.Preceding;if(f.node_equals(C,S))return n.Position.ImplementationSpecific|n.Position.Following}return x===null||b===null||f.tree_rootNode(x)!==f.tree_rootNode(b)?n.Position.Disconnected|n.Position.ImplementationSpecific|(u.dom.compareCache.check(this,s)?n.Position.Preceding:n.Position.Following):!w&&f.tree_isAncestorOf(b,x)||S&&x===b?n.Position.Contains|n.Position.Preceding:!S&&f.tree_isDescendantOf(b,x)||w&&x===b?n.Position.ContainedBy|n.Position.Following:f.tree_isPreceding(b,x)?n.Position.Preceding:n.Position.Following},i.prototype.contains=function(s){return s!==null&&f.tree_isDescendantOf(this,s,!0)},i.prototype.lookupPrefix=function(s){return s?t.Guard.isElementNode(this)?f.node_locateANamespacePrefix(this,s):t.Guard.isDocumentNode(this)?this.documentElement===null?null:f.node_locateANamespacePrefix(this.documentElement,s):t.Guard.isDocumentTypeNode(this)||t.Guard.isDocumentFragmentNode(this)?null:t.Guard.isAttrNode(this)?this._element===null?null:f.node_locateANamespacePrefix(this._element,s):this._parent!==null&&t.Guard.isElementNode(this._parent)?f.node_locateANamespacePrefix(this._parent,s):null:null},i.prototype.lookupNamespaceURI=function(s){return f.node_locateANamespace(this,s||null)},i.prototype.isDefaultNamespace=function(s){return s||(s=null),f.node_locateANamespace(this,null)===s},i.prototype.insertBefore=function(s,x){return f.mutation_preInsert(s,this,x)},i.prototype.appendChild=function(s){return f.mutation_append(s,this)},i.prototype.replaceChild=function(s,x){return f.mutation_replace(x,s,this)},i.prototype.removeChild=function(s){return f.mutation_preRemove(s,this)},i.prototype._getTheParent=function(s){return t.Guard.isSlotable(this)&&f.shadowTree_isAssigned(this)?this._assignedSlot:this._parent},i.ELEMENT_NODE=1,i.ATTRIBUTE_NODE=2,i.TEXT_NODE=3,i.CDATA_SECTION_NODE=4,i.ENTITY_REFERENCE_NODE=5,i.ENTITY_NODE=6,i.PROCESSING_INSTRUCTION_NODE=7,i.COMMENT_NODE=8,i.DOCUMENT_NODE=9,i.DOCUMENT_TYPE_NODE=10,i.DOCUMENT_FRAGMENT_NODE=11,i.NOTATION_NODE=12,i.DOCUMENT_POSITION_DISCONNECTED=1,i.DOCUMENT_POSITION_PRECEDING=2,i.DOCUMENT_POSITION_FOLLOWING=4,i.DOCUMENT_POSITION_CONTAINS=8,i.DOCUMENT_POSITION_CONTAINED_BY=16,i.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,i}(h.EventTargetImpl);o.NodeImpl=y,y.prototype._children=new t.EmptySet,m.idl_defineConst(y.prototype,"ELEMENT_NODE",1),m.idl_defineConst(y.prototype,"ATTRIBUTE_NODE",2),m.idl_defineConst(y.prototype,"TEXT_NODE",3),m.idl_defineConst(y.prototype,"CDATA_SECTION_NODE",4),m.idl_defineConst(y.prototype,"ENTITY_REFERENCE_NODE",5),m.idl_defineConst(y.prototype,"ENTITY_NODE",6),m.idl_defineConst(y.prototype,"PROCESSING_INSTRUCTION_NODE",7),m.idl_defineConst(y.prototype,"COMMENT_NODE",8),m.idl_defineConst(y.prototype,"DOCUMENT_NODE",9),m.idl_defineConst(y.prototype,"DOCUMENT_TYPE_NODE",10),m.idl_defineConst(y.prototype,"DOCUMENT_FRAGMENT_NODE",11),m.idl_defineConst(y.prototype,"NOTATION_NODE",12),m.idl_defineConst(y.prototype,"DOCUMENT_POSITION_DISCONNECTED",1),m.idl_defineConst(y.prototype,"DOCUMENT_POSITION_PRECEDING",2),m.idl_defineConst(y.prototype,"DOCUMENT_POSITION_FOLLOWING",4),m.idl_defineConst(y.prototype,"DOCUMENT_POSITION_CONTAINS",8),m.idl_defineConst(y.prototype,"DOCUMENT_POSITION_CONTAINED_BY",16),m.idl_defineConst(y.prototype,"DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC",32)},function(v,o){v.exports=function(r){if(r==null)throw TypeError("Can't call method on "+r);return r}},function(v,o,r){var c=r(87),d=r(41),l=r(27),u=r(26),n=r(128),h=[].push,t=function(a){var f=a==1,p=a==2,m=a==3,y=a==4,g=a==6,i=a==5||g;return function(s,x,b,w){for(var S,D,C=l(s),A=d(C),T=c(x,b,3),O=u(A.length),I=0,k=w||n,R=f?k(s,O):p?k(s,0):void 0;O>I;I++)if((i||I in A)&&(D=T(S=A[I],I,C),a)){if(f)R[I]=D;else if(D)switch(a){case 3:return!0;case 5:return S;case 6:return I;case 2:h.call(R,S)}else if(y)return!1}return g?-1:m||y?y:R}};v.exports={forEach:t(0),map:t(1),filter:t(2),some:t(3),every:t(4),find:t(5),findIndex:t(6)}},function(v,o,r){var c=this&&this.__values||function(C){var A=typeof Symbol=="function"&&Symbol.iterator,T=A&&C[A],O=0;if(T)return T.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&O>=C.length&&(C=void 0),{value:C&&C[O++],done:!C}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__read||function(C,A){var T=typeof Symbol=="function"&&C[Symbol.iterator];if(!T)return C;var O,I,k=T.call(C),R=[];try{for(;(A===void 0||A-- >0)&&!(O=k.next()).done;)R.push(O.value)}catch(G){I={error:G}}finally{try{O&&!O.done&&(T=k.return)&&T.call(k)}finally{if(I)throw I.error}}return R},l=this&&this.__spread||function(){for(var C=[],A=0;A<arguments.length;A++)C=C.concat(d(arguments[A]));return C};Object.defineProperty(o,"__esModule",{value:!0});var u=r(6),n=r(9),h=r(2),t=r(3),a=r(1),f=r(7),p=r(73),m=r(17),y=r(172),g=r(72),i=r(51),s=r(30),x=r(106);function b(C,A,T){var O,I,k,R,G,W,L,j,z=A._nodeType,H=C._nodeType,X=T?T._nodeType:null;if(z!==h.NodeType.Document&&z!==h.NodeType.DocumentFragment&&z!==h.NodeType.Element)throw new n.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+A.nodeName+".");if(m.tree_isHostIncludingAncestorOf(A,C,!0))throw new n.HierarchyRequestError("The node to be inserted cannot be an inclusive ancestor of parent node. Node is "+C.nodeName+", parent node is "+A.nodeName+".");if(T!==null&&T._parent!==A)throw new n.NotFoundError("The reference child node cannot be found under parent node. Child node is "+T.nodeName+", parent node is "+A.nodeName+".");if(H!==h.NodeType.DocumentFragment&&H!==h.NodeType.DocumentType&&H!==h.NodeType.Element&&H!==h.NodeType.Text&&H!==h.NodeType.ProcessingInstruction&&H!==h.NodeType.CData&&H!==h.NodeType.Comment)throw new n.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+C.nodeName+".");if(H===h.NodeType.Text&&z===h.NodeType.Document)throw new n.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+C.nodeName+".");if(H===h.NodeType.DocumentType&&z!==h.NodeType.Document)throw new n.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+A.nodeName+".");if(z===h.NodeType.Document){if(H===h.NodeType.DocumentFragment){var Y=0;try{for(var Z=c(C._children),q=Z.next();!q.done;q=Z.next()){var ee=q.value;if(ee._nodeType===h.NodeType.Element)Y++;else if(ee._nodeType===h.NodeType.Text)throw new n.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+ee.nodeName+".")}}catch(B){O={error:B}}finally{try{q&&!q.done&&(I=Z.return)&&I.call(Z)}finally{if(O)throw O.error}}if(Y>1)throw new n.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+Y+" element nodes.");if(Y===1){try{for(var re=c(A._children),ae=re.next();!ae.done;ae=re.next())if(ae.value._nodeType===h.NodeType.Element)throw new n.HierarchyRequestError("The document node already has a document element node.")}catch(B){k={error:B}}finally{try{ae&&!ae.done&&(R=re.return)&&R.call(re)}finally{if(k)throw k.error}}if(T){if(X===h.NodeType.DocumentType)throw new n.HierarchyRequestError("Cannot insert an element node before a document type node.");for(var Q=T._nextSibling;Q;){if(Q._nodeType===h.NodeType.DocumentType)throw new n.HierarchyRequestError("Cannot insert an element node before a document type node.");Q=Q._nextSibling}}}}else if(H===h.NodeType.Element){try{for(var N=c(A._children),E=N.next();!E.done;E=N.next())if(E.value._nodeType===h.NodeType.Element)throw new n.HierarchyRequestError("Document already has a document element node. Node is "+C.nodeName+".")}catch(B){G={error:B}}finally{try{E&&!E.done&&(W=N.return)&&W.call(N)}finally{if(G)throw G.error}}if(T){if(X===h.NodeType.DocumentType)throw new n.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+C.nodeName+".");for(Q=T._nextSibling;Q;){if(Q._nodeType===h.NodeType.DocumentType)throw new n.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+C.nodeName+".");Q=Q._nextSibling}}}else if(H===h.NodeType.DocumentType){try{for(var P=c(A._children),F=P.next();!F.done;F=P.next())if(F.value._nodeType===h.NodeType.DocumentType)throw new n.HierarchyRequestError("Document already has a document type node. Node is "+C.nodeName+".")}catch(B){L={error:B}}finally{try{F&&!F.done&&(j=P.return)&&j.call(P)}finally{if(L)throw L.error}}if(T)for(var M=T._previousSibling;M;){if(M._nodeType===h.NodeType.Element)throw new n.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+C.nodeName+".");M=M._previousSibling}else for(M=A._firstChild;M;){if(M._nodeType===h.NodeType.Element)throw new n.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+C.nodeName+".");M=M._nextSibling}}}}function w(C,A,T){b(C,A,T);var O=T;return O===C&&(O=C._nextSibling),x.document_adopt(C,A._nodeDocument),S(C,A,O),C}function S(C,A,T,O){var I,k;if(T!==null||C._nodeType===h.NodeType.DocumentFragment){var R=C._nodeType===h.NodeType.DocumentFragment?C._children.size:1;if(T!==null&&u.dom.rangeList.size!==0){var G=m.tree_index(T);try{for(var W=c(u.dom.rangeList),L=W.next();!L.done;L=W.next()){var j=L.value;j._start[0]===A&&j._start[1]>G&&(j._start[1]+=R),j._end[0]===A&&j._end[1]>G&&(j._end[1]+=R)}}catch(ae){I={error:ae}}finally{try{L&&!L.done&&(k=W.return)&&k.call(W)}finally{if(I)throw I.error}}}var z=C._nodeType===h.NodeType.DocumentFragment?new(Array.bind.apply(Array,l([void 0],C._children))):[C];if(C._nodeType===h.NodeType.DocumentFragment)for(;C._firstChild;)D(C._firstChild,C,!0);u.dom.features.mutationObservers&&C._nodeType===h.NodeType.DocumentFragment&&i.observer_queueTreeMutationRecord(C,[],z,null,null);for(var H=T?T._previousSibling:A._lastChild,X=T===null?-1:m.tree_index(T),Y=0;Y<z.length;Y++){var Z=z[Y];if(t.Guard.isElementNode(Z)&&(t.Guard.isDocumentNode(A)&&(A._documentElement=Z),Z._nodeDocument._hasNamespaces||Z._namespace===null&&Z._namespacePrefix===null||(Z._nodeDocument._hasNamespaces=!0)),Z._parent=A,T===null?f.set.append(A._children,Z):(f.set.insert(A._children,Z,X),X++),A._firstChild===null)Z._previousSibling=null,Z._nextSibling=null,A._firstChild=Z,A._lastChild=Z;else{var q=T?T._previousSibling:A._lastChild,ee=T||null;Z._previousSibling=q,Z._nextSibling=ee,q&&(q._nextSibling=Z),ee&&(ee._previousSibling=Z),q||(A._firstChild=Z),ee||(A._lastChild=Z)}u.dom.features.slots&&A._shadowRoot!==null&&t.Guard.isSlotable(Z)&&g.shadowTree_assignASlot(Z),u.dom.features.steps&&t.Guard.isTextNode(Z)&&s.dom_runChildTextContentChangeSteps(A),u.dom.features.slots&&t.Guard.isShadowRoot(m.tree_rootNode(A))&&t.Guard.isSlot(A)&&a.isEmpty(A._assignedNodes)&&g.shadowTree_signalASlotChange(A),u.dom.features.slots&&g.shadowTree_assignSlotablesForATree(m.tree_rootNode(Z));for(var re=m.tree_getFirstDescendantNode(Z,!0,!0);re!==null;)u.dom.features.steps&&s.dom_runInsertionSteps(re),u.dom.features.customElements&&t.Guard.isElementNode(re)&&g.shadowTree_isConnected(re)&&(t.Guard.isCustomElementNode(re)?p.customElement_enqueueACustomElementCallbackReaction(re,"connectedCallback",[]):p.customElement_tryToUpgrade(re)),re=m.tree_getNextDescendantNode(Z,re,!0,!0)}u.dom.features.mutationObservers&&(O||i.observer_queueTreeMutationRecord(A,z,[],H,T))}else(function(ae,Q,N){var E=Q._lastChild;if(t.Guard.isElementNode(ae)&&(t.Guard.isDocumentNode(Q)&&(Q._documentElement=ae),ae._nodeDocument._hasNamespaces||ae._namespace===null&&ae._namespacePrefix===null||(ae._nodeDocument._hasNamespaces=!0)),ae._parent=Q,Q._children.add(ae),Q._firstChild===null)ae._previousSibling=null,ae._nextSibling=null,Q._firstChild=ae,Q._lastChild=ae;else{var P=Q._lastChild;ae._previousSibling=P,ae._nextSibling=null,P&&(P._nextSibling=ae),P||(Q._firstChild=ae),Q._lastChild=ae}u.dom.features.slots&&Q._shadowRoot!==null&&t.Guard.isSlotable(ae)&&g.shadowTree_assignASlot(ae),u.dom.features.steps&&t.Guard.isTextNode(ae)&&s.dom_runChildTextContentChangeSteps(Q),u.dom.features.slots&&t.Guard.isShadowRoot(m.tree_rootNode(Q))&&t.Guard.isSlot(Q)&&a.isEmpty(Q._assignedNodes)&&g.shadowTree_signalASlotChange(Q),u.dom.features.slots&&g.shadowTree_assignSlotablesForATree(m.tree_rootNode(ae)),u.dom.features.steps&&s.dom_runInsertionSteps(ae),u.dom.features.customElements&&t.Guard.isElementNode(ae)&&g.shadowTree_isConnected(ae)&&(t.Guard.isCustomElementNode(ae)?p.customElement_enqueueACustomElementCallbackReaction(ae,"connectedCallback",[]):p.customElement_tryToUpgrade(ae)),u.dom.features.mutationObservers&&(N||i.observer_queueTreeMutationRecord(Q,[ae],[],E,null))})(C,A,O)}function D(C,A,T){var O,I,k,R,G,W,L,j;if(u.dom.rangeList.size!==0){var z=m.tree_index(C);try{for(var H=c(u.dom.rangeList),X=H.next();!X.done;X=H.next()){var Y=X.value;m.tree_isDescendantOf(C,Y._start[0],!0)&&(Y._start=[A,z]),m.tree_isDescendantOf(C,Y._end[0],!0)&&(Y._end=[A,z]),Y._start[0]===A&&Y._start[1]>z&&Y._start[1]--,Y._end[0]===A&&Y._end[1]>z&&Y._end[1]--}}catch(J){O={error:J}}finally{try{X&&!X.done&&(I=H.return)&&I.call(H)}finally{if(O)throw O.error}}try{for(var Z=c(u.dom.rangeList),q=Z.next();!q.done;q=Z.next())(Y=q.value)._start[0]===A&&Y._start[1]>z&&(Y._start[1]-=1),Y._end[0]===A&&Y._end[1]>z&&(Y._end[1]-=1)}catch(J){k={error:J}}finally{try{q&&!q.done&&(R=Z.return)&&R.call(Z)}finally{if(k)throw k.error}}}if(u.dom.features.steps)try{for(var ee=c(y.nodeIterator_iteratorList()),re=ee.next();!re.done;re=ee.next()){var ae=re.value;ae._root._nodeDocument===C._nodeDocument&&s.dom_runNodeIteratorPreRemovingSteps(ae,C)}}catch(J){G={error:J}}finally{try{re&&!re.done&&(W=ee.return)&&W.call(ee)}finally{if(G)throw G.error}}var Q=C._previousSibling,N=C._nextSibling;t.Guard.isDocumentNode(A)&&t.Guard.isElementNode(C)&&(A._documentElement=null),C._parent=null,A._children.delete(C);var E=C._previousSibling,P=C._nextSibling;C._previousSibling=null,C._nextSibling=null,E&&(E._nextSibling=P),P&&(P._previousSibling=E),E||(A._firstChild=P),P||(A._lastChild=E),u.dom.features.slots&&t.Guard.isSlotable(C)&&C._assignedSlot!==null&&g.shadowTree_isAssigned(C)&&g.shadowTree_assignSlotables(C._assignedSlot),u.dom.features.slots&&t.Guard.isShadowRoot(m.tree_rootNode(A))&&t.Guard.isSlot(A)&&a.isEmpty(A._assignedNodes)&&g.shadowTree_signalASlotChange(A),u.dom.features.slots&&m.tree_getFirstDescendantNode(C,!0,!1,function(J){return t.Guard.isSlot(J)})!==null&&(g.shadowTree_assignSlotablesForATree(m.tree_rootNode(A)),g.shadowTree_assignSlotablesForATree(C)),u.dom.features.steps&&s.dom_runRemovingSteps(C,A),u.dom.features.customElements&&t.Guard.isCustomElementNode(C)&&p.customElement_enqueueACustomElementCallbackReaction(C,"disconnectedCallback",[]);for(var F=m.tree_getFirstDescendantNode(C,!1,!0);F!==null;)u.dom.features.steps&&s.dom_runRemovingSteps(F,C),u.dom.features.customElements&&t.Guard.isCustomElementNode(F)&&p.customElement_enqueueACustomElementCallbackReaction(F,"disconnectedCallback",[]),F=m.tree_getNextDescendantNode(C,F,!1,!0);if(u.dom.features.mutationObservers)for(var M=m.tree_getFirstAncestorNode(A,!0);M!==null;){try{for(var B=(L=void 0,c(M._registeredObserverList)),U=B.next();!U.done;U=B.next()){var $=U.value;$.options.subtree&&C._registeredObserverList.push({observer:$.observer,options:$.options,source:$})}}catch(J){L={error:J}}finally{try{U&&!U.done&&(j=B.return)&&j.call(B)}finally{if(L)throw L.error}}M=m.tree_getNextAncestorNode(A,M,!0)}u.dom.features.mutationObservers&&(T||i.observer_queueTreeMutationRecord(A,[],[C],Q,N)),u.dom.features.steps&&t.Guard.isTextNode(C)&&s.dom_runChildTextContentChangeSteps(A)}o.mutation_ensurePreInsertionValidity=b,o.mutation_preInsert=w,o.mutation_insert=S,o.mutation_append=function(C,A){return w(C,A,null)},o.mutation_replace=function(C,A,T){var O,I,k,R,G,W,L,j;if(T._nodeType!==h.NodeType.Document&&T._nodeType!==h.NodeType.DocumentFragment&&T._nodeType!==h.NodeType.Element)throw new n.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+T.nodeName+".");if(m.tree_isHostIncludingAncestorOf(T,A,!0))throw new n.HierarchyRequestError("The node to be inserted cannot be an ancestor of parent node. Node is "+A.nodeName+", parent node is "+T.nodeName+".");if(C._parent!==T)throw new n.NotFoundError("The reference child node cannot be found under parent node. Child node is "+C.nodeName+", parent node is "+T.nodeName+".");if(A._nodeType!==h.NodeType.DocumentFragment&&A._nodeType!==h.NodeType.DocumentType&&A._nodeType!==h.NodeType.Element&&A._nodeType!==h.NodeType.Text&&A._nodeType!==h.NodeType.ProcessingInstruction&&A._nodeType!==h.NodeType.CData&&A._nodeType!==h.NodeType.Comment)throw new n.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+A.nodeName+".");if(A._nodeType===h.NodeType.Text&&T._nodeType===h.NodeType.Document)throw new n.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+A.nodeName+".");if(A._nodeType===h.NodeType.DocumentType&&T._nodeType!==h.NodeType.Document)throw new n.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+T.nodeName+".");if(T._nodeType===h.NodeType.Document){if(A._nodeType===h.NodeType.DocumentFragment){var z=0;try{for(var H=c(A._children),X=H.next();!X.done;X=H.next()){var Y=X.value;if(Y._nodeType===h.NodeType.Element)z++;else if(Y._nodeType===h.NodeType.Text)throw new n.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+Y.nodeName+".")}}catch($){O={error:$}}finally{try{X&&!X.done&&(I=H.return)&&I.call(H)}finally{if(O)throw O.error}}if(z>1)throw new n.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+z+" element nodes.");if(z===1){try{for(var Z=c(T._children),q=Z.next();!q.done;q=Z.next())if((E=q.value)._nodeType===h.NodeType.Element&&E!==C)throw new n.HierarchyRequestError("The document node already has a document element node.")}catch($){k={error:$}}finally{try{q&&!q.done&&(R=Z.return)&&R.call(Z)}finally{if(k)throw k.error}}for(var ee=C._nextSibling;ee;){if(ee._nodeType===h.NodeType.DocumentType)throw new n.HierarchyRequestError("Cannot insert an element node before a document type node.");ee=ee._nextSibling}}}else if(A._nodeType===h.NodeType.Element){try{for(var re=c(T._children),ae=re.next();!ae.done;ae=re.next())if((E=ae.value)._nodeType===h.NodeType.Element&&E!==C)throw new n.HierarchyRequestError("Document already has a document element node. Node is "+A.nodeName+".")}catch($){G={error:$}}finally{try{ae&&!ae.done&&(W=re.return)&&W.call(re)}finally{if(G)throw G.error}}for(ee=C._nextSibling;ee;){if(ee._nodeType===h.NodeType.DocumentType)throw new n.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+A.nodeName+".");ee=ee._nextSibling}}else if(A._nodeType===h.NodeType.DocumentType){try{for(var Q=c(T._children),N=Q.next();!N.done;N=Q.next()){var E;if((E=N.value)._nodeType===h.NodeType.DocumentType&&E!==C)throw new n.HierarchyRequestError("Document already has a document type node. Node is "+A.nodeName+".")}}catch($){L={error:$}}finally{try{N&&!N.done&&(j=Q.return)&&j.call(Q)}finally{if(L)throw L.error}}for(var P=C._previousSibling;P;){if(P._nodeType===h.NodeType.Element)throw new n.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+A.nodeName+".");P=P._previousSibling}}}var F=C._nextSibling;F===A&&(F=A._nextSibling);var M=C._previousSibling;x.document_adopt(A,T._nodeDocument);var B=[];C._parent!==null&&(B.push(C),D(C,C._parent,!0));var U=[];return A._nodeType===h.NodeType.DocumentFragment?U=Array.from(A._children):U.push(A),S(A,T,F,!0),u.dom.features.mutationObservers&&i.observer_queueTreeMutationRecord(T,U,B,M,F),C},o.mutation_replaceAll=function(C,A){var T,O;C!==null&&x.document_adopt(C,A._nodeDocument);var I=Array.from(A._children),k=[];C&&C._nodeType===h.NodeType.DocumentFragment?k=Array.from(C._children):C!==null&&k.push(C);try{for(var R=c(I),G=R.next();!G.done;G=R.next())D(G.value,A,!0)}catch(W){T={error:W}}finally{try{G&&!G.done&&(O=R.return)&&O.call(R)}finally{if(T)throw T.error}}C!==null&&S(C,A,null,!0),u.dom.features.mutationObservers&&i.observer_queueTreeMutationRecord(A,k,I,null,null)},o.mutation_preRemove=function(C,A){if(C._parent!==A)throw new n.NotFoundError("The child node cannot be found under parent node. Child node is "+C.nodeName+", parent node is "+A.nodeName+".");return D(C,A),C},o.mutation_remove=D},function(v,o,r){function c(d){return d==null}v.exports.isNothing=c,v.exports.isObject=function(d){return typeof d=="object"&&d!==null},v.exports.toArray=function(d){return Array.isArray(d)?d:c(d)?[]:[d]},v.exports.repeat=function(d,l){var u,n="";for(u=0;u<l;u+=1)n+=d;return n},v.exports.isNegativeZero=function(d){return d===0&&Number.NEGATIVE_INFINITY===1/d},v.exports.extend=function(d,l){var u,n,h,t;if(l)for(u=0,n=(t=Object.keys(l)).length;u<n;u+=1)d[h=t[u]]=l[h];return d}},function(v,o,r){var c=r(38),d=r(53),l=r(10);function u(h,t,a){var f=[];return h.include.forEach(function(p){a=u(p,t,a)}),h[t].forEach(function(p){a.forEach(function(m,y){m.tag===p.tag&&m.kind===p.kind&&f.push(y)}),a.push(p)}),a.filter(function(p,m){return f.indexOf(m)===-1})}function n(h){this.include=h.include||[],this.implicit=h.implicit||[],this.explicit=h.explicit||[],this.implicit.forEach(function(t){if(t.loadKind&&t.loadKind!=="scalar")throw new d("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=u(this,"implicit",[]),this.compiledExplicit=u(this,"explicit",[]),this.compiledTypeMap=function(){var t,a,f={scalar:{},sequence:{},mapping:{},fallback:{}};function p(m){f[m.kind][m.tag]=f.fallback[m.tag]=m}for(t=0,a=arguments.length;t<a;t+=1)arguments[t].forEach(p);return f}(this.compiledImplicit,this.compiledExplicit)}n.DEFAULT=null,n.create=function(){var h,t;switch(arguments.length){case 1:h=n.DEFAULT,t=arguments[0];break;case 2:h=arguments[0],t=arguments[1];break;default:throw new d("Wrong number of arguments for Schema.create function")}if(h=c.toArray(h),t=c.toArray(t),!h.every(function(a){return a instanceof n}))throw new d("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every(function(a){return a instanceof l}))throw new d("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new n({include:h,explicit:t})},v.exports=n},function(v,o){v.exports=function(r,c){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:c}}},function(v,o,r){var c=r(8),d=r(42),l="".split;v.exports=c(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return d(u)=="String"?l.call(u,""):Object(u)}:Object},function(v,o){var r={}.toString;v.exports=function(c){return r.call(c).slice(8,-1)}},function(v,o,r){var c,d,l,u=r(186),n=r(11),h=r(13),t=r(21),a=r(14),f=r(57),p=r(45),m=n.WeakMap;if(u){var y=new m,g=y.get,i=y.has,s=y.set;c=function(b,w){return s.call(y,b,w),w},d=function(b){return g.call(y,b)||{}},l=function(b){return i.call(y,b)}}else{var x=f("state");p[x]=!0,c=function(b,w){return t(b,x,w),w},d=function(b){return a(b,x)?b[x]:{}},l=function(b){return a(b,x)}}v.exports={set:c,get:d,has:l,enforce:function(b){return l(b)?d(b):c(b,{})},getterFor:function(b){return function(w){var S;if(!h(w)||(S=d(w)).type!==b)throw TypeError("Incompatible receiver, "+b+" required");return S}}}},function(v,o){v.exports=!1},function(v,o){v.exports={}},function(v,o,r){var c=r(120),d=r(11),l=function(u){return typeof u=="function"?u:void 0};v.exports=function(u,n){return arguments.length<2?l(c[u])||l(d[u]):c[u]&&c[u][n]||d[u]&&d[u][n]}},function(v,o){var r=Math.ceil,c=Math.floor;v.exports=function(d){return isNaN(d=+d)?0:(d>0?c:r)(d)}},function(v,o,r){var c=r(8);v.exports=function(d,l){var u=[][d];return!!u&&c(function(){u.call(null,l||function(){throw 1},1)})}},function(v,o){v.exports={}},function(v,o,r){r(31),r(32),r(33),r(220),r(64),r(19),r(65),r(20),r(68),r(66),r(92),r(144),r(22),r(94),r(23);var c=this&&this.__values||function(p){var m=typeof Symbol=="function"&&Symbol.iterator,y=m&&p[m],g=0;if(y)return y.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&g>=p.length&&(p=void 0),{value:p&&p[g++],done:!p}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__read||function(p,m){var y=typeof Symbol=="function"&&p[Symbol.iterator];if(!y)return p;var g,i,s=y.call(p),x=[];try{for(;(m===void 0||m-- >0)&&!(g=s.next()).done;)x.push(g.value)}catch(b){i={error:b}}finally{try{g&&!g.done&&(y=s.return)&&y.call(s)}finally{if(i)throw i.error}}return x},l=this&&this.__spread||function(){for(var p=[],m=0;m<arguments.length;m++)p=p.concat(d(arguments[m]));return p};Object.defineProperty(o,"__esModule",{value:!0});var u=r(2),n=r(69),h=r(95),t=r(7),a=r(0),f=function(){function p(m){this.level=0,this._builderOptions=m}return p.prototype.declaration=function(m,y,g){},p.prototype.docType=function(m,y,g){},p.prototype.comment=function(m){},p.prototype.text=function(m){},p.prototype.instruction=function(m,y){},p.prototype.cdata=function(m){},p.prototype.openTagBegin=function(m){},p.prototype.openTagEnd=function(m,y,g){},p.prototype.closeTag=function(m){},p.prototype.attributes=function(m){var y,g;try{for(var i=c(m),s=i.next();!s.done;s=i.next()){var x=s.value;this.attribute(x[1]===null?x[2]:x[1]+":"+x[2],x[3])}}catch(b){y={error:b}}finally{try{s&&!s.done&&(g=i.return)&&g.call(i)}finally{if(y)throw y.error}}},p.prototype.attribute=function(m,y){},p.prototype.beginElement=function(m){},p.prototype.endElement=function(m){},p.prototype.serializeNode=function(m,y){var g=m._nodeDocument!==void 0&&m._nodeDocument._hasNamespaces;if(this.level=0,this.currentNode=m,g){var i=new h.NamespacePrefixMap;i.set("xml",t.namespace.XML),this._serializeNodeNS(m,null,i,{value:1},y)}else this._serializeNode(m,y)},p.prototype._serializeNodeNS=function(m,y,g,i,s){switch(this.currentNode=m,m.nodeType){case u.NodeType.Element:this._serializeElementNS(m,y,g,i,s);break;case u.NodeType.Document:this._serializeDocumentNS(m,y,g,i,s);break;case u.NodeType.Comment:this._serializeComment(m,s);break;case u.NodeType.Text:this._serializeText(m,s);break;case u.NodeType.DocumentFragment:this._serializeDocumentFragmentNS(m,y,g,i,s);break;case u.NodeType.DocumentType:this._serializeDocumentType(m,s);break;case u.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(m,s);break;case u.NodeType.CData:this._serializeCData(m,s);break;default:throw new Error("Unknown node type: "+m.nodeType)}},p.prototype._serializeNode=function(m,y){switch(this.currentNode=m,m.nodeType){case u.NodeType.Element:this._serializeElement(m,y);break;case u.NodeType.Document:this._serializeDocument(m,y);break;case u.NodeType.Comment:this._serializeComment(m,y);break;case u.NodeType.Text:this._serializeText(m,y);break;case u.NodeType.DocumentFragment:this._serializeDocumentFragment(m,y);break;case u.NodeType.DocumentType:this._serializeDocumentType(m,y);break;case u.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(m,y);break;case u.NodeType.CData:this._serializeCData(m,y);break;default:throw new Error("Unknown node type: "+m.nodeType)}},p.prototype._serializeElementNS=function(m,y,g,i,s){var x,b,w=[];if(s&&(m.localName.indexOf(":")!==-1||!a.xml_isName(m.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var S="",D=!1,C=!1,A=g.copy(),T={},O=this._recordNamespaceInformation(m,A,T),I=y,k=m.namespaceURI;if(I===k)O!==null&&(C=!0),S=k===t.namespace.XML?"xml:"+m.localName:m.localName,this.beginElement(S),this.openTagBegin(S);else{var R=m.prefix,G=null;if(R===null&&k===O||(G=A.get(R,k)),R==="xmlns"){if(s)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");G=R}G!==null?(S=G+":"+m.localName,O!==null&&O!==t.namespace.XML&&(I=O||null),this.beginElement(S),this.openTagBegin(S)):R!==null?(R in T&&(R=this._generatePrefix(k,A,i)),A.set(R,k),S+=R+":"+m.localName,this.beginElement(S),this.openTagBegin(S),w.push([null,"xmlns",R,this._serializeAttributeValue(k,s)]),O!==null&&(I=O||null)):O===null||O!==null&&O!==k?(C=!0,S+=m.localName,I=k,this.beginElement(S),this.openTagBegin(S),w.push([null,null,"xmlns",this._serializeAttributeValue(k,s)])):(S+=m.localName,I=k,this.beginElement(S),this.openTagBegin(S))}w.push.apply(w,l(this._serializeAttributesNS(m,A,i,T,C,s))),this.attributes(w);var W=k===t.namespace.HTML;if(W&&m.childNodes.length===0&&p._VoidElementNames.has(m.localName)?(this.openTagEnd(S,!0,!0),this.endElement(S),D=!0):W||m.childNodes.length!==0?this.openTagEnd(S,!1,!1):(this.openTagEnd(S,!0,!1),this.endElement(S),D=!0),!D){if(!(W&&m.localName==="template"))try{for(var L=c(m.childNodes),j=L.next();!j.done;j=L.next()){var z=j.value;this.level++,this._serializeNodeNS(z,I,A,i,s),this.level--}}catch(H){x={error:H}}finally{try{j&&!j.done&&(b=L.return)&&b.call(L)}finally{if(x)throw x.error}}this.closeTag(S),this.endElement(S)}},p.prototype._serializeElement=function(m,y){var g,i;if(y&&(m.localName.indexOf(":")!==-1||!a.xml_isName(m.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var s=!1,x=m.localName;this.beginElement(x),this.openTagBegin(x);var b=this._serializeAttributes(m,y);if(this.attributes(b),m.hasChildNodes()?this.openTagEnd(x,!1,!1):(this.openTagEnd(x,!0,!1),this.endElement(x),s=!0),!s){try{for(var w=c(m._children),S=w.next();!S.done;S=w.next()){var D=S.value;this.level++,this._serializeNode(D,y),this.level--}}catch(C){g={error:C}}finally{try{S&&!S.done&&(i=w.return)&&i.call(w)}finally{if(g)throw g.error}}this.closeTag(x),this.endElement(x)}},p.prototype._serializeDocumentNS=function(m,y,g,i,s){var x,b;if(s&&m.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var w=c(m.childNodes),S=w.next();!S.done;S=w.next()){var D=S.value;this._serializeNodeNS(D,y,g,i,s)}}catch(C){x={error:C}}finally{try{S&&!S.done&&(b=w.return)&&b.call(w)}finally{if(x)throw x.error}}},p.prototype._serializeDocument=function(m,y){var g,i;if(y&&m.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var s=c(m._children),x=s.next();!x.done;x=s.next()){var b=x.value;this._serializeNode(b,y)}}catch(w){g={error:w}}finally{try{x&&!x.done&&(i=s.return)&&i.call(s)}finally{if(g)throw g.error}}},p.prototype._serializeComment=function(m,y){if(y&&(!a.xml_isLegalChar(m.data)||m.data.indexOf("--")!==-1||m.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");this.comment(m.data)},p.prototype._serializeText=function(m,y){if(y&&!a.xml_isLegalChar(m.data))throw new Error("Text data contains invalid characters (well-formed required).");var g=m.data.replace(/(?!&([^&;]*);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.text(g)},p.prototype._serializeDocumentFragmentNS=function(m,y,g,i,s){var x,b;try{for(var w=c(m.childNodes),S=w.next();!S.done;S=w.next()){var D=S.value;this._serializeNodeNS(D,y,g,i,s)}}catch(C){x={error:C}}finally{try{S&&!S.done&&(b=w.return)&&b.call(w)}finally{if(x)throw x.error}}},p.prototype._serializeDocumentFragment=function(m,y){var g,i;try{for(var s=c(m._children),x=s.next();!x.done;x=s.next()){var b=x.value;this._serializeNode(b,y)}}catch(w){g={error:w}}finally{try{x&&!x.done&&(i=s.return)&&i.call(s)}finally{if(g)throw g.error}}},p.prototype._serializeDocumentType=function(m,y){if(y&&!a.xml_isPubidChar(m.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(y&&(!a.xml_isLegalChar(m.systemId)||m.systemId.indexOf('"')!==-1&&m.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");this.docType(m.name,m.publicId,m.systemId)},p.prototype._serializeProcessingInstruction=function(m,y){if(y&&(m.target.indexOf(":")!==-1||/^xml$/i.test(m.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(y&&(!a.xml_isLegalChar(m.data)||m.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");this.instruction(m.target,m.data)},p.prototype._serializeCData=function(m,y){if(y&&m.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");this.cdata(m.data)},p.prototype._serializeAttributesNS=function(m,y,g,i,s,x){var b,w,S=[],D=x?new n.LocalNameSet:void 0;try{for(var C=c(m.attributes),A=C.next();!A.done;A=C.next()){var T=A.value;if(x||s||T.namespaceURI!==null){if(x&&D&&D.has(T.namespaceURI,T.localName))throw new Error("Element contains duplicate attributes (well-formed required).");x&&D&&D.set(T.namespaceURI,T.localName);var O=T.namespaceURI,I=null;if(O!==null)if(I=y.get(T.prefix,O),O===t.namespace.XMLNS){if(T.value===t.namespace.XML||T.prefix===null&&s||T.prefix!==null&&(!(T.localName in i)||i[T.localName]!==T.value)&&y.has(T.localName,T.value))continue;if(x&&T.value===t.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(x&&T.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");T.prefix==="xmlns"&&(I="xmlns")}else I===null&&(I=T.prefix===null||y.hasPrefix(T.prefix)&&!y.has(T.prefix,O)?this._generatePrefix(O,y,g):T.prefix,S.push([null,"xmlns",I,this._serializeAttributeValue(O,x)]));if(x&&(T.localName.indexOf(":")!==-1||!a.xml_isName(T.localName)||T.localName==="xmlns"&&O===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");S.push([O,I,T.localName,this._serializeAttributeValue(T.value,x)])}else S.push([null,null,T.localName,this._serializeAttributeValue(T.value,x)])}}catch(k){b={error:k}}finally{try{A&&!A.done&&(w=C.return)&&w.call(C)}finally{if(b)throw b.error}}return S},p.prototype._serializeAttributes=function(m,y){var g,i,s=[],x=y?{}:void 0;try{for(var b=c(m.attributes),w=b.next();!w.done;w=b.next()){var S=w.value;if(y){if(y&&x&&S.localName in x)throw new Error("Element contains duplicate attributes (well-formed required).");if(y&&x&&(x[S.localName]=!0),y&&(S.localName.indexOf(":")!==-1||!a.xml_isName(S.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");s.push([null,null,S.localName,this._serializeAttributeValue(S.value,y)])}else s.push([null,null,S.localName,this._serializeAttributeValue(S.value,y)])}}catch(D){g={error:D}}finally{try{w&&!w.done&&(i=b.return)&&i.call(b)}finally{if(g)throw g.error}}return s},p.prototype._recordNamespaceInformation=function(m,y,g){var i,s,x=null;try{for(var b=c(m.attributes),w=b.next();!w.done;w=b.next()){var S=w.value,D=S.namespaceURI,C=S.prefix;if(D===t.namespace.XMLNS){if(C===null){x=S.value;continue}var A=S.localName,T=S.value;if(T===t.namespace.XML||(T===""&&(T=null),y.has(A,T)))continue;y.set(A,T),g[A]=T||""}}}catch(O){i={error:O}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(i)throw i.error}}return x},p.prototype._generatePrefix=function(m,y,g){var i="ns"+g.value.toString();return g.value++,y.set(i,m),i},p.prototype._serializeAttributeValue=function(m,y){if(y&&m!==null&&!a.xml_isLegalChar(m))throw new Error("Invalid characters in attribute value.");return m===null?"":m.replace(/(?!&([^&;]*);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},p._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),p}();o.BaseWriter=f},function(v,o,r){var c=this&&this.__values||function(y){var g=typeof Symbol=="function"&&Symbol.iterator,i=g&&y[g],s=0;if(i)return i.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&s>=y.length&&(y=void 0),{value:y&&y[s++],done:!y}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__read||function(y,g){var i=typeof Symbol=="function"&&y[Symbol.iterator];if(!i)return y;var s,x,b=i.call(y),w=[];try{for(;(g===void 0||g-- >0)&&!(s=b.next()).done;)w.push(s.value)}catch(S){x={error:S}}finally{try{s&&!s.done&&(i=b.return)&&i.call(b)}finally{if(x)throw x.error}}return w};Object.defineProperty(o,"__esModule",{value:!0});var l=r(6),u=r(3),n=r(7),h=r(29),t=r(17),a=r(97);function f(){var y=l.dom.window;y._mutationObserverMicrotaskQueued||(y._mutationObserverMicrotaskQueued=!0,Promise.resolve().then(function(){p()}))}function p(){var y,g,i,s,x=l.dom.window;x._mutationObserverMicrotaskQueued=!1;var b=n.set.clone(x._mutationObservers),w=n.set.clone(x._signalSlots);n.set.empty(x._signalSlots);var S=function(I){var k=n.list.clone(I._recordQueue);n.list.empty(I._recordQueue);for(var R=0;R<I._nodeList.length;R++){var G=I._nodeList[R];n.list.remove(G._registeredObserverList,function(W){return u.Guard.isTransientRegisteredObserver(W)&&W.observer===I})}if(!n.list.isEmpty(k))try{I._callback.call(I,k,I)}catch{}};try{for(var D=c(b),C=D.next();!C.done;C=D.next())S(C.value)}catch(I){y={error:I}}finally{try{C&&!C.done&&(g=D.return)&&g.call(D)}finally{if(y)throw y.error}}if(l.dom.features.slots)try{for(var A=c(w),T=A.next();!T.done;T=A.next()){var O=T.value;a.event_fireAnEvent("slotchange",O,void 0,{bubbles:!0})}}catch(I){i={error:I}}finally{try{T&&!T.done&&(s=A.return)&&s.call(A)}finally{if(i)throw i.error}}}function m(y,g,i,s,x,b,w,S,D){for(var C,A,T=new Map,O=t.tree_getFirstAncestorNode(g,!0);O!==null;){for(var I=0;I<O._registeredObserverList.length;I++){var k=O._registeredObserverList[I],R=k.options;if((O===g||R.subtree)&&(y!=="attributes"||R.attributes)&&(y!=="attributes"||!R.attributeFilter||R.attributeFilter.indexOf(i||"")&&s===null)&&(y!=="characterData"||R.characterData)&&(y!=="childList"||R.childList)){var G=k.observer;T.has(G)||T.set(G,null),(y==="attributes"&&R.attributeOldValue||y==="characterData"&&R.characterDataOldValue)&&T.set(G,x)}}O=t.tree_getNextAncestorNode(g,O,!0)}try{for(var W=c(T),L=W.next();!L.done;L=W.next()){var j=d(L.value,2),z=j[0],H=j[1],X=h.create_mutationRecord(y,g,h.create_nodeListStatic(g,b),h.create_nodeListStatic(g,w),S,D,i,s,H);z._recordQueue.push(X)}}catch(Y){C={error:Y}}finally{try{L&&!L.done&&(A=W.return)&&A.call(W)}finally{if(C)throw C.error}}f()}o.observer_queueAMutationObserverMicrotask=f,o.observer_notifyMutationObservers=p,o.observer_queueMutationRecord=m,o.observer_queueTreeMutationRecord=function(y,g,i,s,x){m("childList",y,null,null,null,g,i,s,x)},o.observer_queueAttributeMutationRecord=function(y,g,i,s){m("attributes",y,g,i,s,[],[],null,null)}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(6),d=r(7),l=r(3),u=r(9),n=r(29),h=r(73),t=r(51),a=r(30),f=r(37),p=r(106);function m(b,w,S){c.dom.features.mutationObservers&&t.observer_queueAttributeMutationRecord(w,b._localName,b._namespace,b._value),c.dom.features.customElements&&l.Guard.isCustomElementNode(w)&&h.customElement_enqueueACustomElementCallbackReaction(w,"attributeChangedCallback",[b._localName,b._value,S,b._namespace]),c.dom.features.steps&&a.dom_runAttributeChangeSteps(w,b._localName,b._value,S,b._namespace),b._value=S}function y(b,w){c.dom.features.mutationObservers&&t.observer_queueAttributeMutationRecord(w,b._localName,b._namespace,null),c.dom.features.customElements&&l.Guard.isCustomElementNode(w)&&h.customElement_enqueueACustomElementCallbackReaction(w,"attributeChangedCallback",[b._localName,null,b._value,b._namespace]),c.dom.features.steps&&a.dom_runAttributeChangeSteps(w,b._localName,null,b._value,b._namespace),w._attributeList._asArray().push(b),b._element=w,w._nodeDocument._hasNamespaces||b._namespace===null&&b._namespacePrefix===null&&b._localName!=="xmlns"||(w._nodeDocument._hasNamespaces=!0)}function g(b,w){c.dom.features.mutationObservers&&t.observer_queueAttributeMutationRecord(w,b._localName,b._namespace,b._value),c.dom.features.customElements&&l.Guard.isCustomElementNode(w)&&h.customElement_enqueueACustomElementCallbackReaction(w,"attributeChangedCallback",[b._localName,b._value,null,b._namespace]),c.dom.features.steps&&a.dom_runAttributeChangeSteps(w,b._localName,b._value,null,b._namespace);var S=w._attributeList._asArray().indexOf(b);w._attributeList._asArray().splice(S,1),b._element=null}function i(b,w,S){c.dom.features.mutationObservers&&t.observer_queueAttributeMutationRecord(S,b._localName,b._namespace,b._value),c.dom.features.customElements&&l.Guard.isCustomElementNode(S)&&h.customElement_enqueueACustomElementCallbackReaction(S,"attributeChangedCallback",[b._localName,b._value,w._value,b._namespace]),c.dom.features.steps&&a.dom_runAttributeChangeSteps(S,b._localName,b._value,w._value,b._namespace);var D=S._attributeList._asArray().indexOf(b);D!==-1&&(S._attributeList._asArray()[D]=w),b._element=null,w._element=S,S._nodeDocument._hasNamespaces||w._namespace===null&&w._namespacePrefix===null&&w._localName!=="xmlns"||(S._nodeDocument._hasNamespaces=!0)}function s(b,w){return w._namespace===d.namespace.HTML&&w._nodeDocument._type==="html"&&(b=b.toLowerCase()),w._attributeList._asArray().find(function(S){return S._qualifiedName===b})||null}function x(b,w,S){var D=b||null;return S._attributeList._asArray().find(function(C){return C._namespace===D&&C._localName===w})||null}o.element_has=function(b,w){return w._attributeList._asArray().indexOf(b)!==-1},o.element_change=m,o.element_append=y,o.element_remove=g,o.element_replace=i,o.element_getAnAttributeByName=s,o.element_getAnAttributeByNamespaceAndLocalName=x,o.element_getAnAttributeValue=function(b,w,S){S===void 0&&(S="");var D=x(S,w,b);return D===null?"":D._value},o.element_setAnAttribute=function(b,w){if(b._element!==null&&b._element!==w)throw new u.InUseAttributeError("This attribute already exists in the document: "+b._qualifiedName+" as a child of "+b._element._qualifiedName+".");var S=x(b._namespace||"",b._localName,w);return S===b?b:(S!==null?i(S,b,w):y(b,w),S)},o.element_setAnAttributeValue=function(b,w,S,D,C){D===void 0&&(D=null),C===void 0&&(C=null);var A=x(C||"",w,b);if(A===null){var T=n.create_attr(b._nodeDocument,w);return T._namespace=C,T._namespacePrefix=D,T._value=S,void y(T,b)}m(A,b,S)},o.element_removeAnAttributeByName=function(b,w){var S=s(b,w);return S!==null&&g(S,w),S},o.element_removeAnAttributeByNamespaceAndLocalName=function(b,w,S){var D=x(b,w,S);return D!==null&&g(D,S),D},o.element_createAnElement=function(b,w,S,D,C,A){D===void 0&&(D=null),C===void 0&&(C=null),A===void 0&&(A=!1);var T=null;if(!c.dom.features.customElements)return(T=n.create_element(b,w,S,D))._customElementState="uncustomized",T._customElementDefinition=null,T._is=C,T;var O=h.customElement_lookUpACustomElementDefinition(b,S,w,C);if(O!==null&&O.name!==O.localName)(T=new(p.document_elementInterface(w,d.namespace.HTML)))._localName=w,T._namespace=d.namespace.HTML,T._namespacePrefix=D,T._customElementState="undefined",T._customElementDefinition=null,T._is=C,T._nodeDocument=b,A?h.customElement_upgrade(O,T):h.customElement_enqueueACustomElementUpgradeReaction(T,O);else if(O!==null)if(A)try{var I=new O.constructor;if(console.assert(I._customElementState!==void 0),console.assert(I._customElementDefinition!==void 0),console.assert(I._namespace===d.namespace.HTML),I._attributeList.length!==0)throw new u.NotSupportedError("Custom element already has attributes.");if(I._children.size!==0)throw new u.NotSupportedError("Custom element already has child nodes.");if(I._parent!==null)throw new u.NotSupportedError("Custom element already has a parent node.");if(I._nodeDocument!==b)throw new u.NotSupportedError("Custom element is already in a document.");if(I._localName!==w)throw new u.NotSupportedError("Custom element has a different local name.");I._namespacePrefix=D,I._is=null}catch{(T=n.create_htmlUnknownElement(b,w,d.namespace.HTML,D))._customElementState="failed",T._customElementDefinition=null,T._is=null}else(T=n.create_htmlElement(b,w,d.namespace.HTML,D))._customElementState="undefined",T._customElementDefinition=null,T._is=null,h.customElement_enqueueACustomElementUpgradeReaction(T,O);else(T=new(p.document_elementInterface(w,S)))._localName=w,T._namespace=S,T._namespacePrefix=D,T._customElementState="uncustomized",T._customElementDefinition=null,T._is=C,T._nodeDocument=b,S!==d.namespace.HTML||C===null&&!h.customElement_isValidCustomElementName(w)||(T._customElementState="undefined");if(T===null)throw new Error("Unable to create element.");return T},o.element_insertAdjacent=function(b,w,S){switch(w.toLowerCase()){case"beforebegin":return b._parent===null?null:f.mutation_preInsert(S,b._parent,b);case"afterbegin":return f.mutation_preInsert(S,b,b._firstChild);case"beforeend":return f.mutation_preInsert(S,b,null);case"afterend":return b._parent===null?null:f.mutation_preInsert(S,b._parent,b._nextSibling);default:throw new u.SyntaxError(`Invalid 'where' argument. "beforebegin", "afterbegin", "beforeend" or "afterend" expected`)}}},function(v,o,r){function c(d,l){Error.call(this),this.name="YAMLException",this.reason=d,this.mark=l,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,c.prototype.toString=function(d){var l=this.name+": ";return l+=this.reason||"(unknown reason)",!d&&this.mark&&(l+=" "+this.mark.toString()),l},v.exports=c},function(v,o,r){var c=r(39);v.exports=new c({include:[r(181)],implicit:[r(293),r(294)],explicit:[r(295),r(296),r(297),r(298)]})},function(v,o,r){var c=r(16),d=r(79),l=r(40),u=r(24),n=r(56),h=r(14),t=r(115),a=Object.getOwnPropertyDescriptor;o.f=c?a:function(f,p){if(f=u(f),p=n(p,!0),t)try{return a(f,p)}catch{}if(h(f,p))return l(!d.f.call(f,p),f[p])}},function(v,o,r){var c=r(13);v.exports=function(d,l){if(!c(d))return d;var u,n;if(l&&typeof(u=d.toString)=="function"&&!c(n=u.call(d))||typeof(u=d.valueOf)=="function"&&!c(n=u.call(d))||!l&&typeof(u=d.toString)=="function"&&!c(n=u.call(d)))return n;throw TypeError("Can't convert object to primitive value")}},function(v,o,r){var c=r(81),d=r(58),l=c("keys");v.exports=function(u){return l[u]||(l[u]=d(u))}},function(v,o){var r=0,c=Math.random();v.exports=function(d){return"Symbol("+String(d===void 0?"":d)+")_"+(++r+c).toString(36)}},function(v,o,r){var c=r(42);v.exports=Array.isArray||function(d){return c(d)=="Array"}},function(v,o,r){var c,d=r(18),l=r(188),u=r(84),n=r(45),h=r(189),t=r(116),a=r(57),f=a("IE_PROTO"),p=function(){},m=function(g){return"<script>"+g+"<\/script>"},y=function(){try{c=document.domain&&new ActiveXObject("htmlfile")}catch{}var g,i;y=c?function(x){x.write(m("")),x.close();var b=x.parentWindow.Object;return x=null,b}(c):((i=t("iframe")).style.display="none",h.appendChild(i),i.src="javascript:",(g=i.contentWindow.document).open(),g.write(m("document.F=Object")),g.close(),g.F);for(var s=u.length;s--;)delete y.prototype[u[s]];return y()};n[f]=!0,v.exports=Object.create||function(g,i){var s;return g!==null?(p.prototype=d(g),s=new p,p.prototype=null,s[f]=g):s=y(),i===void 0?s:l(s,i)}},function(v,o,r){var c=r(121),d=r(84);v.exports=Object.keys||function(l){return c(l,d)}},function(v,o,r){var c=r(15).f,d=r(14),l=r(5)("toStringTag");v.exports=function(u,n,h){u&&!d(u=h?u:u.prototype,l)&&c(u,l,{configurable:!0,value:n})}},function(v,o,r){var c=r(8),d=r(5),l=r(129),u=d("species");v.exports=function(n){return l>=51||!c(function(){var h=[];return(h.constructor={})[u]=function(){return{foo:1}},h[n](Boolean).foo!==1})}},function(v,o,r){var c=r(4),d=r(122).indexOf,l=r(48),u=r(28),n=[].indexOf,h=!!n&&1/[1].indexOf(1,-0)<0,t=l("indexOf"),a=u("indexOf",{ACCESSORS:!0,1:0});c({target:"Array",proto:!0,forced:h||!t||!a},{indexOf:function(f){return h?n.apply(this,arguments)||0:d(this,f,arguments.length>1?arguments[1]:void 0)}})},function(v,o,r){var c=r(16),d=r(15).f,l=Function.prototype,u=l.toString,n=/^\s*function ([^ (]*)/;c&&!("name"in l)&&d(l,"name",{configurable:!0,get:function(){try{return u.call(this).match(n)[1]}catch{return""}}})},function(v,o,r){var c=r(25),d=r(18),l=r(8),u=r(136),n=RegExp.prototype,h=n.toString,t=l(function(){return h.call({source:"a",flags:"b"})!="/a/b"}),a=h.name!="toString";(t||a)&&c(RegExp.prototype,"toString",function(){var f=d(this),p=String(f.source),m=f.flags;return"/"+p+"/"+String(m===void 0&&f instanceof RegExp&&!("flags"in n)?u.call(f):m)},{unsafe:!0})},function(v,o,r){r(31),r(32),r(33),r(19),r(138),r(20),r(66),r(22),r(23);var c,d=this&&this.__extends||(c=function(t,a){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])})(t,a)},function(t,a){function f(){this.constructor=t}c(t,a),t.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}),l=this&&this.__values||function(t){var a=typeof Symbol=="function"&&Symbol.iterator,f=a&&t[a],p=0;if(f)return f.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&p>=t.length&&(t=void 0),{value:t&&t[p++],done:!t}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var u=r(1),n=r(2),h=function(t){function a(f,p){var m=t.call(this,f)||this;return m._writerOptions=u.applyDefaults(p,{format:"object",wellFormed:!1,group:!1,verbose:!1}),m}return d(a,t),a.prototype.serialize=function(f){return this._currentList=[],this._currentIndex=0,this._listRegister=[this._currentList],this.serializeNode(f,this._writerOptions.wellFormed),this._process(this._currentList,this._writerOptions)},a.prototype._process=function(f,p){var m,y,g,i,s,x,b;if(f.length===0)return{};for(var w={},S=!1,D=0,C=0,A=0,T=0,O=0;O<f.length;O++){var I=f[O];switch(Q=Object.keys(I)[0]){case"@":continue;case"#":D++;break;case"!":C++;break;case"?":A++;break;case"$":T++;break;default:w[Q]?S=!0:w[Q]=!0}}var k=this._getAttrKey(),R=this._getNodeKey(n.NodeType.Text),G=this._getNodeKey(n.NodeType.Comment),W=this._getNodeKey(n.NodeType.ProcessingInstruction),L=this._getNodeKey(n.NodeType.CData);if(D===1&&f.length===1&&u.isString(f[0]["#"]))return f[0]["#"];if(S){var j={};for(O=0;O<f.length;O++)if(I=f[O],(Q=Object.keys(I)[0])==="@"){var z=I["@"];(N=Object.keys(z)).length===1?j[k+N[0]]=z[N[0]]:j[k]=I["@"]}var H=[];for(O=0;O<f.length;O++)switch(I=f[O],Q=Object.keys(I)[0]){case"@":break;case"#":H.push(((m={})[R]=I["#"],m));break;case"!":H.push(((y={})[G]=I["!"],y));break;case"?":H.push(((g={})[W]=I["?"],g));break;case"$":H.push(((i={})[L]=I.$,i));break;default:if((P=I)[Q].length!==0&&u.isArray(P[Q][0])){for(var X=[],Y=P[Q],Z=0;Z<Y.length;Z++)X.push(this._process(Y[Z],p));H.push(((s={})[Q]=X,s))}else p.verbose?H.push(((x={})[Q]=[this._process(P[Q],p)],x)):H.push(((b={})[Q]=this._process(P[Q],p),b))}return j[R]=H,j}var q=1,ee=1,re=1,ae=1;for(j={},O=0;O<f.length;O++){var Q;switch(I=f[O],Q=Object.keys(I)[0]){case"@":z=I["@"];var N=Object.keys(z);if(p.group&&N.length!==1)j[k]=z;else for(var E in z)j[k+E]=z[E];break;case"#":q=this._processSpecItem(I["#"],j,p.group,R,D,q);break;case"!":ee=this._processSpecItem(I["!"],j,p.group,G,C,ee);break;case"?":re=this._processSpecItem(I["?"],j,p.group,W,A,re);break;case"$":ae=this._processSpecItem(I.$,j,p.group,L,T,ae);break;default:var P;if((P=I)[Q].length!==0&&u.isArray(P[Q][0])){X=[],Y=P[Q];for(var F=0;F<Y.length;F++)X.push(this._process(Y[F],p));j[Q]=X}else p.verbose?j[Q]=[this._process(P[Q],p)]:j[Q]=this._process(P[Q],p)}}return j},a.prototype._processSpecItem=function(f,p,m,y,g,i){var s,x;if(!m&&u.isArray(f)&&g+f.length>2)try{for(var b=l(f),w=b.next();!w.done;w=b.next()){var S=w.value;p[y+(i++).toString()]=S}}catch(D){s={error:D}}finally{try{w&&!w.done&&(x=b.return)&&x.call(b)}finally{if(s)throw s.error}}else p[g>1?y+(i++).toString():y]=f;return i},a.prototype.beginElement=function(f){var p,m,y=[];if(this._currentList.length===0)this._currentList.push(((p={})[f]=y,p));else{var g=this._currentList[this._currentList.length-1];this._isElementNode(g,f)?g[f].length!==0&&u.isArray(g[f][0])?g[f].push(y):g[f]=[g[f],y]:this._currentList.push(((m={})[f]=y,m))}this._currentIndex++,this._listRegister.length>this._currentIndex?this._listRegister[this._currentIndex]=y:this._listRegister.push(y),this._currentList=y},a.prototype.endElement=function(){this._currentList=this._listRegister[--this._currentIndex]},a.prototype.attribute=function(f,p){var m,y;if(this._currentList.length===0)this._currentList.push({"@":(m={},m[f]=p,m)});else{var g=this._currentList[this._currentList.length-1];this._isAttrNode(g)?g["@"][f]=p:this._currentList.push({"@":(y={},y[f]=p,y)})}},a.prototype.comment=function(f){if(this._currentList.length===0)this._currentList.push({"!":f});else{var p=this._currentList[this._currentList.length-1];this._isCommentNode(p)?u.isArray(p["!"])?p["!"].push(f):p["!"]=[p["!"],f]:this._currentList.push({"!":f})}},a.prototype.text=function(f){if(this._currentList.length===0)this._currentList.push({"#":f});else{var p=this._currentList[this._currentList.length-1];this._isTextNode(p)?u.isArray(p["#"])?p["#"].push(f):p["#"]=[p["#"],f]:this._currentList.push({"#":f})}},a.prototype.instruction=function(f,p){var m=p===""?f:f+" "+p;if(this._currentList.length===0)this._currentList.push({"?":m});else{var y=this._currentList[this._currentList.length-1];this._isInstructionNode(y)?u.isArray(y["?"])?y["?"].push(m):y["?"]=[y["?"],m]:this._currentList.push({"?":m})}},a.prototype.cdata=function(f){if(this._currentList.length===0)this._currentList.push({$:f});else{var p=this._currentList[this._currentList.length-1];this._isCDATANode(p)?u.isArray(p.$)?p.$.push(f):p.$=[p.$,f]:this._currentList.push({$:f})}},a.prototype._isAttrNode=function(f){return"@"in f},a.prototype._isTextNode=function(f){return"#"in f},a.prototype._isCommentNode=function(f){return"!"in f},a.prototype._isInstructionNode=function(f){return"?"in f},a.prototype._isCDATANode=function(f){return"$"in f},a.prototype._isElementNode=function(f,p){return p in f},a.prototype._getAttrKey=function(){return this._builderOptions.convert.att},a.prototype._getNodeKey=function(f){switch(f){case n.NodeType.Comment:return this._builderOptions.convert.comment;case n.NodeType.Text:return this._builderOptions.convert.text;case n.NodeType.ProcessingInstruction:return this._builderOptions.convert.ins;case n.NodeType.CData:return this._builderOptions.convert.cdata;default:throw new Error("Invalid node type.")}},a}(r(50).BaseWriter);o.ObjectWriter=h},function(v,o,r){var c=r(4),d=r(93);c({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function d(){this._items={},this._nullItems={}}return d.prototype.set=function(l,u){l===null?this._nullItems[u]=!0:(this._items[l]||(this._items[l]={}),this._items[l][u]=!0)},d.prototype.has=function(l,u){return l===null?this._nullItems[u]===!0:!!this._items[l]&&this._items[l][u]===!0},d}();o.LocalNameSet=c},function(v,o,r){var c=this&&this.__read||function(h,t){var a=typeof Symbol=="function"&&h[Symbol.iterator];if(!a)return h;var f,p,m=a.call(h),y=[];try{for(;(t===void 0||t-- >0)&&!(f=m.next()).done;)y.push(f.value)}catch(g){p={error:g}}finally{try{f&&!f.done&&(a=m.return)&&a.call(m)}finally{if(p)throw p.error}}return y};Object.defineProperty(o,"__esModule",{value:!0});var d=r(9),l=r(3),u=r(0),n=function(){function h(){}return Object.defineProperty(h.prototype,"_eventListenerList",{get:function(){return this.__eventListenerList||(this.__eventListenerList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"_eventHandlerMap",{get:function(){return this.__eventHandlerMap||(this.__eventHandlerMap={})},enumerable:!0,configurable:!0}),h.prototype.addEventListener=function(t,a,f){f===void 0&&(f={passive:!1,once:!1,capture:!1});var p,m=c(u.eventTarget_flattenMore(f),3),y=m[0],g=m[1],i=m[2];a&&(p=l.Guard.isEventListener(a)?a:{handleEvent:a},u.eventTarget_addEventListener(this,{type:t,callback:p,capture:y,passive:g,once:i,removed:!1}))},h.prototype.removeEventListener=function(t,a,f){f===void 0&&(f={capture:!1});var p=u.eventTarget_flatten(f);if(a)for(var m=0;m<this._eventListenerList.length;m++){var y=this._eventListenerList[m];if(y.type===t&&y.capture===p){if(l.Guard.isEventListener(a)&&y.callback===a){u.eventTarget_removeEventListener(this,y,m);break}if(a&&y.callback.handleEvent===a){u.eventTarget_removeEventListener(this,y,m);break}}}},h.prototype.dispatchEvent=function(t){if(t._dispatchFlag||!t._initializedFlag)throw new d.InvalidStateError;return t._isTrusted=!1,u.event_dispatch(t,this)},h.prototype._getTheParent=function(t){return null},h}();o.EventTargetImpl=n},function(v,o,r){var c,d=this&&this.__extends||(c=function(h,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var p in f)f.hasOwnProperty(p)&&(a[p]=f[p])})(h,t)},function(h,t){function a(){this.constructor=h}c(h,t),h.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(34),u=r(0),n=function(h){function t(a){var f=h.call(this)||this;return f._data=a,f}return d(t,h),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(a){u.characterData_replaceData(this,0,this._data.length,a)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._data.length},enumerable:!0,configurable:!0}),t.prototype.substringData=function(a,f){return u.characterData_substringData(this,a,f)},t.prototype.appendData=function(a){return u.characterData_replaceData(this,this._data.length,0,a)},t.prototype.insertData=function(a,f){u.characterData_replaceData(this,a,0,f)},t.prototype.deleteData=function(a,f){u.characterData_replaceData(this,a,f,"")},t.prototype.replaceData=function(a,f,p){u.characterData_replaceData(this,a,f,p)},Object.defineProperty(t.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),t.prototype.before=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];throw new Error("Mixin: ChildNode not implemented.")},t.prototype.after=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];throw new Error("Mixin: ChildNode not implemented.")},t.prototype.replaceWith=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];throw new Error("Mixin: ChildNode not implemented.")},t.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},t}(l.NodeImpl);o.CharacterDataImpl=n},function(v,o,r){var c=this&&this.__values||function(g){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&g[i],x=0;if(s)return s.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&x>=g.length&&(g=void 0),{value:g&&g[x++],done:!g}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__read||function(g,i){var s=typeof Symbol=="function"&&g[Symbol.iterator];if(!s)return g;var x,b,w=s.call(g),S=[];try{for(;(i===void 0||i-- >0)&&!(x=w.next()).done;)S.push(x.value)}catch(D){b={error:D}}finally{try{x&&!x.done&&(s=w.return)&&s.call(w)}finally{if(b)throw b.error}}return S},l=this&&this.__spread||function(){for(var g=[],i=0;i<arguments.length;i++)g=g.concat(d(arguments[i]));return g};Object.defineProperty(o,"__esModule",{value:!0});var u=r(6),n=r(3),h=r(1),t=r(17),a=r(51);function f(g){u.dom.window._signalSlots.add(g),a.observer_queueAMutationObserverMicrotask()}function p(g,i){i===void 0&&(i=!1);var s=n.Cast.asNode(g)._parent;if(s===null)return null;var x=s._shadowRoot||null;if(x===null||i&&x._mode!=="open")return null;for(var b=t.tree_getFirstDescendantNode(x,!1,!0,function(w){return n.Guard.isSlot(w)});b!==null;){if(b._name===g._name)return b;b=t.tree_getNextDescendantNode(x,b,!1,!0,function(w){return n.Guard.isSlot(w)})}return null}function m(g){var i,s,x=[],b=t.tree_rootNode(g);if(!n.Guard.isShadowRoot(b))return x;var w=b._host;try{for(var S=c(w._children),D=S.next();!D.done;D=S.next()){var C=D.value;n.Guard.isSlotable(C)&&p(C)===g&&x.push(C)}}catch(A){i={error:A}}finally{try{D&&!D.done&&(s=S.return)&&s.call(S)}finally{if(i)throw i.error}}return x}function y(g){var i,s,x=m(g);if(x.length===g._assignedNodes.length){for(var b=!0,w=0;w<x.length;w++)if(x[w]!==g._assignedNodes[w]){b=!1;break}b||f(g)}g._assignedNodes=x;try{for(var S=c(x),D=S.next();!D.done;D=S.next())D.value._assignedSlot=g}catch(C){i={error:C}}finally{try{D&&!D.done&&(s=S.return)&&s.call(S)}finally{if(i)throw i.error}}}o.shadowTree_signalASlotChange=f,o.shadowTree_isConnected=function(g){return n.Guard.isDocumentNode(t.tree_rootNode(g,!0))},o.shadowTree_isAssigned=function(g){return g._assignedSlot!==null},o.shadowTree_findASlot=p,o.shadowTree_findSlotables=m,o.shadowTree_findFlattenedSlotables=function g(i){var s,x,b,w,S=[],D=t.tree_rootNode(i);if(!n.Guard.isShadowRoot(D))return S;var C=m(i);if(h.isEmpty(C))try{for(var A=c(i._children),T=A.next();!T.done;T=A.next()){var O=T.value;n.Guard.isSlotable(O)&&C.push(O)}}catch(W){s={error:W}}finally{try{T&&!T.done&&(x=A.return)&&x.call(A)}finally{if(s)throw s.error}}try{for(var I=c(C),k=I.next();!k.done;k=I.next()){var R=k.value;if(n.Guard.isSlot(R)&&n.Guard.isShadowRoot(t.tree_rootNode(R))){var G=g(R);S.push.apply(S,l(G))}else S.push(R)}}catch(W){b={error:W}}finally{try{k&&!k.done&&(w=I.return)&&w.call(I)}finally{if(b)throw b.error}}return S},o.shadowTree_assignSlotables=y,o.shadowTree_assignSlotablesForATree=function(g){for(var i=t.tree_getFirstDescendantNode(g,!0,!1,function(s){return n.Guard.isSlot(s)});i!==null;)y(i),i=t.tree_getNextDescendantNode(g,i,!0,!1,function(s){return n.Guard.isSlot(s)})},o.shadowTree_assignASlot=function(g){var i=p(g);i!==null&&y(i)}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=/[a-z]([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*/,d=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),l=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]),u=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),n=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]);o.customElement_isValidCustomElementName=function(h){return!!c.test(h)&&!d.has(h)},o.customElement_isValidElementName=function(h){return l.has(h)},o.customElement_isVoidElementName=function(h){return u.has(h)},o.customElement_isValidShadowHostName=function(h){return n.has(h)},o.customElement_enqueueACustomElementUpgradeReaction=function(h,t){},o.customElement_enqueueACustomElementCallbackReaction=function(h,t,a){},o.customElement_upgrade=function(h,t){},o.customElement_tryToUpgrade=function(h){},o.customElement_lookUpACustomElementDefinition=function(h,t,a,f){return null}},function(v,o,r){r(4)({target:"String",proto:!0},{repeat:r(259)})},function(v,o,r){r(278),r(68),r(179),r(94),Object.defineProperty(o,"__esModule",{value:!0});var c=r(109),d=function(){function l(u){this._builderOptions=u,u.parser&&Object.assign(this,u.parser)}return l.prototype._docType=function(u,n,h,t){return u.dtd({name:n,pubID:h,sysID:t})},l.prototype._comment=function(u,n){return u.com(n)},l.prototype._text=function(u,n){return u.txt(n)},l.prototype._instruction=function(u,n,h){return u.ins(n,h)},l.prototype._cdata=function(u,n){return u.dat(n)},l.prototype._element=function(u,n,h){return n===void 0?u.ele(h):u.ele(n,h)},l.prototype._attribute=function(u,n,h,t){return n===void 0?u.att(h,t):u.att(n,h,t)},l.prototype._sanitize=function(u){return c.sanitizeInput(u,this._builderOptions.invalidCharReplacement)},l.prototype._decodeText=function(u){return u==null?u:u.replace(/&(quot|amp|apos|lt|gt);/g,function(n,h){return l._entityTable[h]}).replace(/&#(?:x([a-fA-F0-9]+)|([0-9]+));/g,function(n,h,t){return String.fromCodePoint(parseInt(h||t,h?16:10))})},l.prototype._decodeAttributeValue=function(u){return this._decodeText(u)},l.prototype.parse=function(u,n){return this._parse(u,n)},l.prototype.docType=function(u,n,h,t){return this._docType(u,n,h,t)},l.prototype.comment=function(u,n){return this._comment(u,n)},l.prototype.text=function(u,n){return this._text(u,n)},l.prototype.instruction=function(u,n,h){return this._instruction(u,n,h)},l.prototype.cdata=function(u,n){return this._cdata(u,n)},l.prototype.element=function(u,n,h){return this._element(u,n,h)},l.prototype.attribute=function(u,n,h,t){return this._attribute(u,n,h,t)},l.prototype.sanitize=function(u){return this._sanitize(u)},l._entityTable={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},l}();o.BaseReader=d},function(v,o,r){var c=r(39);v.exports=c.DEFAULT=new c({include:[r(54)],explicit:[r(299),r(300),r(301)]})},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(185);o.XMLBuilderImpl=c.XMLBuilderImpl;var d=r(304);o.XMLBuilderCBImpl=d.XMLBuilderCBImpl;var l=r(183);o.builder=l.builder,o.create=l.create,o.fragment=l.fragment,o.convert=l.convert;var u=r(309);o.createCB=u.createCB,o.fragmentCB=u.fragmentCB},function(v,o){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}v.exports=r},function(v,o,r){var c={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,l=d&&!c.call({1:2},1);o.f=l?function(u){var n=d(this,u);return!!n&&n.enumerable}:c},function(v,o,r){var c=r(11),d=r(21);v.exports=function(l,u){try{d(c,l,u)}catch{c[l]=u}return u}},function(v,o,r){var c=r(44),d=r(118);(v.exports=function(l,u){return d[l]||(d[l]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:c?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(v,o,r){var c=r(121),d=r(84).concat("length","prototype");o.f=Object.getOwnPropertyNames||function(l){return c(l,d)}},function(v,o,r){var c=r(47),d=Math.max,l=Math.min;v.exports=function(u,n){var h=c(u);return h<0?d(h+n,0):l(h,n)}},function(v,o){v.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(v,o){o.f=Object.getOwnPropertySymbols},function(v,o,r){var c=r(8);v.exports=!!Object.getOwnPropertySymbols&&!c(function(){return!String(Symbol())})},function(v,o,r){var c=r(127);v.exports=function(d,l,u){if(c(d),l===void 0)return d;switch(u){case 0:return function(){return d.call(l)};case 1:return function(n){return d.call(l,n)};case 2:return function(n,h){return d.call(l,n,h)};case 3:return function(n,h,t){return d.call(l,n,h,t)}}return function(){return d.apply(l,arguments)}}},function(v,o,r){var c=r(4),d=r(195),l=r(132),u=r(133),n=r(62),h=r(21),t=r(25),a=r(5),f=r(44),p=r(49),m=r(131),y=m.IteratorPrototype,g=m.BUGGY_SAFARI_ITERATORS,i=a("iterator"),s=function(){return this};v.exports=function(x,b,w,S,D,C,A){d(w,b,S);var T,O,I,k=function(H){if(H===D&&j)return j;if(!g&&H in W)return W[H];switch(H){case"keys":case"values":case"entries":return function(){return new w(this,H)}}return function(){return new w(this)}},R=b+" Iterator",G=!1,W=x.prototype,L=W[i]||W["@@iterator"]||D&&W[D],j=!g&&L||k(D),z=b=="Array"&&W.entries||L;if(z&&(T=l(z.call(new x)),y!==Object.prototype&&T.next&&(f||l(T)===y||(u?u(T,y):typeof T[i]!="function"&&h(T,i,s)),n(T,R,!0,!0),f&&(p[R]=s))),D=="values"&&L&&L.name!=="values"&&(G=!0,j=function(){return L.call(this)}),f&&!A||W[i]===j||h(W,i,j),p[b]=j,D)if(O={values:k("values"),keys:C?j:k("keys"),entries:k("entries")},A)for(I in O)(g||G||!(I in W))&&t(W,I,O[I]);else c({target:b,proto:!0,forced:g||G},O);return O}},function(v,o,r){var c=r(4),d=r(13),l=r(59),u=r(83),n=r(26),h=r(24),t=r(134),a=r(5),f=r(63),p=r(28),m=f("slice"),y=p("slice",{ACCESSORS:!0,0:0,1:2}),g=a("species"),i=[].slice,s=Math.max;c({target:"Array",proto:!0,forced:!m||!y},{slice:function(x,b){var w,S,D,C=h(this),A=n(C.length),T=u(x,A),O=u(b===void 0?A:b,A);if(l(C)&&(typeof(w=C.constructor)!="function"||w!==Array&&!l(w.prototype)?d(w)&&(w=w[g])===null&&(w=void 0):w=void 0,w===Array||w===void 0))return i.call(C,T,O);for(S=new(w===void 0?Array:w)(s(O-T,0)),D=0;T<O;T++,D++)T in C&&t(S,D,C[T]);return S.length=D,S}})},function(v,o,r){var c={};c[r(5)("toStringTag")]="z",v.exports=String(c)==="[object z]"},function(v,o,r){r(19),r(138),r(20),r(92),r(22),r(23),Object.defineProperty(o,"__esModule",{value:!0}),o.DefaultBuilderOptions={version:"1.0",encoding:void 0,standalone:void 0,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},invalidCharReplacement:void 0,parser:void 0},o.XMLBuilderOptionKeys=new Set(Object.keys(o.DefaultBuilderOptions)),o.DefaultXMLBuilderCBOptions={format:"xml",wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,spaceBeforeSlash:!1,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"}}},function(v,o,r){var c=r(139),d=r(143);v.exports=c("Set",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},d)},function(v,o,r){var c,d,l=r(136),u=r(221),n=RegExp.prototype.exec,h=String.prototype.replace,t=n,a=(c=/a/,d=/b*/g,n.call(c,"a"),n.call(d,"a"),c.lastIndex!==0||d.lastIndex!==0),f=u.UNSUPPORTED_Y||u.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0;(a||p||f)&&(t=function(m){var y,g,i,s,x=this,b=f&&x.sticky,w=l.call(x),S=x.source,D=0,C=m;return b&&((w=w.replace("y","")).indexOf("g")===-1&&(w+="g"),C=String(m).slice(x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&m[x.lastIndex-1]!==`
`)&&(S="(?: "+S+")",C=" "+C,D++),g=new RegExp("^(?:"+S+")",w)),p&&(g=new RegExp("^"+S+"$(?!\\s)",w)),a&&(y=x.lastIndex),i=n.call(b?g:x,C),b?i?(i.input=i.input.slice(D),i[0]=i[0].slice(D),i.index=x.lastIndex,x.lastIndex+=i[0].length):x.lastIndex=0:a&&i&&(x.lastIndex=x.global?i.index+i[0].length:y),p&&i&&i.length>1&&h.call(i[0],g,function(){for(s=1;s<arguments.length-2;s++)arguments[s]===void 0&&(i[s]=void 0)}),i}),v.exports=t},function(v,o,r){var c=r(225),d=r(18),l=r(27),u=r(26),n=r(47),h=r(35),t=r(226),a=r(227),f=Math.max,p=Math.min,m=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g;c("replace",2,function(i,s,x,b){var w=b.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,S=b.REPLACE_KEEPS_$0,D=w?"$":"$0";return[function(A,T){var O=h(this),I=A?.[i];return I!==void 0?I.call(A,O,T):s.call(String(O),A,T)},function(A,T){if(!w&&S||typeof T=="string"&&T.indexOf(D)===-1){var O=x(s,A,this,T);if(O.done)return O.value}var I=d(A),k=String(this),R=typeof T=="function";R||(T=String(T));var G=I.global;if(G){var W=I.unicode;I.lastIndex=0}for(var L=[];;){var j=a(I,k);if(j===null||(L.push(j),!G))break;String(j[0])===""&&(I.lastIndex=t(k,u(I.lastIndex),W))}for(var z,H="",X=0,Y=0;Y<L.length;Y++){j=L[Y];for(var Z=String(j[0]),q=f(p(n(j.index),k.length),0),ee=[],re=1;re<j.length;re++)ee.push((z=j[re])===void 0?z:String(z));var ae=j.groups;if(R){var Q=[Z].concat(ee,q,k);ae!==void 0&&Q.push(ae);var N=String(T.apply(void 0,Q))}else N=C(Z,k,q,ee,ae,T);q>=X&&(H+=k.slice(X,q)+N,X=q+Z.length)}return H+k.slice(X)}];function C(A,T,O,I,k,R){var G=O+A.length,W=I.length,L=g;return k!==void 0&&(k=l(k),L=y),s.call(R,L,function(j,z){var H;switch(z.charAt(0)){case"$":return"$";case"&":return A;case"`":return T.slice(0,O);case"'":return T.slice(G);case"<":H=k[z.slice(1,-1)];break;default:var X=+z;if(X===0)return j;if(X>W){var Y=m(X/10);return Y===0?j:Y<=W?I[Y-1]===void 0?z.charAt(1):I[Y-1]+z.charAt(1):j}H=I[X-1]}return H===void 0?"":H})}})},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function d(){this._items={},this._nullItems=[]}return d.prototype.copy=function(){var l=new d;for(var u in this._items)l._items[u]=this._items[u].slice(0);return l._nullItems=this._nullItems.slice(0),l},d.prototype.get=function(l,u){var n=u===null?this._nullItems:this._items[u]||null;if(n===null)return null;for(var h=null,t=0;t<n.length;t++)if((h=n[t])===l)return h;return h},d.prototype.has=function(l,u){var n=u===null?this._nullItems:this._items[u]||null;return n!==null&&n.indexOf(l)!==-1},d.prototype.hasPrefix=function(l){if(this._nullItems.indexOf(l)!==-1)return!0;for(var u in this._items)if(this._items[u].indexOf(l)!==-1)return!0;return!1},d.prototype.set=function(l,u){var n=u===null?this._nullItems:this._items[u]||null;u!==null&&n===null?this._items[u]=[l]:n.push(l)},d}();o.NamespacePrefixMap=c},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0}),o.Surrogate=/[\uD800-\uDFFF]/,o.ScalarValue=/[\uD800-\uDFFF]/,o.NonCharacter=/[\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]/,o.ASCIICodePoint=/[\u0000-\u007F]/,o.ASCIITabOrNewLine=/[\t\n\r]/,o.ASCIIWhiteSpace=/[\t\n\f\r ]/,o.C0Control=/[\u0000-\u001F]/,o.C0ControlOrSpace=/[\u0000-\u001F ]/,o.Control=/[\u0000-\u001F\u007F-\u009F]/,o.ASCIIDigit=/[0-9]/,o.ASCIIUpperHexDigit=/[0-9A-F]/,o.ASCIILowerHexDigit=/[0-9a-f]/,o.ASCIIHexDigit=/[0-9A-Fa-f]/,o.ASCIIUpperAlpha=/[A-Z]/,o.ASCIILowerAlpha=/[a-z]/,o.ASCIIAlpha=/[A-Za-z]/,o.ASCIIAlphanumeric=/[0-9A-Za-z]/},function(v,o,r){var c=this&&this.__values||function(T){var O=typeof Symbol=="function"&&Symbol.iterator,I=O&&T[O],k=0;if(I)return I.call(T);if(T&&typeof T.length=="number")return{next:function(){return T&&k>=T.length&&(T=void 0),{value:T&&T[k++],done:!T}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__read||function(T,O){var I=typeof Symbol=="function"&&T[Symbol.iterator];if(!I)return T;var k,R,G=I.call(T),W=[];try{for(;(O===void 0||O-- >0)&&!(k=G.next()).done;)W.push(k.value)}catch(L){R={error:L}}finally{try{k&&!k.done&&(I=G.return)&&I.call(G)}finally{if(R)throw R.error}}return W},l=this&&this.__spread||function(){for(var T=[],O=0;O<arguments.length;O++)T=T.concat(d(arguments[O]));return T};Object.defineProperty(o,"__esModule",{value:!0});var u=r(6),n=r(2),h=r(3),t=r(171),a=r(104),f=r(9),p=r(17),m=r(72),y=r(30);function g(T,O){O===void 0&&(O=void 0),O===void 0&&(O=null);var I=i(T,O,new Date,{});return I._isTrusted=!0,I}function i(T,O,I,k){var R=new T("");return R._initializedFlag=!0,R._timeStamp=I.getTime(),Object.assign(R,k),u.dom.features.steps&&y.dom_runEventConstructingSteps(R),R}function s(T,O,I,k){var R,G,W,L;I===void 0&&(I=!1),k===void 0&&(k={value:!1});var j=!1;T._dispatchFlag=!0;var z=O;if(I){var H=O._associatedDocument;h.Guard.isDocumentNode(H)&&(z=H)}var X=null,Y=p.tree_retarget(T._relatedTarget,O);if(O!==Y||O===T._relatedTarget){var Z=[];try{for(var q=c(T._touchTargetList),ee=q.next();!ee.done;ee=q.next()){var re=ee.value;Z.push(p.tree_retarget(re,O))}}catch(oe){R={error:oe}}finally{try{ee&&!ee.done&&(G=q.return)&&G.call(q)}finally{if(R)throw R.error}}x(T,O,z,Y,Z,!1);var ae=h.Guard.isMouseEvent(T)&&T._type==="click";ae&&O._activationBehavior!==void 0&&(X=O);for(var Q=h.Guard.isSlotable(O)&&m.shadowTree_isAssigned(O)?O:null,N=!1,E=O._getTheParent(T);E!==null&&h.Guard.isNode(E);){if(Q!==null){if(!h.Guard.isSlot(E))throw new Error("Parent node of a slotable should be a slot.");Q=null;var P=p.tree_rootNode(E,!0);h.Guard.isShadowRoot(P)&&P._mode==="closed"&&(N=!0)}h.Guard.isSlotable(E)&&m.shadowTree_isAssigned(E)&&(Q=E),Y=p.tree_retarget(T._relatedTarget,E),Z=[];try{for(var F=(W=void 0,c(T._touchTargetList)),M=F.next();!M.done;M=F.next())re=M.value,Z.push(p.tree_retarget(re,E))}catch(oe){W={error:oe}}finally{try{M&&!M.done&&(L=F.return)&&L.call(F)}finally{if(W)throw W.error}}h.Guard.isWindow(E)||h.Guard.isNode(E)&&h.Guard.isNode(O)&&p.tree_isAncestorOf(p.tree_rootNode(O,!0),E,!0,!0)?(ae&&T._bubbles&&X===null&&E._activationBehavior&&(X=E),x(T,E,null,Y,Z,N)):E===Y?E=null:(O=E,ae&&X===null&&O._activationBehavior&&(X=O),x(T,E,O,Y,Z,N)),E!==null&&(E=E._getTheParent(T)),N=!1}for(var B=null,U=T._path,$=U.length-1;$>=0;$--)if((ne=U[$]).shadowAdjustedTarget!==null){B=ne;break}if(B!==null)if(h.Guard.isNode(B.shadowAdjustedTarget)&&h.Guard.isShadowRoot(p.tree_rootNode(B.shadowAdjustedTarget,!0)))j=!0;else if(h.Guard.isNode(B.relatedTarget)&&h.Guard.isShadowRoot(p.tree_rootNode(B.relatedTarget,!0)))j=!0;else for(var J=0;J<B.touchTargetList.length;J++){var ne=B.touchTargetList[J];if(h.Guard.isNode(ne)&&h.Guard.isShadowRoot(p.tree_rootNode(ne,!0))){j=!0;break}}for(X!==null&&X._legacyPreActivationBehavior!==void 0&&X._legacyPreActivationBehavior(T),$=U.length-1;$>=0;$--)(ne=U[$]).shadowAdjustedTarget!==null?T._eventPhase=n.EventPhase.AtTarget:T._eventPhase=n.EventPhase.Capturing,b(ne,T,"capturing",k);for($=0;$<U.length;$++){if((ne=U[$]).shadowAdjustedTarget!==null)T._eventPhase=n.EventPhase.AtTarget;else{if(!T._bubbles)continue;T._eventPhase=n.EventPhase.Bubbling}b(ne,T,"bubbling",k)}}return T._eventPhase=n.EventPhase.None,T._currentTarget=null,T._path=[],T._dispatchFlag=!1,T._stopPropagationFlag=!1,T._stopImmediatePropagationFlag=!1,j&&(T._target=null,T._relatedTarget=null,T._touchTargetList=[]),X!==null&&(T._canceledFlag||X._activationBehavior===void 0?X._legacyCanceledActivationBehavior!==void 0&&X._legacyCanceledActivationBehavior(T):X._activationBehavior(T)),!T._canceledFlag}function x(T,O,I,k,R,G){var W=!1;h.Guard.isNode(O)&&h.Guard.isShadowRoot(p.tree_rootNode(O))&&(W=!0);var L=!1;h.Guard.isShadowRoot(O)&&O._mode==="closed"&&(L=!0),T._path.push({invocationTarget:O,invocationTargetInShadowTree:W,shadowAdjustedTarget:I,relatedTarget:k,touchTargetList:R,rootOfClosedTree:L,slotInClosedTree:G})}function b(T,O,I,k){k===void 0&&(k={value:!1});for(var R=O._path,G=-1,W=0;W<R.length;W++)if(R[W]===T){G=W;break}if(G!==-1){var L=R[G];(L.shadowAdjustedTarget!==null||G>0&&(L=R[G-1]).shadowAdjustedTarget!==null)&&(O._target=L.shadowAdjustedTarget)}if(O._relatedTarget=T.relatedTarget,O._touchTargetList=T.touchTargetList,!O._stopPropagationFlag){O._currentTarget=T.invocationTarget;var j=O._currentTarget._eventListenerList,z=new(Array.bind.apply(Array,l([void 0],j)));if(!w(O,z,I,T,k)&&O._isTrusted){var H=O._type;H==="animationend"?O._type="webkitAnimationEnd":H==="animationiteration"?O._type="webkitAnimationIteration":H==="animationstart"?O._type="webkitAnimationStart":H==="transitionend"&&(O._type="webkitTransitionEnd"),w(O,z,I,T,k),O._type=H}}}function w(T,O,I,k,R){R===void 0&&(R={value:!1});for(var G=!1,W=0;W<O.length;W++){var L=O[W];if(!L.removed){if(T._type!==L.type||(G=!0,I==="capturing"&&!L.capture)||I==="bubbling"&&L.capture)continue;if(L.once&&T._currentTarget!==null){for(var j=T._currentTarget,z=-1,H=0;H<j._eventListenerList.length;H++)if(j._eventListenerList[H]===L){z=H;break}z!==-1&&j._eventListenerList.splice(z,1)}var X=void 0,Y=void 0;h.Guard.isWindow(X)&&(Y=X._currentEvent,k.invocationTargetInShadowTree===!1&&(X._currentEvent=T)),L.passive&&(T._inPassiveListenerFlag=!0);try{L.callback.handleEvent.call(T._currentTarget,T)}catch{R.value=!0}if(L.passive&&(T._inPassiveListenerFlag=!1),h.Guard.isWindow(X)&&(X._currentEvent=Y),T._stopImmediatePropagationFlag)return G}}return G}function S(T,O){return null}function D(T,O){return null}function C(T,O){}function A(T,O){}o.event_setTheCanceledFlag=function(T){T._cancelable&&!T._inPassiveListenerFlag&&(T._canceledFlag=!0)},o.event_initialize=function(T,O,I,k){T._initializedFlag=!0,T._stopPropagationFlag=!1,T._stopImmediatePropagationFlag=!1,T._canceledFlag=!1,T._isTrusted=!1,T._target=null,T._type=O,T._bubbles=I,T._cancelable=k},o.event_createAnEvent=g,o.event_innerEventCreationSteps=i,o.event_dispatch=s,o.event_appendToAnEventPath=x,o.event_invoke=b,o.event_innerInvoke=w,o.event_fireAnEvent=function(T,O,I,k,R){I===void 0&&(I=a.EventImpl);var G=g(I);if(G._type=T,k)for(var W in k)G[W]=k[W];return s(G,O,R)},o.event_createLegacyEvent=function(T){var O=null;switch(T.toLowerCase()){case"beforeunloadevent":case"compositionevent":break;case"customevent":O=t.CustomEventImpl;break;case"devicemotionevent":case"deviceorientationevent":case"dragevent":break;case"event":case"events":O=a.EventImpl}if(O===null)throw new f.NotSupportedError("Event constructor not found for interface "+T+".");var I=new O("");return I._type="",I._timeStamp=new Date().getTime(),I._isTrusted=!1,I._initializedFlag=!1,I},o.event_getterEventHandlerIDLAttribute=function(T,O){return null},o.event_setterEventHandlerIDLAttribute=function(T,O,I){},o.event_determineTheTargetOfAnEventHandler=S,o.event_getTheCurrentValueOfAnEventHandler=D,o.event_activateAnEventHandler=C,o.event_deactivateAnEventHandler=A},function(v,o,r){var c,d=this&&this.__extends||(c=function(x,b){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var D in S)S.hasOwnProperty(D)&&(w[D]=S[D])})(x,b)},function(x,b){function w(){this.constructor=x}c(x,b),x.prototype=b===null?Object.create(b):(w.prototype=b.prototype,new w)}),l=this&&this.__values||function(x){var b=typeof Symbol=="function"&&Symbol.iterator,w=b&&x[b],S=0;if(w)return w.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&S>=x.length&&(x=void 0),{value:x&&x[S++],done:!x}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(x,b){var w=typeof Symbol=="function"&&x[Symbol.iterator];if(!w)return x;var S,D,C=w.call(x),A=[];try{for(;(b===void 0||b-- >0)&&!(S=C.next()).done;)A.push(S.value)}catch(T){D={error:T}}finally{try{S&&!S.done&&(w=C.return)&&w.call(C)}finally{if(D)throw D.error}}return A};Object.defineProperty(o,"__esModule",{value:!0});var n=r(6),h=r(2),t=r(9),a=r(34),f=r(3),p=r(1),m=r(7),y=r(152),g=r(0),i=r(12),s=function(x){function b(){var w=x.call(this)||this;return w._children=new Set,w._encoding={name:"UTF-8",labels:["unicode-1-1-utf-8","utf-8","utf8"]},w._contentType="application/xml",w._URL={scheme:"about",username:"",password:"",host:null,port:null,path:["blank"],query:null,fragment:null,_cannotBeABaseURLFlag:!0,_blobURLEntry:null},w._origin=null,w._type="xml",w._mode="no-quirks",w._documentElement=null,w._hasNamespaces=!1,w._nodeDocumentOverwrite=null,w}return d(b,x),Object.defineProperty(b.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverwrite||this},set:function(w){this._nodeDocumentOverwrite=w},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"implementation",{get:function(){return this._implementation||(this._implementation=g.create_domImplementation(this))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"URL",{get:function(){return y.urlSerializer(this._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"documentURI",{get:function(){return this.URL},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"origin",{get:function(){return"null"},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"compatMode",{get:function(){return this._mode==="quirks"?"BackCompat":"CSS1Compat"},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"characterSet",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"charset",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"inputEncoding",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"contentType",{get:function(){return this._contentType},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"doctype",{get:function(){var w,S;try{for(var D=l(this._children),C=D.next();!C.done;C=D.next()){var A=C.value;if(f.Guard.isDocumentTypeNode(A))return A}}catch(T){w={error:T}}finally{try{C&&!C.done&&(S=D.return)&&S.call(D)}finally{if(w)throw w.error}}return null},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"documentElement",{get:function(){return this._documentElement},enumerable:!0,configurable:!0}),b.prototype.getElementsByTagName=function(w){return g.node_listOfElementsWithQualifiedName(w,this)},b.prototype.getElementsByTagNameNS=function(w,S){return g.node_listOfElementsWithNamespace(w,S,this)},b.prototype.getElementsByClassName=function(w){return g.node_listOfElementsWithClassNames(w,this)},b.prototype.createElement=function(w,S){if(!g.xml_isName(w))throw new t.InvalidCharacterError;this._type==="html"&&(w=w.toLowerCase());var D=null;S!==void 0&&(D=p.isString(S)?S:S.is);var C=this._type==="html"||this._contentType==="application/xhtml+xml"?m.namespace.HTML:null;return g.element_createAnElement(this,w,C,null,D,!0)},b.prototype.createElementNS=function(w,S,D){return g.document_internalCreateElementNS(this,w,S,D)},b.prototype.createDocumentFragment=function(){return g.create_documentFragment(this)},b.prototype.createTextNode=function(w){return g.create_text(this,w)},b.prototype.createCDATASection=function(w){if(this._type==="html")throw new t.NotSupportedError;if(w.indexOf("]]>")!==-1)throw new t.InvalidCharacterError;return g.create_cdataSection(this,w)},b.prototype.createComment=function(w){return g.create_comment(this,w)},b.prototype.createProcessingInstruction=function(w,S){if(!g.xml_isName(w))throw new t.InvalidCharacterError;if(S.indexOf("?>")!==-1)throw new t.InvalidCharacterError;return g.create_processingInstruction(this,w,S)},b.prototype.importNode=function(w,S){if(S===void 0&&(S=!1),f.Guard.isDocumentNode(w)||f.Guard.isShadowRoot(w))throw new t.NotSupportedError;return g.node_clone(w,this,S)},b.prototype.adoptNode=function(w){if(f.Guard.isDocumentNode(w))throw new t.NotSupportedError;if(f.Guard.isShadowRoot(w))throw new t.HierarchyRequestError;return g.document_adopt(w,this),w},b.prototype.createAttribute=function(w){if(!g.xml_isName(w))throw new t.InvalidCharacterError;return this._type==="html"&&(w=w.toLowerCase()),g.create_attr(this,w)},b.prototype.createAttributeNS=function(w,S){var D=u(g.namespace_validateAndExtract(w,S),3),C=D[0],A=D[1],T=D[2],O=g.create_attr(this,T);return O._namespace=C,O._namespacePrefix=A,O},b.prototype.createEvent=function(w){return g.event_createLegacyEvent(w)},b.prototype.createRange=function(){var w=g.create_range();return w._start=[this,0],w._end=[this,0],w},b.prototype.createNodeIterator=function(w,S,D){S===void 0&&(S=h.WhatToShow.All),D===void 0&&(D=null);var C=g.create_nodeIterator(w,w,!0);return C._whatToShow=S,C._iteratorCollection=g.create_nodeList(w),p.isFunction(D)?(C._filter=g.create_nodeFilter(),C._filter.acceptNode=D):C._filter=D,C},b.prototype.createTreeWalker=function(w,S,D){S===void 0&&(S=h.WhatToShow.All),D===void 0&&(D=null);var C=g.create_treeWalker(w,w);return C._whatToShow=S,p.isFunction(D)?(C._filter=g.create_nodeFilter(),C._filter.acceptNode=D):C._filter=D,C},b.prototype._getTheParent=function(w){return w._type==="load"?null:n.dom.window},b.prototype.getElementById=function(w){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(b.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),b.prototype.prepend=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];throw new Error("Mixin: ParentNode not implemented.")},b.prototype.append=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];throw new Error("Mixin: ParentNode not implemented.")},b.prototype.querySelector=function(w){throw new Error("Mixin: ParentNode not implemented.")},b.prototype.querySelectorAll=function(w){throw new Error("Mixin: ParentNode not implemented.")},b}(a.NodeImpl);o.DocumentImpl=s,i.idl_defineConst(s.prototype,"_nodeType",h.NodeType.Document)},function(v,o,r){var c,d=this&&this.__extends||(c=function(y,g){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var x in s)s.hasOwnProperty(x)&&(i[x]=s[x])})(y,g)},function(y,g){function i(){this.constructor=y}c(y,g),y.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}),l=this&&this.__values||function(y){var g=typeof Symbol=="function"&&Symbol.iterator,i=g&&y[g],s=0;if(i)return i.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&s>=y.length&&(y=void 0),{value:y&&y[s++],done:!y}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(y,g){var i=typeof Symbol=="function"&&y[Symbol.iterator];if(!i)return y;var s,x,b=i.call(y),w=[];try{for(;(g===void 0||g-- >0)&&!(s=b.next()).done;)w.push(s.value)}catch(S){x={error:S}}finally{try{s&&!s.done&&(i=b.return)&&i.call(b)}finally{if(x)throw x.error}}return w};Object.defineProperty(o,"__esModule",{value:!0});var n=r(2),h=r(34),t=r(9),a=r(7),f=r(0),p=r(12),m=function(y){function g(){var i=y.call(this)||this;return i._children=new Set,i._namespace=null,i._namespacePrefix=null,i._localName="",i._customElementState="undefined",i._customElementDefinition=null,i._is=null,i._shadowRoot=null,i._attributeList=f.create_namedNodeMap(i),i._attributeChangeSteps=[],i._name="",i._assignedSlot=null,i}return d(g,y),Object.defineProperty(g.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"tagName",{get:function(){return this._htmlUppercasedQualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"id",{get:function(){return f.element_getAnAttributeValue(this,"id")},set:function(i){f.element_setAnAttributeValue(this,"id",i)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"className",{get:function(){return f.element_getAnAttributeValue(this,"class")},set:function(i){f.element_setAnAttributeValue(this,"class",i)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"classList",{get:function(){var i=f.element_getAnAttributeByName("class",this);return i===null&&(i=f.create_attr(this._nodeDocument,"class")),f.create_domTokenList(this,i)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"slot",{get:function(){return f.element_getAnAttributeValue(this,"slot")},set:function(i){f.element_setAnAttributeValue(this,"slot",i)},enumerable:!0,configurable:!0}),g.prototype.hasAttributes=function(){return this._attributeList.length!==0},Object.defineProperty(g.prototype,"attributes",{get:function(){return this._attributeList},enumerable:!0,configurable:!0}),g.prototype.getAttributeNames=function(){var i,s,x=[];try{for(var b=l(this._attributeList),w=b.next();!w.done;w=b.next()){var S=w.value;x.push(S._qualifiedName)}}catch(D){i={error:D}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(i)throw i.error}}return x},g.prototype.getAttribute=function(i){var s=f.element_getAnAttributeByName(i,this);return s?s._value:null},g.prototype.getAttributeNS=function(i,s){var x=f.element_getAnAttributeByNamespaceAndLocalName(i,s,this);return x?x._value:null},g.prototype.setAttribute=function(i,s){if(!f.xml_isName(i))throw new t.InvalidCharacterError;this._namespace===a.namespace.HTML&&this._nodeDocument._type==="html"&&(i=i.toLowerCase());for(var x=null,b=0;b<this._attributeList.length;b++){var w=this._attributeList[b];if(w._qualifiedName===i){x=w;break}}if(x===null)return(x=f.create_attr(this._nodeDocument,i))._value=s,void f.element_append(x,this);f.element_change(x,this,s)},g.prototype.setAttributeNS=function(i,s,x){var b=u(f.namespace_validateAndExtract(i,s),3),w=b[0],S=b[1],D=b[2];f.element_setAnAttributeValue(this,D,x,S,w)},g.prototype.removeAttribute=function(i){f.element_removeAnAttributeByName(i,this)},g.prototype.removeAttributeNS=function(i,s){f.element_removeAnAttributeByNamespaceAndLocalName(i,s,this)},g.prototype.hasAttribute=function(i){this._namespace===a.namespace.HTML&&this._nodeDocument._type==="html"&&(i=i.toLowerCase());for(var s=0;s<this._attributeList.length;s++)if(this._attributeList[s]._qualifiedName===i)return!0;return!1},g.prototype.toggleAttribute=function(i,s){if(!f.xml_isName(i))throw new t.InvalidCharacterError;this._namespace===a.namespace.HTML&&this._nodeDocument._type==="html"&&(i=i.toLowerCase());for(var x=null,b=0;b<this._attributeList.length;b++){var w=this._attributeList[b];if(w._qualifiedName===i){x=w;break}}return x===null?(s===void 0||s===!0)&&((x=f.create_attr(this._nodeDocument,i))._value="",f.element_append(x,this),!0):s!==void 0&&s!==!1||(f.element_removeAnAttributeByName(i,this),!1)},g.prototype.hasAttributeNS=function(i,s){for(var x=i||null,b=0;b<this._attributeList.length;b++){var w=this._attributeList[b];if(w._namespace===x&&w._localName===s)return!0}return!1},g.prototype.getAttributeNode=function(i){return f.element_getAnAttributeByName(i,this)},g.prototype.getAttributeNodeNS=function(i,s){return f.element_getAnAttributeByNamespaceAndLocalName(i,s,this)},g.prototype.setAttributeNode=function(i){return f.element_setAnAttribute(i,this)},g.prototype.setAttributeNodeNS=function(i){return f.element_setAnAttribute(i,this)},g.prototype.removeAttributeNode=function(i){for(var s=!1,x=0;x<this._attributeList.length;x++)if(this._attributeList[x]===i){s=!0;break}if(!s)throw new t.NotFoundError;return f.element_remove(i,this),i},g.prototype.attachShadow=function(i){if(this._namespace!==a.namespace.HTML)throw new t.NotSupportedError;if(!f.customElement_isValidCustomElementName(this._localName)&&!f.customElement_isValidShadowHostName(this._localName))throw new t.NotSupportedError;if(f.customElement_isValidCustomElementName(this._localName)||this._is!==null){var s=f.customElement_lookUpACustomElementDefinition(this._nodeDocument,this._namespace,this._localName,this._is);if(s!==null&&s.disableShadow===!0)throw new t.NotSupportedError}if(this._shadowRoot!==null)throw new t.NotSupportedError;var x=f.create_shadowRoot(this._nodeDocument,this);return x._mode=i.mode,this._shadowRoot=x,x},Object.defineProperty(g.prototype,"shadowRoot",{get:function(){var i=this._shadowRoot;return i===null||i.mode==="closed"?null:i},enumerable:!0,configurable:!0}),g.prototype.closest=function(i){throw new t.NotImplementedError},g.prototype.matches=function(i){throw new t.NotImplementedError},g.prototype.webkitMatchesSelector=function(i){return this.matches(i)},g.prototype.getElementsByTagName=function(i){return f.node_listOfElementsWithQualifiedName(i,this)},g.prototype.getElementsByTagNameNS=function(i,s){return f.node_listOfElementsWithNamespace(i,s,this)},g.prototype.getElementsByClassName=function(i){return f.node_listOfElementsWithClassNames(i,this)},g.prototype.insertAdjacentElement=function(i,s){return f.element_insertAdjacent(this,i,s)},g.prototype.insertAdjacentText=function(i,s){var x=f.create_text(this._nodeDocument,s);f.element_insertAdjacent(this,i,x)},Object.defineProperty(g.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"_htmlUppercasedQualifiedName",{get:function(){var i=this._qualifiedName;return this._namespace===a.namespace.HTML&&this._nodeDocument._type==="html"&&(i=i.toUpperCase()),i},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),g.prototype.prepend=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];throw new Error("Mixin: ParentNode not implemented.")},g.prototype.append=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];throw new Error("Mixin: ParentNode not implemented.")},g.prototype.querySelector=function(i){throw new Error("Mixin: ParentNode not implemented.")},g.prototype.querySelectorAll=function(i){throw new Error("Mixin: ParentNode not implemented.")},Object.defineProperty(g.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),g.prototype.before=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];throw new Error("Mixin: ChildNode not implemented.")},g.prototype.after=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];throw new Error("Mixin: ChildNode not implemented.")},g.prototype.replaceWith=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];throw new Error("Mixin: ChildNode not implemented.")},g.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Object.defineProperty(g.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),g._create=function(i,s,x,b){x===void 0&&(x=null),b===void 0&&(b=null);var w=new g;return w._localName=s,w._namespace=x,w._namespacePrefix=b,w._nodeDocument=i,w},g}(h.NodeImpl);o.ElementImpl=m,p.idl_defineConst(m.prototype,"_nodeType",n.NodeType.Element)},function(v,o,r){var c,d=this&&this.__extends||(c=function(t,a){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])})(t,a)},function(t,a){function f(){this.constructor=t}c(t,a),t.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(2),u=r(34),n=r(12),h=function(t){function a(f){f===void 0&&(f=null);var p=t.call(this)||this;return p._children=new Set,p._host=f,p}return d(a,t),a.prototype.getElementById=function(f){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(a.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),a.prototype.prepend=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];throw new Error("Mixin: ParentNode not implemented.")},a.prototype.append=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];throw new Error("Mixin: ParentNode not implemented.")},a.prototype.querySelector=function(f){throw new Error("Mixin: ParentNode not implemented.")},a.prototype.querySelectorAll=function(f){throw new Error("Mixin: ParentNode not implemented.")},a._create=function(f,p){p===void 0&&(p=null);var m=new a(p);return m._nodeDocument=f,m},a}(u.NodeImpl);o.DocumentFragmentImpl=h,n.idl_defineConst(h.prototype,"_nodeType",l.NodeType.DocumentFragment)},function(v,o,r){var c,d=this&&this.__extends||(c=function(f,p){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var g in y)y.hasOwnProperty(g)&&(m[g]=y[g])})(f,p)},function(f,p){function m(){this.constructor=f}c(f,p),f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}),l=this&&this.__values||function(f){var p=typeof Symbol=="function"&&Symbol.iterator,m=p&&f[p],y=0;if(m)return m.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&y>=f.length&&(f=void 0),{value:f&&f[y++],done:!f}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var u=r(2),n=r(71),h=r(0),t=r(12),a=function(f){function p(m){m===void 0&&(m="");var y=f.call(this,m)||this;return y._name="",y._assignedSlot=null,y}return d(p,f),Object.defineProperty(p.prototype,"wholeText",{get:function(){var m,y,g="";try{for(var i=l(h.text_contiguousTextNodes(this,!0)),s=i.next();!s.done;s=i.next())g+=s.value._data}catch(x){m={error:x}}finally{try{s&&!s.done&&(y=i.return)&&y.call(i)}finally{if(m)throw m.error}}return g},enumerable:!0,configurable:!0}),p.prototype.splitText=function(m){return h.text_split(this,m)},Object.defineProperty(p.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),p._create=function(m,y){y===void 0&&(y="");var g=new p(y);return g._nodeDocument=m,g},p}(n.CharacterDataImpl);o.TextImpl=a,t.idl_defineConst(a.prototype,"_nodeType",u.NodeType.Text)},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function d(){}return Object.defineProperty(d.prototype,"_startNode",{get:function(){return this._start[0]},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"_startOffset",{get:function(){return this._start[1]},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"_endNode",{get:function(){return this._end[0]},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"_endOffset",{get:function(){return this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"_collapsed",{get:function(){return this._start[0]===this._end[0]&&this._start[1]===this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"startContainer",{get:function(){return this._startNode},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"startOffset",{get:function(){return this._startOffset},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"endContainer",{get:function(){return this._endNode},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"endOffset",{get:function(){return this._endOffset},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"collapsed",{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),d}();o.AbstractRangeImpl=c},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(2),d=function(){function l(u){this._activeFlag=!1,this._root=u,this._whatToShow=c.WhatToShow.All,this._filter=null}return Object.defineProperty(l.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"whatToShow",{get:function(){return this._whatToShow},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),l}();o.TraverserImpl=d},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(2),d=r(0),l=r(12),u=function(){function n(h,t){this._target=null,this._relatedTarget=null,this._touchTargetList=[],this._path=[],this._currentTarget=null,this._eventPhase=c.EventPhase.None,this._stopPropagationFlag=!1,this._stopImmediatePropagationFlag=!1,this._canceledFlag=!1,this._inPassiveListenerFlag=!1,this._composedFlag=!1,this._initializedFlag=!1,this._dispatchFlag=!1,this._isTrusted=!1,this._bubbles=!1,this._cancelable=!1,this._type=h,t&&(this._bubbles=t.bubbles||!1,this._cancelable=t.cancelable||!1,this._composedFlag=t.composed||!1),this._initializedFlag=!0,this._timeStamp=new Date().getTime()}return Object.defineProperty(n.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"srcElement",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),n.prototype.composedPath=function(){var h=[],t=this._path;if(t.length===0)return h;var a=this._currentTarget;if(a===null)throw new Error("Event currentTarget is null.");h.push(a);for(var f=0,p=0,m=t.length-1;m>=0;){if(t[m].rootOfClosedTree&&p++,t[m].invocationTarget===a){f=m;break}t[m].slotInClosedTree&&p--,m--}var y=p,g=p;for(m=f-1;m>=0;)t[m].rootOfClosedTree&&y++,y<=g&&h.unshift(t[m].invocationTarget),t[m].slotInClosedTree&&--y<g&&(g=y),m--;for(y=p,g=p,m=f+1;m<t.length;)t[m].slotInClosedTree&&y++,y<=g&&h.push(t[m].invocationTarget),t[m].rootOfClosedTree&&--y<g&&(g=y),m++;return h},Object.defineProperty(n.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),n.prototype.stopPropagation=function(){this._stopPropagationFlag=!0},Object.defineProperty(n.prototype,"cancelBubble",{get:function(){return this._stopPropagationFlag},set:function(h){h&&this.stopPropagation()},enumerable:!0,configurable:!0}),n.prototype.stopImmediatePropagation=function(){this._stopPropagationFlag=!0,this._stopImmediatePropagationFlag=!0},Object.defineProperty(n.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"returnValue",{get:function(){return!this._canceledFlag},set:function(h){h||d.event_setTheCanceledFlag(this)},enumerable:!0,configurable:!0}),n.prototype.preventDefault=function(){d.event_setTheCanceledFlag(this)},Object.defineProperty(n.prototype,"defaultPrevented",{get:function(){return this._canceledFlag},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"composed",{get:function(){return this._composedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"timeStamp",{get:function(){return this._timeStamp},enumerable:!0,configurable:!0}),n.prototype.initEvent=function(h,t,a){t===void 0&&(t=!1),a===void 0&&(a=!1),this._dispatchFlag||d.event_initialize(this,h,t,a)},n.NONE=0,n.CAPTURING_PHASE=1,n.AT_TARGET=2,n.BUBBLING_PHASE=3,n}();o.EventImpl=u,l.idl_defineConst(u.prototype,"NONE",0),l.idl_defineConst(u.prototype,"CAPTURING_PHASE",1),l.idl_defineConst(u.prototype,"AT_TARGET",2),l.idl_defineConst(u.prototype,"BUBBLING_PHASE",3)},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(2),d=r(9);o.traversal_filter=function(l,u){if(l._activeFlag)throw new d.InvalidStateError;var n=1<<u._nodeType-1;if((l.whatToShow&n)==0)return c.FilterResult.Skip;if(!l.filter)return c.FilterResult.Accept;l._activeFlag=!0;var h=c.FilterResult.Reject;try{h=l.filter.acceptNode(u)}catch(t){throw l._activeFlag=!1,t}return l._activeFlag=!1,h}},function(v,o,r){var c=this&&this.__read||function(g,i){var s=typeof Symbol=="function"&&g[Symbol.iterator];if(!s)return g;var x,b,w=s.call(g),S=[];try{for(;(i===void 0||i-- >0)&&!(x=w.next()).done;)S.push(x.value)}catch(D){b={error:D}}finally{try{x&&!x.done&&(s=w.return)&&s.call(w)}finally{if(b)throw b.error}}return S},d=this&&this.__values||function(g){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&g[i],x=0;if(s)return s.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&x>=g.length&&(g=void 0),{value:g&&g[x++],done:!g}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var l=r(6),u=r(3),n=r(1),h=r(99),t=r(73),a=r(17),f=r(173),p=r(30),m=r(52),y=r(37);o.document_elementInterface=function(g,i){return h.ElementImpl},o.document_internalCreateElementNS=function(g,i,s,x){var b=c(f.namespace_validateAndExtract(i,s),3),w=b[0],S=b[1],D=b[2],C=null;return x!==void 0&&(C=n.isString(x)?x:x.is),m.element_createAnElement(g,D,w,S,C,!0)},o.document_adopt=function(g,i){var s,x;if(g._nodeDocument!==i||g._parent!==null){var b=g._nodeDocument;if(g._parent&&y.mutation_remove(g,g._parent),i!==b)for(var w=a.tree_getFirstDescendantNode(g,!0,!0);w!==null;){if(w._nodeDocument=i,u.Guard.isElementNode(w))try{for(var S=(s=void 0,d(w._attributeList._asArray())),D=S.next();!D.done;D=S.next())D.value._nodeDocument=i}catch(C){s={error:C}}finally{try{D&&!D.done&&(x=S.return)&&x.call(S)}finally{if(s)throw s.error}}l.dom.features.customElements&&u.Guard.isElementNode(w)&&w._customElementState==="custom"&&t.customElement_enqueueACustomElementCallbackReaction(w,"adoptedCallback",[b,i]),l.dom.features.steps&&p.dom_runAdoptingSteps(w,b),w=a.tree_getNextDescendantNode(g,w,!0,!0)}}}},function(v,o,r){var c=this&&this.__values||function(a){var f=typeof Symbol=="function"&&Symbol.iterator,p=f&&a[f],m=0;if(p)return p.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&m>=a.length&&(a=void 0),{value:a&&a[m++],done:!a}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var d=r(6),l=r(3),u=r(9),n=r(17),h=r(51),t=r(30);o.characterData_replaceData=function(a,f,p,m){var y,g,i=n.tree_nodeLength(a);if(f>i)throw new u.IndexSizeError("Offset exceeds character data length. Offset: "+f+", Length: "+i+", Node is "+a.nodeName+".");f+p>i&&(p=i-f),d.dom.features.mutationObservers&&h.observer_queueMutationRecord("characterData",a,null,null,a._data,[],[],null,null);var s=a._data.substring(0,f)+m+a._data.substring(f+p);a._data=s;try{for(var x=c(d.dom.rangeList),b=x.next();!b.done;b=x.next()){var w=b.value;w._start[0]===a&&w._start[1]>f&&w._start[1]<=f+p&&(w._start[1]=f),w._end[0]===a&&w._end[1]>f&&w._end[1]<=f+p&&(w._end[1]=f),w._start[0]===a&&w._start[1]>f+p&&(w._start[1]+=m.length-p),w._end[0]===a&&w._end[1]>f+p&&(w._end[1]+=m.length-p)}}catch(S){y={error:S}}finally{try{b&&!b.done&&(g=x.return)&&g.call(x)}finally{if(y)throw y.error}}d.dom.features.steps&&l.Guard.isTextNode(a)&&a._parent!==null&&t.dom_runChildTextContentChangeSteps(a._parent)},o.characterData_substringData=function(a,f,p){var m=n.tree_nodeLength(a);if(f>m)throw new u.IndexSizeError("Offset exceeds character data length. Offset: "+f+", Length: "+m+", Node is "+a.nodeName+".");return f+p>m?a._data.substr(f):a._data.substr(f,p)}},function(v,o,r){var c=this&&this.__read||function(t,a){var f=typeof Symbol=="function"&&t[Symbol.iterator];if(!f)return t;var p,m,y=f.call(t),g=[];try{for(;(a===void 0||a-- >0)&&!(p=y.next()).done;)g.push(p.value)}catch(i){m={error:i}}finally{try{p&&!p.done&&(f=y.return)&&f.call(y)}finally{if(m)throw m.error}}return g},d=this&&this.__spread||function(){for(var t=[],a=0;a<arguments.length;a++)t=t.concat(c(arguments[a]));return t},l=this&&this.__values||function(t){var a=typeof Symbol=="function"&&Symbol.iterator,f=a&&t[a],p=0;if(f)return f.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&p>=t.length&&(t=void 0),{value:t&&t[p++],done:!t}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var u=r(7);function n(t){var a=u.string.splitAStringOnASCIIWhitespace(t);return new Set(a)}function h(t){return d(t).join(" ")}o.orderedSet_parse=n,o.orderedSet_serialize=h,o.orderedSet_sanitize=function(t){return h(n(t))},o.orderedSet_contains=function(t,a,f){var p,m,y,g;try{for(var i=l(a),s=i.next();!s.done;s=i.next()){var x=s.value,b=!1;try{for(var w=(y=void 0,l(t)),S=w.next();!S.done;S=w.next()){var D=S.value;if(f){if(D===x){b=!0;break}}else if(D.toUpperCase()===x.toUpperCase()){b=!0;break}}}catch(C){y={error:C}}finally{try{S&&!S.done&&(g=w.return)&&g.call(w)}finally{if(y)throw y.error}}if(!b)return!1}}catch(C){p={error:C}}finally{try{s&&!s.done&&(m=i.return)&&m.call(i)}finally{if(p)throw p.error}}return!0}},function(v,o,r){r(179),Object.defineProperty(o,"__esModule",{value:!0});var c=r(262),d=r(110),l=r(1);d.dom.setFeatures(!1),o.createDocument=function(){var u=new c.DOMImplementation().createDocument(null,"root",null);return u.documentElement&&u.removeChild(u.documentElement),u},o.sanitizeInput=function(u,n){if(u==null)return u;if(n===void 0)return u+"";var h="";u+="";for(var t=0;t<u.length;t++){var a=u.charCodeAt(t);if(a===9||a===10||a===13||a>=32&&a<=55295||a>=57344&&a<=65533)h+=u.charAt(t);else if(a>=55296&&a<=56319&&t<u.length-1){var f=u.charCodeAt(t+1);f>=56320&&f<=57343?(a=1024*(a-55296)+f-56320+65536,h+=String.fromCodePoint(a),t++):h+=l.isString(n)?n:n(u.charAt(t),t,u)}else h+=l.isString(n)?n:n(u.charAt(t),t,u)}return h}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(1),d=r(153);o.AbortController=d.AbortControllerImpl;var l=r(154);o.AbortSignal=l.AbortSignalImpl;var u=r(102);o.AbstractRange=u.AbstractRangeImpl;var n=r(157);o.Attr=n.AttrImpl;var h=r(158);o.CDATASection=h.CDATASectionImpl;var t=r(71);o.CharacterData=t.CharacterDataImpl;var a=r(263),f=r(159);o.Comment=f.CommentImpl;var p=r(171);o.CustomEvent=p.CustomEventImpl;var m=r(100);o.DocumentFragment=m.DocumentFragmentImpl;var y=r(98);o.Document=y.DocumentImpl;var g=r(264),i=r(155);o.DocumentType=i.DocumentTypeImpl;var s=r(6);o.dom=s.dom;var x=r(148);o.DOMImplementation=x.DOMImplementationImpl;var b=r(170);o.DOMTokenList=b.DOMTokenListImpl;var w=r(99);o.Element=w.ElementImpl;var S=r(104);o.Event=S.EventImpl;var D=r(70);o.EventTarget=D.EventTargetImpl;var C=r(161);o.HTMLCollection=C.HTMLCollectionImpl;var A=r(265);o.MutationObserver=A.MutationObserverImpl;var T=r(169);o.MutationRecord=T.MutationRecordImpl;var O=r(164);o.NamedNodeMap=O.NamedNodeMapImpl;var I=r(168);o.NodeFilter=I.NodeFilterImpl;var k=r(34);o.Node=k.NodeImpl;var R=r(166);o.NodeIterator=R.NodeIteratorImpl;var G=r(162);o.NodeList=G.NodeListImpl;var W=r(163);o.NodeListStatic=W.NodeListStaticImpl;var L=r(266),j=r(267),z=r(268),H=r(160);o.ProcessingInstruction=H.ProcessingInstructionImpl;var X=r(165);o.Range=X.RangeImpl;var Y=r(156);o.ShadowRoot=Y.ShadowRootImpl;var Z=r(269),q=r(270);o.StaticRange=q.StaticRangeImpl;var ee=r(101);o.Text=ee.TextImpl;var re=r(103);o.Traverser=re.TraverserImpl;var ae=r(167);o.TreeWalker=ae.TreeWalkerImpl;var Q=r(149);o.Window=Q.WindowImpl;var N=r(151);o.XMLDocument=N.XMLDocumentImpl,c.applyMixin(w.ElementImpl,a.ChildNodeImpl),c.applyMixin(t.CharacterDataImpl,a.ChildNodeImpl),c.applyMixin(i.DocumentTypeImpl,a.ChildNodeImpl),c.applyMixin(y.DocumentImpl,g.DocumentOrShadowRootImpl),c.applyMixin(Y.ShadowRootImpl,g.DocumentOrShadowRootImpl),c.applyMixin(w.ElementImpl,L.NonDocumentTypeChildNodeImpl),c.applyMixin(t.CharacterDataImpl,L.NonDocumentTypeChildNodeImpl),c.applyMixin(y.DocumentImpl,j.NonElementParentNodeImpl),c.applyMixin(m.DocumentFragmentImpl,j.NonElementParentNodeImpl),c.applyMixin(y.DocumentImpl,z.ParentNodeImpl),c.applyMixin(m.DocumentFragmentImpl,z.ParentNodeImpl),c.applyMixin(w.ElementImpl,z.ParentNodeImpl),c.applyMixin(ee.TextImpl,Z.SlotableImpl),c.applyMixin(w.ElementImpl,Z.SlotableImpl)},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0}),function(c){c[c.EOF=0]="EOF",c[c.Declaration=1]="Declaration",c[c.DocType=2]="DocType",c[c.Element=3]="Element",c[c.Text=4]="Text",c[c.CDATA=5]="CDATA",c[c.PI=6]="PI",c[c.Comment=7]="Comment",c[c.ClosingTag=8]="ClosingTag"}(o.TokenType||(o.TokenType={}))},function(v,o,r){r(64),r(20),r(66);var c,d=this&&this.__extends||(c=function(n,h){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var f in a)a.hasOwnProperty(f)&&(t[f]=a[f])})(n,h)},function(n,h){function t(){this.constructor=n}c(n,h),n.prototype=h===null?Object.create(h):(t.prototype=h.prototype,new t)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(1),u=function(n){function h(){return n!==null&&n.apply(this,arguments)||this}return d(h,n),h.prototype._parse=function(t,a){var f=this,p=this._builderOptions,m=null;return l.isFunction(a)?m=this.parse(t,a.apply(this)):l.isArray(a)||l.isSet(a)?l.forEachArray(a,function(y){return m=f.parse(t,y)},this):l.isMap(a)||l.isObject(a)?l.forEachObject(a,function(y,g){if(l.isFunction(g)&&(g=g.apply(f)),p.ignoreConverters||y.indexOf(p.convert.att)!==0)if(p.ignoreConverters||y.indexOf(p.convert.text)!==0)if(p.ignoreConverters||y.indexOf(p.convert.cdata)!==0)if(p.ignoreConverters||y.indexOf(p.convert.comment)!==0)if(p.ignoreConverters||y.indexOf(p.convert.ins)!==0){if(!((l.isArray(g)||l.isSet(g))&&l.isEmpty(g))){if((l.isMap(g)||l.isObject(g))&&l.isEmpty(g))m=f.element(t,void 0,f.sanitize(y))||m;else if(p.keepNullNodes||g!=null)if(l.isArray(g)||l.isSet(g))l.forEachArray(g,function(w){var S={};S[y]=w,m=f.parse(t,S)},f);else if(l.isMap(g)||l.isObject(g))(i=f.element(t,void 0,f.sanitize(y)))&&(m=i,f.parse(i,g));else if(g!=null&&g!==""){var i;(i=f.element(t,void 0,f.sanitize(y)))&&(m=i,f.text(i,f._decodeText(f.sanitize(g))))}else m=f.element(t,void 0,f.sanitize(y))||m}}else if(l.isString(g)){var s=g.indexOf(" "),x=s===-1?g:g.substr(0,s),b=s===-1?"":g.substr(s+1);m=f.instruction(t,f.sanitize(x),f.sanitize(b))||m}else l.isArray(g)||l.isSet(g)?l.forEachArray(g,function(w){var S=w.indexOf(" "),D=S===-1?w:w.substr(0,S),C=S===-1?"":w.substr(S+1);m=f.instruction(t,f.sanitize(D),f.sanitize(C))||m},f):l.forEachObject(g,function(w,S){return m=f.instruction(t,f.sanitize(w),f.sanitize(S))||m},f);else l.isArray(g)||l.isSet(g)?l.forEachArray(g,function(w){return m=f.comment(t,f.sanitize(w))||m},f):m=f.comment(t,f.sanitize(g))||m;else l.isArray(g)||l.isSet(g)?l.forEachArray(g,function(w){return m=f.cdata(t,f.sanitize(w))||m},f):m=f.cdata(t,f.sanitize(g))||m;else m=l.isMap(g)||l.isObject(g)?f.parse(t,g):f.text(t,f._decodeText(f.sanitize(g)))||m;else if(y===p.convert.att){if(l.isArray(g)||l.isSet(g))throw new Error("Invalid attribute: "+g.toString()+". "+t._debugInfo());l.forEachObject(g,function(w,S){m=f.attribute(t,void 0,f.sanitize(w),f._decodeAttributeValue(f.sanitize(S)))||m})}else m=f.attribute(t,void 0,f.sanitize(y.substr(p.convert.att.length)),f._decodeAttributeValue(f.sanitize(g)))||m},this):(p.keepNullNodes||a!=null)&&(m=this.text(t,this._decodeText(this.sanitize(a)))||m),m||t},h}(r(75).BaseReader);o.ObjectReader=u},function(v,o,r){var c=r(39);v.exports=new c({explicit:[r(286),r(287),r(288)]})},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=function(d){this.level=0,this._builderOptions=d,this._writerOptions=d};o.BaseCBWriter=c},function(v,o,r){var c=r(16),d=r(8),l=r(116);v.exports=!c&&!d(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!=7})},function(v,o,r){var c=r(11),d=r(13),l=c.document,u=d(l)&&d(l.createElement);v.exports=function(n){return u?l.createElement(n):{}}},function(v,o,r){var c=r(118),d=Function.toString;typeof c.inspectSource!="function"&&(c.inspectSource=function(l){return d.call(l)}),v.exports=c.inspectSource},function(v,o,r){var c=r(11),d=r(80),l=c["__core-js_shared__"]||d("__core-js_shared__",{});v.exports=l},function(v,o,r){var c=r(14),d=r(187),l=r(55),u=r(15);v.exports=function(n,h){for(var t=d(h),a=u.f,f=l.f,p=0;p<t.length;p++){var m=t[p];c(n,m)||a(n,m,f(h,m))}}},function(v,o,r){var c=r(11);v.exports=c},function(v,o,r){var c=r(14),d=r(24),l=r(122).indexOf,u=r(45);v.exports=function(n,h){var t,a=d(n),f=0,p=[];for(t in a)!c(u,t)&&c(a,t)&&p.push(t);for(;h.length>f;)c(a,t=h[f++])&&(~l(p,t)||p.push(t));return p}},function(v,o,r){var c=r(24),d=r(26),l=r(83),u=function(n){return function(h,t,a){var f,p=c(h),m=d(p.length),y=l(a,m);if(n&&t!=t){for(;m>y;)if((f=p[y++])!=f)return!0}else for(;m>y;y++)if((n||y in p)&&p[y]===t)return n||y||0;return!n&&-1}};v.exports={includes:u(!0),indexOf:u(!1)}},function(v,o,r){var c=r(8),d=/#|\.prototype\./,l=function(a,f){var p=n[u(a)];return p==t||p!=h&&(typeof f=="function"?c(f):!!f)},u=l.normalize=function(a){return String(a).replace(d,".").toLowerCase()},n=l.data={},h=l.NATIVE="N",t=l.POLYFILL="P";v.exports=l},function(v,o,r){var c=r(86);v.exports=c&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(v,o,r){var c=r(5);o.f=c},function(v,o,r){var c=r(120),d=r(14),l=r(125),u=r(15).f;v.exports=function(n){var h=c.Symbol||(c.Symbol={});d(h,n)||u(h,n,{value:l.f(n)})}},function(v,o){v.exports=function(r){if(typeof r!="function")throw TypeError(String(r)+" is not a function");return r}},function(v,o,r){var c=r(13),d=r(59),l=r(5)("species");v.exports=function(u,n){var h;return d(u)&&(typeof(h=u.constructor)!="function"||h!==Array&&!d(h.prototype)?c(h)&&(h=h[l])===null&&(h=void 0):h=void 0),new(h===void 0?Array:h)(n===0?0:n)}},function(v,o,r){var c,d,l=r(11),u=r(193),n=l.process,h=n&&n.versions,t=h&&h.v8;t?d=(c=t.split("."))[0]+c[1]:u&&(!(c=u.match(/Edge\/(\d+)/))||c[1]>=74)&&(c=u.match(/Chrome\/(\d+)/))&&(d=c[1]),v.exports=d&&+d},function(v,o,r){var c=r(5),d=r(60),l=r(15),u=c("unscopables"),n=Array.prototype;n[u]==null&&l.f(n,u,{configurable:!0,value:d(null)}),v.exports=function(h){n[u][h]=!0}},function(v,o,r){var c,d,l,u=r(132),n=r(21),h=r(14),t=r(5),a=r(44),f=t("iterator"),p=!1;[].keys&&("next"in(l=[].keys())?(d=u(u(l)))!==Object.prototype&&(c=d):p=!0),c==null&&(c={}),a||h(c,f)||n(c,f,function(){return this}),v.exports={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:p}},function(v,o,r){var c=r(14),d=r(27),l=r(57),u=r(196),n=l("IE_PROTO"),h=Object.prototype;v.exports=u?Object.getPrototypeOf:function(t){return t=d(t),c(t,n)?t[n]:typeof t.constructor=="function"&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?h:null}},function(v,o,r){var c=r(18),d=r(197);v.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,u=!1,n={};try{(l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),u=n instanceof Array}catch{}return function(h,t){return c(h),d(t),u?l.call(h,t):h.__proto__=t,h}}():void 0)},function(v,o,r){var c=r(56),d=r(15),l=r(40);v.exports=function(u,n,h){var t=c(n);t in u?d.f(u,t,l(0,h)):u[t]=h}},function(v,o,r){var c=r(90),d=r(42),l=r(5)("toStringTag"),u=d(function(){return arguments}())=="Arguments";v.exports=c?d:function(n){var h,t,a;return n===void 0?"Undefined":n===null?"Null":typeof(t=function(f,p){try{return f[p]}catch{}}(h=Object(n),l))=="string"?t:u?d(h):(a=d(h))=="Object"&&typeof h.callee=="function"?"Arguments":a}},function(v,o,r){var c=r(18);v.exports=function(){var d=c(this),l="";return d.global&&(l+="g"),d.ignoreCase&&(l+="i"),d.multiline&&(l+="m"),d.dotAll&&(l+="s"),d.unicode&&(l+="u"),d.sticky&&(l+="y"),l}},function(v,o,r){var c=r(47),d=r(35),l=function(u){return function(n,h){var t,a,f=String(d(n)),p=c(h),m=f.length;return p<0||p>=m?u?"":void 0:(t=f.charCodeAt(p))<55296||t>56319||p+1===m||(a=f.charCodeAt(p+1))<56320||a>57343?u?f.charAt(p):t:u?f.slice(p,p+2):a-56320+(t-55296<<10)+65536}};v.exports={codeAt:l(!1),charAt:l(!0)}},function(v,o,r){var c=r(4),d=r(27),l=r(61);c({target:"Object",stat:!0,forced:r(8)(function(){l(1)})},{keys:function(u){return l(d(u))}})},function(v,o,r){var c=r(4),d=r(11),l=r(123),u=r(25),n=r(140),h=r(141),t=r(142),a=r(13),f=r(8),p=r(208),m=r(62),y=r(209);v.exports=function(g,i,s){var x=g.indexOf("Map")!==-1,b=g.indexOf("Weak")!==-1,w=x?"set":"add",S=d[g],D=S&&S.prototype,C=S,A={},T=function(W){var L=D[W];u(D,W,W=="add"?function(j){return L.call(this,j===0?0:j),this}:W=="delete"?function(j){return!(b&&!a(j))&&L.call(this,j===0?0:j)}:W=="get"?function(j){return b&&!a(j)?void 0:L.call(this,j===0?0:j)}:W=="has"?function(j){return!(b&&!a(j))&&L.call(this,j===0?0:j)}:function(j,z){return L.call(this,j===0?0:j,z),this})};if(l(g,typeof S!="function"||!(b||D.forEach&&!f(function(){new S().entries().next()}))))C=s.getConstructor(i,g,x,w),n.REQUIRED=!0;else if(l(g,!0)){var O=new C,I=O[w](b?{}:-0,1)!=O,k=f(function(){O.has(1)}),R=p(function(W){new S(W)}),G=!b&&f(function(){for(var W=new S,L=5;L--;)W[w](L,L);return!W.has(-0)});R||((C=i(function(W,L){t(W,C,g);var j=y(new S,W,C);return L!=null&&h(L,j[w],j,x),j})).prototype=D,D.constructor=C),(k||G)&&(T("delete"),T("has"),x&&T("get")),(G||I)&&T(w),b&&D.clear&&delete D.clear}return A[g]=C,c({global:!0,forced:C!=S},A),m(C,g),b||s.setStrong(C,g,x),C}},function(v,o,r){var c=r(45),d=r(13),l=r(14),u=r(15).f,n=r(58),h=r(204),t=n("meta"),a=0,f=Object.isExtensible||function(){return!0},p=function(y){u(y,t,{value:{objectID:"O"+ ++a,weakData:{}}})},m=v.exports={REQUIRED:!1,fastKey:function(y,g){if(!d(y))return typeof y=="symbol"?y:(typeof y=="string"?"S":"P")+y;if(!l(y,t)){if(!f(y))return"F";if(!g)return"E";p(y)}return y[t].objectID},getWeakData:function(y,g){if(!l(y,t)){if(!f(y))return!0;if(!g)return!1;p(y)}return y[t].weakData},onFreeze:function(y){return h&&m.REQUIRED&&f(y)&&!l(y,t)&&p(y),y}};c[t]=!0},function(v,o,r){var c=r(18),d=r(205),l=r(26),u=r(87),n=r(206),h=r(207),t=function(a,f){this.stopped=a,this.result=f};(v.exports=function(a,f,p,m,y){var g,i,s,x,b,w,S,D=u(f,p,m?2:1);if(y)g=a;else{if(typeof(i=n(a))!="function")throw TypeError("Target is not iterable");if(d(i)){for(s=0,x=l(a.length);x>s;s++)if((b=m?D(c(S=a[s])[0],S[1]):D(a[s]))&&b instanceof t)return b;return new t(!1)}g=i.call(a)}for(w=g.next;!(S=w.call(g)).done;)if(typeof(b=h(g,D,S.value,m))=="object"&&b&&b instanceof t)return b;return new t(!1)}).stop=function(a){return new t(!0,a)}},function(v,o){v.exports=function(r,c,d){if(!(r instanceof c))throw TypeError("Incorrect "+(d?d+" ":"")+"invocation");return r}},function(v,o,r){var c=r(15).f,d=r(60),l=r(210),u=r(87),n=r(142),h=r(141),t=r(88),a=r(211),f=r(16),p=r(140).fastKey,m=r(43),y=m.set,g=m.getterFor;v.exports={getConstructor:function(i,s,x,b){var w=i(function(A,T){n(A,w,s),y(A,{type:s,index:d(null),first:void 0,last:void 0,size:0}),f||(A.size=0),T!=null&&h(T,A[b],A,x)}),S=g(s),D=function(A,T,O){var I,k,R=S(A),G=C(A,T);return G?G.value=O:(R.last=G={index:k=p(T,!0),key:T,value:O,previous:I=R.last,next:void 0,removed:!1},R.first||(R.first=G),I&&(I.next=G),f?R.size++:A.size++,k!=="F"&&(R.index[k]=G)),A},C=function(A,T){var O,I=S(A),k=p(T);if(k!=="F")return I.index[k];for(O=I.first;O;O=O.next)if(O.key==T)return O};return l(w.prototype,{clear:function(){for(var A=S(this),T=A.index,O=A.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=void 0),delete T[O.index],O=O.next;A.first=A.last=void 0,f?A.size=0:this.size=0},delete:function(A){var T=S(this),O=C(this,A);if(O){var I=O.next,k=O.previous;delete T.index[O.index],O.removed=!0,k&&(k.next=I),I&&(I.previous=k),T.first==O&&(T.first=I),T.last==O&&(T.last=k),f?T.size--:this.size--}return!!O},forEach:function(A){for(var T,O=S(this),I=u(A,arguments.length>1?arguments[1]:void 0,3);T=T?T.next:O.first;)for(I(T.value,T.key,this);T&&T.removed;)T=T.previous},has:function(A){return!!C(this,A)}}),l(w.prototype,x?{get:function(A){var T=C(this,A);return T&&T.value},set:function(A,T){return D(this,A===0?0:A,T)}}:{add:function(A){return D(this,A=A===0?0:A,A)}}),f&&c(w.prototype,"size",{get:function(){return S(this).size}}),w},setStrong:function(i,s,x){var b=s+" Iterator",w=g(s),S=g(b);t(i,s,function(D,C){y(this,{type:b,target:D,state:w(D),kind:C,last:void 0})},function(){for(var D=S(this),C=D.kind,A=D.last;A&&A.removed;)A=A.previous;return D.target&&(D.last=A=A?A.next:D.state.first)?C=="keys"?{value:A.key,done:!1}:C=="values"?{value:A.value,done:!1}:{value:[A.key,A.value],done:!1}:(D.target=void 0,{value:void 0,done:!0})},x?"entries":"values",!x,!0),a(s)}}},function(v,o,r){var c,d=r(4),l=r(55).f,u=r(26),n=r(222),h=r(35),t=r(224),a=r(44),f="".endsWith,p=Math.min,m=t("endsWith");d({target:"String",proto:!0,forced:!!(a||m||(c=l(String.prototype,"endsWith"),!c||c.writable))&&!m},{endsWith:function(y){var g=String(h(this));n(y);var i=arguments.length>1?arguments[1]:void 0,s=u(g.length),x=i===void 0?s:p(u(i),s),b=String(y);return f?f.call(g,b,x):g.slice(x-b.length,x)===b}})},function(v,o,r){(function(c){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var d=r(229),l=r(230),u=r(231);function n(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(N,E){if(n()<E)throw new RangeError("Invalid typed array length");return t.TYPED_ARRAY_SUPPORT?(N=new Uint8Array(E)).__proto__=t.prototype:(N===null&&(N=new t(E)),N.length=E),N}function t(N,E,P){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(N,E,P);if(typeof N=="number"){if(typeof E=="string")throw new Error("If encoding is specified then the first argument must be a string");return p(this,N)}return a(this,N,E,P)}function a(N,E,P,F){if(typeof E=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&E instanceof ArrayBuffer?function(M,B,U,$){if(B.byteLength,U<0||B.byteLength<U)throw new RangeError("'offset' is out of bounds");if(B.byteLength<U+($||0))throw new RangeError("'length' is out of bounds");return B=U===void 0&&$===void 0?new Uint8Array(B):$===void 0?new Uint8Array(B,U):new Uint8Array(B,U,$),t.TYPED_ARRAY_SUPPORT?(M=B).__proto__=t.prototype:M=m(M,B),M}(N,E,P,F):typeof E=="string"?function(M,B,U){if(typeof U=="string"&&U!==""||(U="utf8"),!t.isEncoding(U))throw new TypeError('"encoding" must be a valid string encoding');var $=0|g(B,U),J=(M=h(M,$)).write(B,U);return J!==$&&(M=M.slice(0,J)),M}(N,E,P):function(M,B){if(t.isBuffer(B)){var U=0|y(B.length);return(M=h(M,U)).length===0||B.copy(M,0,0,U),M}if(B){if(typeof ArrayBuffer<"u"&&B.buffer instanceof ArrayBuffer||"length"in B)return typeof B.length!="number"||($=B.length)!=$?h(M,0):m(M,B);if(B.type==="Buffer"&&u(B.data))return m(M,B.data)}var $;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(N,E)}function f(N){if(typeof N!="number")throw new TypeError('"size" argument must be a number');if(N<0)throw new RangeError('"size" argument must not be negative')}function p(N,E){if(f(E),N=h(N,E<0?0:0|y(E)),!t.TYPED_ARRAY_SUPPORT)for(var P=0;P<E;++P)N[P]=0;return N}function m(N,E){var P=E.length<0?0:0|y(E.length);N=h(N,P);for(var F=0;F<P;F+=1)N[F]=255&E[F];return N}function y(N){if(N>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|N}function g(N,E){if(t.isBuffer(N))return N.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(N)||N instanceof ArrayBuffer))return N.byteLength;typeof N!="string"&&(N=""+N);var P=N.length;if(P===0)return 0;for(var F=!1;;)switch(E){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":case void 0:return re(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*P;case"hex":return P>>>1;case"base64":return ae(N).length;default:if(F)return re(N).length;E=(""+E).toLowerCase(),F=!0}}function i(N,E,P){var F=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0)<=(E>>>=0))return"";for(N||(N="utf8");;)switch(N){case"hex":return G(this,E,P);case"utf8":case"utf-8":return I(this,E,P);case"ascii":return k(this,E,P);case"latin1":case"binary":return R(this,E,P);case"base64":return O(this,E,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,E,P);default:if(F)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),F=!0}}function s(N,E,P){var F=N[E];N[E]=N[P],N[P]=F}function x(N,E,P,F,M){if(N.length===0)return-1;if(typeof P=="string"?(F=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,isNaN(P)&&(P=M?0:N.length-1),P<0&&(P=N.length+P),P>=N.length){if(M)return-1;P=N.length-1}else if(P<0){if(!M)return-1;P=0}if(typeof E=="string"&&(E=t.from(E,F)),t.isBuffer(E))return E.length===0?-1:b(N,E,P,F,M);if(typeof E=="number")return E&=255,t.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?M?Uint8Array.prototype.indexOf.call(N,E,P):Uint8Array.prototype.lastIndexOf.call(N,E,P):b(N,[E],P,F,M);throw new TypeError("val must be string, number or Buffer")}function b(N,E,P,F,M){var B,U=1,$=N.length,J=E.length;if(F!==void 0&&((F=String(F).toLowerCase())==="ucs2"||F==="ucs-2"||F==="utf16le"||F==="utf-16le")){if(N.length<2||E.length<2)return-1;U=2,$/=2,J/=2,P/=2}function ne(Ce,we){return U===1?Ce[we]:Ce.readUInt16BE(we*U)}if(M){var oe=-1;for(B=P;B<$;B++)if(ne(N,B)===ne(E,oe===-1?0:B-oe)){if(oe===-1&&(oe=B),B-oe+1===J)return oe*U}else oe!==-1&&(B-=B-oe),oe=-1}else for(P+J>$&&(P=$-J),B=P;B>=0;B--){for(var ge=!0,de=0;de<J;de++)if(ne(N,B+de)!==ne(E,de)){ge=!1;break}if(ge)return B}return-1}function w(N,E,P,F){P=Number(P)||0;var M=N.length-P;F?(F=Number(F))>M&&(F=M):F=M;var B=E.length;if(B%2!=0)throw new TypeError("Invalid hex string");F>B/2&&(F=B/2);for(var U=0;U<F;++U){var $=parseInt(E.substr(2*U,2),16);if(isNaN($))return U;N[P+U]=$}return U}function S(N,E,P,F){return Q(re(E,N.length-P),N,P,F)}function D(N,E,P,F){return Q(function(M){for(var B=[],U=0;U<M.length;++U)B.push(255&M.charCodeAt(U));return B}(E),N,P,F)}function C(N,E,P,F){return D(N,E,P,F)}function A(N,E,P,F){return Q(ae(E),N,P,F)}function T(N,E,P,F){return Q(function(M,B){for(var U,$,J,ne=[],oe=0;oe<M.length&&!((B-=2)<0);++oe)U=M.charCodeAt(oe),$=U>>8,J=U%256,ne.push(J),ne.push($);return ne}(E,N.length-P),N,P,F)}function O(N,E,P){return E===0&&P===N.length?d.fromByteArray(N):d.fromByteArray(N.slice(E,P))}function I(N,E,P){P=Math.min(N.length,P);for(var F=[],M=E;M<P;){var B,U,$,J,ne=N[M],oe=null,ge=ne>239?4:ne>223?3:ne>191?2:1;if(M+ge<=P)switch(ge){case 1:ne<128&&(oe=ne);break;case 2:(192&(B=N[M+1]))==128&&(J=(31&ne)<<6|63&B)>127&&(oe=J);break;case 3:B=N[M+1],U=N[M+2],(192&B)==128&&(192&U)==128&&(J=(15&ne)<<12|(63&B)<<6|63&U)>2047&&(J<55296||J>57343)&&(oe=J);break;case 4:B=N[M+1],U=N[M+2],$=N[M+3],(192&B)==128&&(192&U)==128&&(192&$)==128&&(J=(15&ne)<<18|(63&B)<<12|(63&U)<<6|63&$)>65535&&J<1114112&&(oe=J)}oe===null?(oe=65533,ge=1):oe>65535&&(oe-=65536,F.push(oe>>>10&1023|55296),oe=56320|1023&oe),F.push(oe),M+=ge}return function(de){var Ce=de.length;if(Ce<=4096)return String.fromCharCode.apply(String,de);for(var we="",fe=0;fe<Ce;)we+=String.fromCharCode.apply(String,de.slice(fe,fe+=4096));return we}(F)}o.Buffer=t,o.SlowBuffer=function(N){return+N!=N&&(N=0),t.alloc(+N)},o.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=c.TYPED_ARRAY_SUPPORT!==void 0?c.TYPED_ARRAY_SUPPORT:function(){try{var N=new Uint8Array(1);return N.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},N.foo()===42&&typeof N.subarray=="function"&&N.subarray(1,1).byteLength===0}catch{return!1}}(),o.kMaxLength=n(),t.poolSize=8192,t._augment=function(N){return N.__proto__=t.prototype,N},t.from=function(N,E,P){return a(null,N,E,P)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(N,E,P){return function(F,M,B,U){return f(M),M<=0?h(F,M):B!==void 0?typeof U=="string"?h(F,M).fill(B,U):h(F,M).fill(B):h(F,M)}(null,N,E,P)},t.allocUnsafe=function(N){return p(null,N)},t.allocUnsafeSlow=function(N){return p(null,N)},t.isBuffer=function(N){return!(N==null||!N._isBuffer)},t.compare=function(N,E){if(!t.isBuffer(N)||!t.isBuffer(E))throw new TypeError("Arguments must be Buffers");if(N===E)return 0;for(var P=N.length,F=E.length,M=0,B=Math.min(P,F);M<B;++M)if(N[M]!==E[M]){P=N[M],F=E[M];break}return P<F?-1:F<P?1:0},t.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(N,E){if(!u(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return t.alloc(0);var P;if(E===void 0)for(E=0,P=0;P<N.length;++P)E+=N[P].length;var F=t.allocUnsafe(E),M=0;for(P=0;P<N.length;++P){var B=N[P];if(!t.isBuffer(B))throw new TypeError('"list" argument must be an Array of Buffers');B.copy(F,M),M+=B.length}return F},t.byteLength=g,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var N=this.length;if(N%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var E=0;E<N;E+=2)s(this,E,E+1);return this},t.prototype.swap32=function(){var N=this.length;if(N%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var E=0;E<N;E+=4)s(this,E,E+3),s(this,E+1,E+2);return this},t.prototype.swap64=function(){var N=this.length;if(N%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var E=0;E<N;E+=8)s(this,E,E+7),s(this,E+1,E+6),s(this,E+2,E+5),s(this,E+3,E+4);return this},t.prototype.toString=function(){var N=0|this.length;return N===0?"":arguments.length===0?I(this,0,N):i.apply(this,arguments)},t.prototype.equals=function(N){if(!t.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N||t.compare(this,N)===0},t.prototype.inspect=function(){var N="",E=o.INSPECT_MAX_BYTES;return this.length>0&&(N=this.toString("hex",0,E).match(/.{2}/g).join(" "),this.length>E&&(N+=" ... ")),"<Buffer "+N+">"},t.prototype.compare=function(N,E,P,F,M){if(!t.isBuffer(N))throw new TypeError("Argument must be a Buffer");if(E===void 0&&(E=0),P===void 0&&(P=N?N.length:0),F===void 0&&(F=0),M===void 0&&(M=this.length),E<0||P>N.length||F<0||M>this.length)throw new RangeError("out of range index");if(F>=M&&E>=P)return 0;if(F>=M)return-1;if(E>=P)return 1;if(this===N)return 0;for(var B=(M>>>=0)-(F>>>=0),U=(P>>>=0)-(E>>>=0),$=Math.min(B,U),J=this.slice(F,M),ne=N.slice(E,P),oe=0;oe<$;++oe)if(J[oe]!==ne[oe]){B=J[oe],U=ne[oe];break}return B<U?-1:U<B?1:0},t.prototype.includes=function(N,E,P){return this.indexOf(N,E,P)!==-1},t.prototype.indexOf=function(N,E,P){return x(this,N,E,P,!0)},t.prototype.lastIndexOf=function(N,E,P){return x(this,N,E,P,!1)},t.prototype.write=function(N,E,P,F){if(E===void 0)F="utf8",P=this.length,E=0;else if(P===void 0&&typeof E=="string")F=E,P=this.length,E=0;else{if(!isFinite(E))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");E|=0,isFinite(P)?(P|=0,F===void 0&&(F="utf8")):(F=P,P=void 0)}var M=this.length-E;if((P===void 0||P>M)&&(P=M),N.length>0&&(P<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");for(var B=!1;;)switch(F){case"hex":return w(this,N,E,P);case"utf8":case"utf-8":return S(this,N,E,P);case"ascii":return D(this,N,E,P);case"latin1":case"binary":return C(this,N,E,P);case"base64":return A(this,N,E,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,N,E,P);default:if(B)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),B=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(N,E,P){var F="";P=Math.min(N.length,P);for(var M=E;M<P;++M)F+=String.fromCharCode(127&N[M]);return F}function R(N,E,P){var F="";P=Math.min(N.length,P);for(var M=E;M<P;++M)F+=String.fromCharCode(N[M]);return F}function G(N,E,P){var F=N.length;(!E||E<0)&&(E=0),(!P||P<0||P>F)&&(P=F);for(var M="",B=E;B<P;++B)M+=ee(N[B]);return M}function W(N,E,P){for(var F=N.slice(E,P),M="",B=0;B<F.length;B+=2)M+=String.fromCharCode(F[B]+256*F[B+1]);return M}function L(N,E,P){if(N%1!=0||N<0)throw new RangeError("offset is not uint");if(N+E>P)throw new RangeError("Trying to access beyond buffer length")}function j(N,E,P,F,M,B){if(!t.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>M||E<B)throw new RangeError('"value" argument is out of bounds');if(P+F>N.length)throw new RangeError("Index out of range")}function z(N,E,P,F){E<0&&(E=65535+E+1);for(var M=0,B=Math.min(N.length-P,2);M<B;++M)N[P+M]=(E&255<<8*(F?M:1-M))>>>8*(F?M:1-M)}function H(N,E,P,F){E<0&&(E=4294967295+E+1);for(var M=0,B=Math.min(N.length-P,4);M<B;++M)N[P+M]=E>>>8*(F?M:3-M)&255}function X(N,E,P,F,M,B){if(P+F>N.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function Y(N,E,P,F,M){return M||X(N,0,P,4),l.write(N,E,P,F,23,4),P+4}function Z(N,E,P,F,M){return M||X(N,0,P,8),l.write(N,E,P,F,52,8),P+8}t.prototype.slice=function(N,E){var P,F=this.length;if((N=~~N)<0?(N+=F)<0&&(N=0):N>F&&(N=F),(E=E===void 0?F:~~E)<0?(E+=F)<0&&(E=0):E>F&&(E=F),E<N&&(E=N),t.TYPED_ARRAY_SUPPORT)(P=this.subarray(N,E)).__proto__=t.prototype;else{var M=E-N;P=new t(M,void 0);for(var B=0;B<M;++B)P[B]=this[B+N]}return P},t.prototype.readUIntLE=function(N,E,P){N|=0,E|=0,P||L(N,E,this.length);for(var F=this[N],M=1,B=0;++B<E&&(M*=256);)F+=this[N+B]*M;return F},t.prototype.readUIntBE=function(N,E,P){N|=0,E|=0,P||L(N,E,this.length);for(var F=this[N+--E],M=1;E>0&&(M*=256);)F+=this[N+--E]*M;return F},t.prototype.readUInt8=function(N,E){return E||L(N,1,this.length),this[N]},t.prototype.readUInt16LE=function(N,E){return E||L(N,2,this.length),this[N]|this[N+1]<<8},t.prototype.readUInt16BE=function(N,E){return E||L(N,2,this.length),this[N]<<8|this[N+1]},t.prototype.readUInt32LE=function(N,E){return E||L(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+16777216*this[N+3]},t.prototype.readUInt32BE=function(N,E){return E||L(N,4,this.length),16777216*this[N]+(this[N+1]<<16|this[N+2]<<8|this[N+3])},t.prototype.readIntLE=function(N,E,P){N|=0,E|=0,P||L(N,E,this.length);for(var F=this[N],M=1,B=0;++B<E&&(M*=256);)F+=this[N+B]*M;return F>=(M*=128)&&(F-=Math.pow(2,8*E)),F},t.prototype.readIntBE=function(N,E,P){N|=0,E|=0,P||L(N,E,this.length);for(var F=E,M=1,B=this[N+--F];F>0&&(M*=256);)B+=this[N+--F]*M;return B>=(M*=128)&&(B-=Math.pow(2,8*E)),B},t.prototype.readInt8=function(N,E){return E||L(N,1,this.length),128&this[N]?-1*(255-this[N]+1):this[N]},t.prototype.readInt16LE=function(N,E){E||L(N,2,this.length);var P=this[N]|this[N+1]<<8;return 32768&P?4294901760|P:P},t.prototype.readInt16BE=function(N,E){E||L(N,2,this.length);var P=this[N+1]|this[N]<<8;return 32768&P?4294901760|P:P},t.prototype.readInt32LE=function(N,E){return E||L(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},t.prototype.readInt32BE=function(N,E){return E||L(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},t.prototype.readFloatLE=function(N,E){return E||L(N,4,this.length),l.read(this,N,!0,23,4)},t.prototype.readFloatBE=function(N,E){return E||L(N,4,this.length),l.read(this,N,!1,23,4)},t.prototype.readDoubleLE=function(N,E){return E||L(N,8,this.length),l.read(this,N,!0,52,8)},t.prototype.readDoubleBE=function(N,E){return E||L(N,8,this.length),l.read(this,N,!1,52,8)},t.prototype.writeUIntLE=function(N,E,P,F){N=+N,E|=0,P|=0,F||j(this,N,E,P,Math.pow(2,8*P)-1,0);var M=1,B=0;for(this[E]=255&N;++B<P&&(M*=256);)this[E+B]=N/M&255;return E+P},t.prototype.writeUIntBE=function(N,E,P,F){N=+N,E|=0,P|=0,F||j(this,N,E,P,Math.pow(2,8*P)-1,0);var M=P-1,B=1;for(this[E+M]=255&N;--M>=0&&(B*=256);)this[E+M]=N/B&255;return E+P},t.prototype.writeUInt8=function(N,E,P){return N=+N,E|=0,P||j(this,N,E,1,255,0),t.TYPED_ARRAY_SUPPORT||(N=Math.floor(N)),this[E]=255&N,E+1},t.prototype.writeUInt16LE=function(N,E,P){return N=+N,E|=0,P||j(this,N,E,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[E]=255&N,this[E+1]=N>>>8):z(this,N,E,!0),E+2},t.prototype.writeUInt16BE=function(N,E,P){return N=+N,E|=0,P||j(this,N,E,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[E]=N>>>8,this[E+1]=255&N):z(this,N,E,!1),E+2},t.prototype.writeUInt32LE=function(N,E,P){return N=+N,E|=0,P||j(this,N,E,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[E+3]=N>>>24,this[E+2]=N>>>16,this[E+1]=N>>>8,this[E]=255&N):H(this,N,E,!0),E+4},t.prototype.writeUInt32BE=function(N,E,P){return N=+N,E|=0,P||j(this,N,E,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[E]=N>>>24,this[E+1]=N>>>16,this[E+2]=N>>>8,this[E+3]=255&N):H(this,N,E,!1),E+4},t.prototype.writeIntLE=function(N,E,P,F){if(N=+N,E|=0,!F){var M=Math.pow(2,8*P-1);j(this,N,E,P,M-1,-M)}var B=0,U=1,$=0;for(this[E]=255&N;++B<P&&(U*=256);)N<0&&$===0&&this[E+B-1]!==0&&($=1),this[E+B]=(N/U>>0)-$&255;return E+P},t.prototype.writeIntBE=function(N,E,P,F){if(N=+N,E|=0,!F){var M=Math.pow(2,8*P-1);j(this,N,E,P,M-1,-M)}var B=P-1,U=1,$=0;for(this[E+B]=255&N;--B>=0&&(U*=256);)N<0&&$===0&&this[E+B+1]!==0&&($=1),this[E+B]=(N/U>>0)-$&255;return E+P},t.prototype.writeInt8=function(N,E,P){return N=+N,E|=0,P||j(this,N,E,1,127,-128),t.TYPED_ARRAY_SUPPORT||(N=Math.floor(N)),N<0&&(N=255+N+1),this[E]=255&N,E+1},t.prototype.writeInt16LE=function(N,E,P){return N=+N,E|=0,P||j(this,N,E,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[E]=255&N,this[E+1]=N>>>8):z(this,N,E,!0),E+2},t.prototype.writeInt16BE=function(N,E,P){return N=+N,E|=0,P||j(this,N,E,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[E]=N>>>8,this[E+1]=255&N):z(this,N,E,!1),E+2},t.prototype.writeInt32LE=function(N,E,P){return N=+N,E|=0,P||j(this,N,E,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[E]=255&N,this[E+1]=N>>>8,this[E+2]=N>>>16,this[E+3]=N>>>24):H(this,N,E,!0),E+4},t.prototype.writeInt32BE=function(N,E,P){return N=+N,E|=0,P||j(this,N,E,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),t.TYPED_ARRAY_SUPPORT?(this[E]=N>>>24,this[E+1]=N>>>16,this[E+2]=N>>>8,this[E+3]=255&N):H(this,N,E,!1),E+4},t.prototype.writeFloatLE=function(N,E,P){return Y(this,N,E,!0,P)},t.prototype.writeFloatBE=function(N,E,P){return Y(this,N,E,!1,P)},t.prototype.writeDoubleLE=function(N,E,P){return Z(this,N,E,!0,P)},t.prototype.writeDoubleBE=function(N,E,P){return Z(this,N,E,!1,P)},t.prototype.copy=function(N,E,P,F){if(P||(P=0),F||F===0||(F=this.length),E>=N.length&&(E=N.length),E||(E=0),F>0&&F<P&&(F=P),F===P||N.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("sourceStart out of bounds");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),N.length-E<F-P&&(F=N.length-E+P);var M,B=F-P;if(this===N&&P<E&&E<F)for(M=B-1;M>=0;--M)N[M+E]=this[M+P];else if(B<1e3||!t.TYPED_ARRAY_SUPPORT)for(M=0;M<B;++M)N[M+E]=this[M+P];else Uint8Array.prototype.set.call(N,this.subarray(P,P+B),E);return B},t.prototype.fill=function(N,E,P,F){if(typeof N=="string"){if(typeof E=="string"?(F=E,E=0,P=this.length):typeof P=="string"&&(F=P,P=this.length),N.length===1){var M=N.charCodeAt(0);M<256&&(N=M)}if(F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!t.isEncoding(F))throw new TypeError("Unknown encoding: "+F)}else typeof N=="number"&&(N&=255);if(E<0||this.length<E||this.length<P)throw new RangeError("Out of range index");if(P<=E)return this;var B;if(E>>>=0,P=P===void 0?this.length:P>>>0,N||(N=0),typeof N=="number")for(B=E;B<P;++B)this[B]=N;else{var U=t.isBuffer(N)?N:re(new t(N,F).toString()),$=U.length;for(B=0;B<P-E;++B)this[B+E]=U[B%$]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function ee(N){return N<16?"0"+N.toString(16):N.toString(16)}function re(N,E){var P;E=E||1/0;for(var F=N.length,M=null,B=[],U=0;U<F;++U){if((P=N.charCodeAt(U))>55295&&P<57344){if(!M){if(P>56319){(E-=3)>-1&&B.push(239,191,189);continue}if(U+1===F){(E-=3)>-1&&B.push(239,191,189);continue}M=P;continue}if(P<56320){(E-=3)>-1&&B.push(239,191,189),M=P;continue}P=65536+(M-55296<<10|P-56320)}else M&&(E-=3)>-1&&B.push(239,191,189);if(M=null,P<128){if((E-=1)<0)break;B.push(P)}else if(P<2048){if((E-=2)<0)break;B.push(P>>6|192,63&P|128)}else if(P<65536){if((E-=3)<0)break;B.push(P>>12|224,P>>6&63|128,63&P|128)}else{if(!(P<1114112))throw new Error("Invalid code point");if((E-=4)<0)break;B.push(P>>18|240,P>>12&63|128,P>>6&63|128,63&P|128)}}return B}function ae(N){return d.toByteArray(function(E){if((E=function(P){return P.trim?P.trim():P.replace(/^\s+|\s+$/g,"")}(E).replace(q,"")).length<2)return"";for(;E.length%4!=0;)E+="=";return E}(N))}function Q(N,E,P,F){for(var M=0;M<F&&!(M+P>=E.length||M>=N.length);++M)E[M+P]=N[M];return M}}).call(this,r(78))},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0}),o.isASCIIByte=function(c){return c>=0&&c<=127}},function(v,o,r){var c=this&&this.__read||function(l,u){var n=typeof Symbol=="function"&&l[Symbol.iterator];if(!n)return l;var h,t,a=n.call(l),f=[];try{for(;(u===void 0||u-- >0)&&!(h=a.next()).done;)f.push(h.value)}catch(p){t={error:p}}finally{try{h&&!h.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return f},d=this&&this.__spread||function(){for(var l=[],u=0;u<arguments.length;u++)l=l.concat(c(arguments[u]));return l};Object.defineProperty(o,"__esModule",{value:!0}),o.length=function(l){return l.length},o.byteLowercase=function(l){for(var u=0;u<l.length;u++){var n=l[u];n>=65&&n<=90&&(l[u]=n+32)}},o.byteUppercase=function(l){for(var u=0;u<l.length;u++){var n=l[u];n>=97&&n<=122&&(l[u]=n-32)}},o.byteCaseInsensitiveMatch=function(l,u){if(l.length!==u.length)return!1;for(var n=0;n<l.length;n++){var h=l[n],t=u[n];if(h>=65&&h<=90&&(h+=32),t>=65&&t<=90&&(t+=32),h!==t)return!1}return!0},o.startsWith=function(l,u){for(var n=0;;){if(n>=l.length)return!1;if(n>=u.length)return!0;if(l[n]!==u[n])return!1;n++}},o.byteLessThan=function(l,u){for(var n=0;;){if(n>=l.length)return!1;if(n>=u.length)return!0;var h=l[n],t=u[n];if(h<t)return!0;if(h>t)return!1;n++}},o.isomorphicDecode=function(l){return String.fromCodePoint.apply(String,d(l))}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(6),d=r(7),l=r(0),u=r(12),n=function(){function h(t){this._associatedDocument=t||c.dom.window.document}return h.prototype.createDocumentType=function(t,a,f){return l.namespace_validate(t),l.create_documentType(this._associatedDocument,t,a,f)},h.prototype.createDocument=function(t,a,f){f===void 0&&(f=null);var p=l.create_xmlDocument(),m=null;return a&&(m=l.document_internalCreateElementNS(p,t,a)),f&&p.appendChild(f),m&&p.appendChild(m),p._origin=this._associatedDocument._origin,t===d.namespace.HTML?p._contentType="application/xhtml+xml":t===d.namespace.SVG?p._contentType="image/svg+xml":p._contentType="application/xml",p},h.prototype.createHTMLDocument=function(t){var a=l.create_document();a._type="html",a._contentType="text/html",a.appendChild(l.create_documentType(a,"html","",""));var f=l.element_createAnElement(a,"html",d.namespace.HTML);a.appendChild(f);var p=l.element_createAnElement(a,"head",d.namespace.HTML);if(f.appendChild(p),t!==void 0){var m=l.element_createAnElement(a,"title",d.namespace.HTML);p.appendChild(m);var y=l.create_text(a,t);m.appendChild(y)}var g=l.element_createAnElement(a,"body",d.namespace.HTML);return f.appendChild(g),a._origin=this._associatedDocument._origin,a},h.prototype.hasFeature=function(){return!0},h._create=function(t){return new h(t)},h}();o.DOMImplementationImpl=n,u.idl_defineConst(n.prototype,"_ID","@oozcitak/dom")},function(v,o,r){var c,d=this&&this.__extends||(c=function(t,a){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])})(t,a)},function(t,a){function f(){this.constructor=t}c(t,a),t.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(70),u=r(1),n=r(0),h=function(t){function a(){var f=t.call(this)||this;return f._signalSlots=new Set,f._mutationObserverMicrotaskQueued=!1,f._mutationObservers=new Set,f._iteratorList=new u.FixedSizeSet,f._associatedDocument=n.create_document(),f}return d(a,t),Object.defineProperty(a.prototype,"document",{get:function(){return this._associatedDocument},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"event",{get:function(){return this._currentEvent},enumerable:!0,configurable:!0}),a._create=function(){return new a},a}(l.EventTargetImpl);o.WindowImpl=h},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(2),d=function(){function l(){}return l.isNode=function(u){return!!u&&u._nodeType!==void 0},l.isDocumentNode=function(u){return l.isNode(u)&&u._nodeType===c.NodeType.Document},l.isDocumentTypeNode=function(u){return l.isNode(u)&&u._nodeType===c.NodeType.DocumentType},l.isDocumentFragmentNode=function(u){return l.isNode(u)&&u._nodeType===c.NodeType.DocumentFragment},l.isAttrNode=function(u){return l.isNode(u)&&u._nodeType===c.NodeType.Attribute},l.isCharacterDataNode=function(u){if(!l.isNode(u))return!1;var n=u._nodeType;return n===c.NodeType.Text||n===c.NodeType.ProcessingInstruction||n===c.NodeType.Comment||n===c.NodeType.CData},l.isTextNode=function(u){return l.isNode(u)&&(u._nodeType===c.NodeType.Text||u._nodeType===c.NodeType.CData)},l.isExclusiveTextNode=function(u){return l.isNode(u)&&u._nodeType===c.NodeType.Text},l.isCDATASectionNode=function(u){return l.isNode(u)&&u._nodeType===c.NodeType.CData},l.isCommentNode=function(u){return l.isNode(u)&&u._nodeType===c.NodeType.Comment},l.isProcessingInstructionNode=function(u){return l.isNode(u)&&u._nodeType===c.NodeType.ProcessingInstruction},l.isElementNode=function(u){return l.isNode(u)&&u._nodeType===c.NodeType.Element},l.isCustomElementNode=function(u){return l.isElementNode(u)&&u._customElementState==="custom"},l.isShadowRoot=function(u){return!!u&&u.host!==void 0},l.isMouseEvent=function(u){return!!u&&u.screenX!==void 0&&u.screenY!=null},l.isSlotable=function(u){return!!u&&u._name!==void 0&&u._assignedSlot!==void 0&&(l.isTextNode(u)||l.isElementNode(u))},l.isSlot=function(u){return!!u&&u._name!==void 0&&u._assignedNodes!==void 0&&l.isElementNode(u)},l.isWindow=function(u){return!!u&&u.navigator!==void 0},l.isEventListener=function(u){return!!u&&u.handleEvent!==void 0},l.isRegisteredObserver=function(u){return!!u&&u.observer!==void 0&&u.options!==void 0},l.isTransientRegisteredObserver=function(u){return!!u&&u.source!==void 0&&l.isRegisteredObserver(u)},l}();o.Guard=d},function(v,o,r){var c,d=this&&this.__extends||(c=function(u,n){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,t){h.__proto__=t}||function(h,t){for(var a in t)t.hasOwnProperty(a)&&(h[a]=t[a])})(u,n)},function(u,n){function h(){this.constructor=u}c(u,n),u.prototype=n===null?Object.create(n):(h.prototype=n.prototype,new h)});Object.defineProperty(o,"__esModule",{value:!0});var l=function(u){function n(){return u.call(this)||this}return d(n,u),n}(r(98).DocumentImpl);o.XMLDocumentImpl=l},function(v,o,r){var c=this&&this.__values||function(F){var M=typeof Symbol=="function"&&Symbol.iterator,B=M&&F[M],U=0;if(B)return B.call(F);if(F&&typeof F.length=="number")return{next:function(){return F&&U>=F.length&&(F=void 0),{value:F&&F[U++],done:!F}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__read||function(F,M){var B=typeof Symbol=="function"&&F[Symbol.iterator];if(!B)return F;var U,$,J=B.call(F),ne=[];try{for(;(M===void 0||M-- >0)&&!(U=J.next()).done;)ne.push(U.value)}catch(oe){$={error:oe}}finally{try{U&&!U.done&&(B=J.return)&&B.call(J)}finally{if($)throw $.error}}return ne};Object.defineProperty(o,"__esModule",{value:!0});var l,u=r(1),n=r(243),h=r(7),t=r(244),a={ftp:21,file:null,http:80,https:443,ws:80,wss:443},f=/[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,p=/[ "<>`]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,m=/[ "<>`#?{}]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,y=/[ "<>`#?{}/:;=@\[\]\\\^\|]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,g=/[0-9A-Za-z!\$&-\/:;=\?@_~\xA0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uD83E\uD840-\uD87E\uD880-\uD8BE\uD8C0-\uD8FE\uD900-\uD93E\uD940-\uD97E\uD980-\uD9BE\uD9C0-\uD9FE\uDA00-\uDA3E\uDA40-\uDA7E\uDA80-\uDABE\uDAC0-\uDAFE\uDB00-\uDB3E\uDB40-\uDB7E\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDC00-\uDFFD]/,i=/[\0\t\f\r #%/:?@\[\\\]]/;function s(F){l!==void 0&&l.call(null,"Validation Error: "+F)}function x(){return{scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null}}function b(F){return F in a}function w(F){return b(F.scheme)}function S(F){return a[F]||null}function D(F){return F.username!==""||F.password!==""}function C(F,M){var B,U;M===void 0&&(M=!1);var $=F.scheme+":";if(F.host!==null?($+="//",D(F)&&($+=F.username,F.password!==""&&($+=":"+F.password),$+="@"),$+=A(F.host),F.port!==null&&($+=":"+F.port)):F.host===null&&F.scheme==="file"&&($+="//"),F._cannotBeABaseURLFlag)$+=F.path[0];else try{for(var J=c(F.path),ne=J.next();!ne.done;ne=J.next())$+="/"+ne.value}catch(oe){B={error:oe}}finally{try{ne&&!ne.done&&(U=J.return)&&U.call(J)}finally{if(B)throw B.error}}return F.query!==null&&($+="?"+F.query),M||F.fragment===null||($+="#"+F.fragment),$}function A(F){return u.isNumber(F)?T(F):u.isArray(F)?"["+O(F)+"]":F}function T(F){for(var M="",B=F,U=1;U<=4;U++)M=(B%256).toString()+M,U!==4&&(M="."+M),B=Math.floor(B/256);return M}function O(F){for(var M="",B=null,U=-1,$=0,J=0,ne=0;ne<8;ne++)if(F[ne]===0){$=1;for(var oe=ne+1;oe<8&&F[oe]===0;oe++)$++;$>J&&(J=$,U=ne)}J>1&&(B=U);for(var ge=!1,de=0;de<8;de++)ge&&F[de]===0||(ge&&(ge=!1),B!==de?(M+=F[de].toString(16),de!==7&&(M+=":")):(M+=de===0?"::":":",ge=!0));return M}function I(F,M,B,U,$){var J,ne,oe,ge;if(U===void 0){U={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null};var de=/^[\u0000-\u001F\u0020]+/,Ce=/[\u0000-\u001F\u0020]+$/;(de.test(F)||Ce.test(F))&&s("Input string contains leading or trailing control characters or space."),F=(F=F.replace(de,"")).replace(Ce,"")}var we=/[\u0009\u000A\u000D]/g;we.test(F)&&s("Input string contains tab or newline characters."),F=F.replace(we,"");var fe=$===void 0?n.ParserState.SchemeStart:$;M===void 0&&(M=null);for(var Ae=B===void 0||B==="replacement"||B==="UTF-16BE"||B==="UTF-16LE"?"UTF-8":B,V="",ye=!1,ve=!1,he=!1,K=new u.StringWalker(F);;){switch(fe){case n.ParserState.SchemeStart:if(h.codePoint.ASCIIAlpha.test(K.c()))V+=K.c().toLowerCase(),fe=n.ParserState.Scheme;else{if($!==void 0)return s("Invalid scheme start character."),null;fe=n.ParserState.NoScheme,K.pointer--}break;case n.ParserState.Scheme:if(h.codePoint.ASCIIAlphanumeric.test(K.c())||K.c()==="+"||K.c()==="-"||K.c()===".")V+=K.c().toLowerCase();else{if(K.c()!==":"){if($===void 0){V="",fe=n.ParserState.NoScheme,K.pointer=0;continue}return s("Invalid input string."),null}if($!==void 0&&(b(U.scheme)&&!b(V)||!b(U.scheme)&&b(V)||(D(U)||U.port!==null)&&V==="file"||U.scheme==="file"&&(U.host===""||U.host===null)))return U;if(U.scheme=V,$!==void 0)return U.port===S(U.scheme)&&(U.port=null),U;V="",U.scheme==="file"?(K.remaining().startsWith("//")||s("Invalid file URL scheme, '//' expected."),fe=n.ParserState.File):w(U)&&M!==null&&M.scheme===U.scheme?fe=n.ParserState.SpecialRelativeOrAuthority:w(U)?fe=n.ParserState.SpecialAuthoritySlashes:K.remaining().startsWith("/")?(fe=n.ParserState.PathOrAuthority,K.pointer++):(U._cannotBeABaseURLFlag=!0,U.path.push(""),fe=n.ParserState.CannotBeABaseURLPath)}break;case n.ParserState.NoScheme:if(M===null||M._cannotBeABaseURLFlag&&K.c()!=="#")return s("Invalid input string."),null;M._cannotBeABaseURLFlag&&K.c()==="#"?(U.scheme=M.scheme,U.path=h.list.clone(M.path),U.query=M.query,U.fragment="",U._cannotBeABaseURLFlag=!0,fe=n.ParserState.Fragment):M.scheme!=="file"?(fe=n.ParserState.Relative,K.pointer--):(fe=n.ParserState.File,K.pointer--);break;case n.ParserState.SpecialRelativeOrAuthority:K.c()==="/"&&K.remaining().startsWith("/")?(fe=n.ParserState.SpecialAuthorityIgnoreSlashes,K.pointer++):(s("Invalid input string."),fe=n.ParserState.Relative,K.pointer--);break;case n.ParserState.PathOrAuthority:K.c()==="/"?fe=n.ParserState.Authority:(fe=n.ParserState.Path,K.pointer--);break;case n.ParserState.Relative:if(M===null)throw new Error("Invalid parser state. Base URL is null.");switch(U.scheme=M.scheme,K.c()){case"":U.username=M.username,U.password=M.password,U.host=M.host,U.port=M.port,U.path=h.list.clone(M.path),U.query=M.query;break;case"/":fe=n.ParserState.RelativeSlash;break;case"?":U.username=M.username,U.password=M.password,U.host=M.host,U.port=M.port,U.path=h.list.clone(M.path),U.query="",fe=n.ParserState.Query;break;case"#":U.username=M.username,U.password=M.password,U.host=M.host,U.port=M.port,U.path=h.list.clone(M.path),U.query=M.query,U.fragment="",fe=n.ParserState.Fragment;break;default:w(U)&&K.c()==="\\"?(s("Invalid input string."),fe=n.ParserState.RelativeSlash):(U.username=M.username,U.password=M.password,U.host=M.host,U.port=M.port,U.path=h.list.clone(M.path),U.path.length!==0&&U.path.splice(U.path.length-1,1),fe=n.ParserState.Path,K.pointer--)}break;case n.ParserState.RelativeSlash:if(!w(U)||K.c()!=="/"&&K.c()!=="\\")if(K.c()==="/")fe=n.ParserState.Authority;else{if(M===null)throw new Error("Invalid parser state. Base URL is null.");U.username=M.username,U.password=M.password,U.host=M.host,U.port=M.port,fe=n.ParserState.Path,K.pointer--}else K.c()==="\\"&&s("Invalid input string."),fe=n.ParserState.SpecialAuthorityIgnoreSlashes;break;case n.ParserState.SpecialAuthoritySlashes:K.c()==="/"&&K.remaining().startsWith("/")?(fe=n.ParserState.SpecialAuthorityIgnoreSlashes,K.pointer++):(s("Expected '//'."),fe=n.ParserState.SpecialAuthorityIgnoreSlashes,K.pointer--);break;case n.ParserState.SpecialAuthorityIgnoreSlashes:K.c()!=="/"&&K.c()!=="\\"?(fe=n.ParserState.Authority,K.pointer--):s("Unexpected '/' or '\\'.");break;case n.ParserState.Authority:if(K.c()==="@"){s("Unexpected '@'."),ye&&(V="%40"+V),ye=!0;try{for(var ie=(J=void 0,c(V)),ce=ie.next();!ce.done;ce=ie.next()){var le=ce.value;if(le!==":"||he){var pe=Q(le,y);he?U.password+=pe:U.username+=pe}else he=!0}}catch(Ve){J={error:Ve}}finally{try{ce&&!ce.done&&(ne=ie.return)&&ne.call(ie)}finally{if(J)throw J.error}}V=""}else if(K.c()===""||K.c()==="/"||K.c()==="?"||K.c()==="#"||w(U)&&K.c()==="\\"){if(ye&&V==="")return s("Invalid input string."),null;K.pointer-=V.length+1,V="",fe=n.ParserState.Host}else V+=K.c();break;case n.ParserState.Host:case n.ParserState.Hostname:if($!==void 0&&U.scheme==="file")K.pointer--,fe=n.ParserState.FileHost;else if(K.c()!==":"||ve)if(K.c()===""||K.c()==="/"||K.c()==="?"||K.c()==="#"||w(U)&&K.c()==="\\"){if(K.pointer--,w(U)&&V==="")return s("Invalid input string."),null;if($!==void 0&&V===""&&(D(U)||U.port!==null))return s("Invalid input string."),U;if((me=z(V,!w(U)))===null)return null;if(U.host=me,V="",fe=n.ParserState.PathStart,$!==void 0)return U}else K.c()==="["&&(ve=!0),K.c()==="]"&&(ve=!1),V+=K.c();else{if(V==="")return s("Invalid input string."),null;if((me=z(V,!w(U)))===null)return null;if(U.host=me,V="",fe=n.ParserState.Port,$===n.ParserState.Hostname)return U}break;case n.ParserState.Port:if(h.codePoint.ASCIIDigit.test(K.c()))V+=K.c();else{if(!(K.c()===""||K.c()==="/"||K.c()==="?"||K.c()==="#"||w(U)&&K.c()==="\\"||$))return s("Invalid input string."),null;if(V!==""&&V!==""){var Se=parseInt(V,10);if(Se>Math.pow(2,16)-1)return s("Invalid port number."),null;U.port=Se===S(U.scheme)?null:Se,V=""}if($!==void 0)return U;fe=n.ParserState.PathStart,K.pointer--}break;case n.ParserState.File:if(U.scheme="file",K.c()==="/"||K.c()==="\\")K.c()==="\\"&&s("Invalid input string."),fe=n.ParserState.FileSlash;else if(M!==null&&M.scheme==="file")switch(K.c()){case"":U.host=M.host,U.path=h.list.clone(M.path),U.query=M.query;break;case"?":U.host=M.host,U.path=h.list.clone(M.path),U.query="",fe=n.ParserState.Query;break;case"#":U.host=M.host,U.path=h.list.clone(M.path),U.query=M.query,U.fragment="",fe=n.ParserState.Fragment;break;default:j(K.substring())?s("Unexpected windows drive letter in input string."):(U.host=M.host,U.path=h.list.clone(M.path),G(U)),fe=n.ParserState.Path,K.pointer--}else fe=n.ParserState.Path,K.pointer--;break;case n.ParserState.FileSlash:K.c()==="/"||K.c()==="\\"?(K.c()==="\\"&&s("Invalid input string."),fe=n.ParserState.FileHost):(M===null||M.scheme!=="file"||j(K.substring())||(W(M.path[0])?U.path.push(M.path[0]):U.host=M.host),fe=n.ParserState.Path,K.pointer--);break;case n.ParserState.FileHost:if(K.c()===""||K.c()==="/"||K.c()==="\\"||K.c()==="?"||K.c()==="#")if(K.pointer--,$===void 0&&L(V))s("Unexpected windows drive letter in input string."),fe=n.ParserState.Path;else if(V===""){if(U.host="",$!==void 0)return U;fe=n.ParserState.PathStart}else{var me;if((me=z(V,!w(U)))===null)return null;if(me==="localhost"&&(me=""),U.host=me,$!==void 0)return U;V="",fe=n.ParserState.PathStart}else V+=K.c();break;case n.ParserState.PathStart:w(U)?(K.c()==="\\"&&s("Invalid input string."),fe=n.ParserState.Path,K.c()!=="/"&&K.c()!=="\\"&&K.pointer--):$===void 0&&K.c()==="?"?(U.query="",fe=n.ParserState.Query):$===void 0&&K.c()==="#"?(U.fragment="",fe=n.ParserState.Fragment):K.c()!==""&&(fe=n.ParserState.Path,K.c()!=="/"&&K.pointer--);break;case n.ParserState.Path:if(K.c()===""||K.c()==="/"||w(U)&&K.c()==="\\"||$===void 0&&(K.c()==="?"||K.c()==="#")){if(w(U)&&K.c()==="\\"&&s("Invalid input string."),R(V))G(U),K.c()==="/"||w(U)&&K.c()==="\\"||U.path.push("");else if(!k(V)||K.c()==="/"||w(U)&&K.c()==="\\"){if(!k(V)){if(U.scheme==="file"&&U.path.length===0&&L(V)){U.host!==null&&U.host!==""&&(s("Invalid input string."),U.host="");var De=Array.from(V);V=De.slice(0,1)+":"+De.slice(2)}U.path.push(V)}}else U.path.push("");if(V="",U.scheme==="file"&&(K.c()===""||K.c()==="?"||K.c()==="#"))for(;U.path.length>1&&U.path[0]==="";)s("Invalid input string."),U.path.splice(0,1);K.c()==="?"&&(U.query="",fe=n.ParserState.Query),K.c()==="#"&&(U.fragment="",fe=n.ParserState.Fragment)}else g.test(K.c())||K.c()==="%"||s("Character is not a URL code point or a percent encoded character."),K.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(K.remaining())||s("Percent encoded character must be followed by two hex digits."),V+=Q(K.c(),m);break;case n.ParserState.CannotBeABaseURLPath:K.c()==="?"?(U.query="",fe=n.ParserState.Query):K.c()==="#"?(U.fragment="",fe=n.ParserState.Fragment):(K.c()===""||g.test(K.c())||K.c()==="%"||s("Character is not a URL code point or a percent encoded character."),K.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(K.remaining())||s("Percent encoded character must be followed by two hex digits."),K.c()!==""&&(U.path[0]+=Q(K.c(),f)));break;case n.ParserState.Query:if(Ae==="UTF-8"||w(U)&&U.scheme!=="ws"&&U.scheme!=="wss"||(Ae="UTF-8"),$===void 0&&K.c()==="#")U.fragment="",fe=n.ParserState.Fragment;else if(K.c()!==""){if(g.test(K.c())||K.c()==="%"||s("Character is not a URL code point or a percent encoded character."),K.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(K.remaining())||s("Percent encoded character must be followed by two hex digits."),Ae.toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var Ee=u.utf8Encode(K.c());if(Ee.length>=3&&Ee[0]===38&&Ee[1]===35&&Ee[Ee.length-1]===59)Ee=Ee.subarray(2,Ee.length-1),U.query+="%26%23"+h.byteSequence.isomorphicDecode(Ee)+"%3B";else try{for(var Pe=(oe=void 0,c(Ee)),Le=Pe.next();!Le.done;Le=Pe.next()){var ke=Le.value;ke<33||ke>126||ke===34||ke===35||ke===60||ke===62||ke===39&&w(U)?U.query+=ee(ke):U.query+=String.fromCharCode(ke)}}catch(Ve){oe={error:Ve}}finally{try{Le&&!Le.done&&(ge=Pe.return)&&ge.call(Pe)}finally{if(oe)throw oe.error}}}break;case n.ParserState.Fragment:K.c()===""||(K.c()==="\0"?s("NULL character in input string."):(g.test(K.c())||K.c()==="%"||s("Unexpected character in fragment string."),K.c()!=="%"||/^[A-Za-z0-9][A-Za-z0-9]/.test(K.remaining())||s("Unexpected character in fragment string."),U.fragment+=Q(K.c(),p)))}if(K.eof)break;K.pointer++}return U}function k(F){return F==="."||F.toLowerCase()==="%2e"}function R(F){var M=F.toLowerCase();return M===".."||M===".%2e"||M==="%2e."||M==="%2e%2e"}function G(F){var M=F.path;M.length!==0&&(F.scheme==="file"&&M.length===1&&W(M[0])||F.path.splice(F.path.length-1,1))}function W(F){return F.length>=2&&h.codePoint.ASCIIAlpha.test(F[0])&&F[1]===":"}function L(F){return F.length>=2&&h.codePoint.ASCIIAlpha.test(F[0])&&(F[1]===":"||F[1]==="|")}function j(F){return F.length>=2&&L(F)&&(F.length===2||F[2]==="/"||F[2]==="\\"||F[2]==="?"||F[2]==="#")}function z(F,M){if(M===void 0&&(M=!1),F.startsWith("["))return F.endsWith("]")?Y(F.substring(1,F.length-1)):(s("Expected ']' after '['."),null);if(M)return Z(F);var B=P(u.utf8Decode(ae(F)));if(B===null||i.test(B))return s("Invalid domain."),null;var U=X(B);return U===null||u.isNumber(U)?U:B}function H(F,M){M===void 0&&(M={value:!1});var B=10;return F.startsWith("0x")||F.startsWith("0X")?(M.value=!0,F=F.substr(2),B=16):F.length>=2&&F[0]==="0"&&(M.value=!0,F=F.substr(1),B=8),F===""?0:(B===10?/^[0-9]+$/:B===16?/^[0-9A-Fa-f]+$/:/^[0-7]+$/).test(F)?parseInt(F,B):null}function X(F){var M,B,U,$,J={value:!1},ne=F.split(".");if(ne[ne.length-1]===""&&(J.value=!0,ne.length>1&&ne.pop()),ne.length>4)return F;var oe=[];try{for(var ge=c(ne),de=ge.next();!de.done;de=ge.next()){var Ce=de.value;if(Ce===""||(ve=H(Ce,J))===null)return F;oe.push(ve)}}catch(he){M={error:he}}finally{try{de&&!de.done&&(B=ge.return)&&B.call(ge)}finally{if(M)throw M.error}}J.value&&s("Invalid IP v4 address.");for(var we=0;we<oe.length;we++)if(oe[we]>255&&(s("Invalid IP v4 address."),we<oe.length-1))return null;if(oe[oe.length-1]>=Math.pow(256,5-oe.length))return s("Invalid IP v4 address."),null;var fe=oe[oe.length-1];oe.pop();var Ae=0;try{for(var V=c(oe),ye=V.next();!ye.done;ye=V.next()){var ve;fe+=(ve=ye.value)*Math.pow(256,3-Ae),Ae++}}catch(he){U={error:he}}finally{try{ye&&!ye.done&&($=V.return)&&$.call(V)}finally{if(U)throw U.error}}return fe}function Y(F){var M,B=[0,0,0,0,0,0,0,0],U=0,$=null,J=new u.StringWalker(F);if(J.c()===":"){if(!J.remaining().startsWith(":"))return s("Invalid IP v6 address."),null;J.pointer+=2,$=U+=1}for(;J.c()!=="";){if(U===8)return s("Invalid IP v6 address."),null;if(J.c()!==":"){for(var ne=0,oe=0;oe<4&&h.codePoint.ASCIIHexDigit.test(J.c());)ne=16*ne+parseInt(J.c(),16),J.pointer++,oe++;if(J.c()==="."){if(oe===0||(J.pointer-=oe,U>6))return s("Invalid IP v6 address."),null;for(var ge=0;J.c()!=="";){var de=null;if(ge>0){if(!(J.c()==="."&&ge<4))return s("Invalid IP v6 address."),null;J.pointer++}if(!h.codePoint.ASCIIDigit.test(J.c()))return s("Invalid IP v6 address."),null;for(;h.codePoint.ASCIIDigit.test(J.c());){var Ce=parseInt(J.c(),10);if(de===null)de=Ce;else{if(de===0)return s("Invalid IP v6 address."),null;de=10*de+Ce}if(de>255)return s("Invalid IP v6 address."),null;J.pointer++}if(de===null)return s("Invalid IP v6 address."),null;B[U]=256*B[U]+de,++ge!==2&&ge!==4||U++}if(ge!==4)return s("Invalid IP v6 address."),null;break}if(J.c()===":"){if(J.pointer++,J.c()==="")return s("Invalid IP v6 address."),null}else if(J.c()!=="")return s("Invalid IP v6 address."),null;B[U]=ne,U++}else{if($!==null)return s("Invalid IP v6 address."),null;J.pointer++,$=++U}}if($!==null){var we=U-$;for(U=7;U!==0&&we>0;)M=d([B[$+we-1],B[U]],2),B[U]=M[0],B[$+we-1]=M[1],U--,we--}else if($===null&&U!==8)return s("Invalid IP v6 address."),null;return B}function Z(F){var M,B;if(/[\x00\t\f\r #/:?@\[\\\]]/.test(F))return s("Invalid host string."),null;var U="";try{for(var $=c(F),J=$.next();!J.done;J=$.next())U+=Q(J.value,f)}catch(ne){M={error:ne}}finally{try{J&&!J.done&&(B=$.return)&&B.call($)}finally{if(M)throw M.error}}return U}function q(F){return null}function ee(F){return"%"+("00"+F.toString(16).toUpperCase()).slice(-2)}function re(F){for(var M=function(oe){return oe>=48&&oe<=57||oe>=65&&oe<=70||oe>=97&&oe<=102},B=new Uint8Array(F.length),U=0,$=0;$<F.length;$++){var J=F[$];if(J!==37)B[U]=J,U++;else if(J===37&&$>=F.length-2)B[U]=J,U++;else if(J!==37||M(F[$+1])&&M(F[$+2])){var ne=parseInt(u.utf8Decode(Uint8Array.of(F[$+1],F[$+2])),16);B[U]=ne,U++,$+=2}else B[U]=J,U++}return B.subarray(0,U)}function ae(F){return re(u.utf8Encode(F))}function Q(F,M){var B,U;if(!M.test(F))return F;var $=u.utf8Encode(F),J="";try{for(var ne=c($),oe=ne.next();!oe.done;oe=ne.next())J+=ee(oe.value)}catch(ge){B={error:ge}}finally{try{oe&&!oe.done&&(U=ne.return)&&U.call(ne)}finally{if(B)throw B.error}}return J}function N(F){var M,B,U,$,J=[],ne=[];try{for(var oe=c(F),ge=oe.next();!ge.done;ge=oe.next()){var de=ge.value;de===38?(J.push(Uint8Array.from(ne)),ne=[]):ne.push(de)}}catch(ce){M={error:ce}}finally{try{ge&&!ge.done&&(B=oe.return)&&B.call(oe)}finally{if(M)throw M.error}}ne.length!==0&&J.push(Uint8Array.from(ne));var Ce=[];try{for(var we=c(J),fe=we.next();!fe.done;fe=we.next()){var Ae=fe.value;if(Ae.length!==0){for(var V=Ae.indexOf(61),ye=V!==-1?Ae.slice(0,V):Ae,ve=V!==-1?Ae.slice(V+1):new Uint8Array,he=0;he<ye.length;he++)ye[he]===43&&(ye[he]=32);for(he=0;he<ve.length;he++)ve[he]===43&&(ve[he]=32);var K=u.utf8Decode(ye),ie=u.utf8Decode(ve);Ce.push([K,ie])}}}catch(ce){U={error:ce}}finally{try{fe&&!fe.done&&($=we.return)&&$.call(we)}finally{if(U)throw U.error}}return Ce}function E(F){var M,B,U="";try{for(var $=c(F),J=$.next();!J.done;J=$.next()){var ne=J.value;U+=ne===32?"+":ne===42||ne===45||ne===46||ne>=48&&ne<=57||ne>=65&&ne<=90||ne===95||ne>=97&&ne<=122?String.fromCodePoint(ne):ee(ne)}}catch(oe){M={error:oe}}finally{try{J&&!J.done&&(B=$.return)&&B.call($)}finally{if(M)throw M.error}}return U}function P(F,M){var B=t.domainToASCII(F);return B===""?(s("Invalid domain name."),null):B}o.setValidationErrorCallback=function(F){l=F},o.newURL=x,o.isSpecialScheme=b,o.isSpecial=w,o.defaultPort=S,o.includesCredentials=D,o.cannotHaveAUsernamePasswordPort=function(F){return F.host===null||F.host===""||F._cannotBeABaseURLFlag||F.scheme==="file"},o.urlSerializer=C,o.hostSerializer=A,o.iPv4Serializer=T,o.iPv6Serializer=O,o.urlParser=function(F,M,B){var U=I(F,M,B);return U===null?null:(U.scheme!=="blob"||(U._blobURLEntry=null),U)},o.basicURLParser=I,o.setTheUsername=function(F,M){var B,U,$="";try{for(var J=c(M),ne=J.next();!ne.done;ne=J.next())$+=Q(ne.value,y)}catch(oe){B={error:oe}}finally{try{ne&&!ne.done&&(U=J.return)&&U.call(J)}finally{if(B)throw B.error}}F.username=$},o.setThePassword=function(F,M){var B,U,$="";try{for(var J=c(M),ne=J.next();!ne.done;ne=J.next())$+=Q(ne.value,y)}catch(oe){B={error:oe}}finally{try{ne&&!ne.done&&(U=J.return)&&U.call(J)}finally{if(B)throw B.error}}F.password=$},o.isSingleDotPathSegment=k,o.isDoubleDotPathSegment=R,o.shorten=G,o.isNormalizedWindowsDriveLetter=W,o.isWindowsDriveLetter=L,o.startsWithAWindowsDriveLetter=j,o.hostParser=z,o.iPv4NumberParser=H,o.iPv4Parser=X,o.iPv6Parser=Y,o.opaqueHostParser=Z,o.resolveABlobURL=q,o.percentEncode=ee,o.percentDecode=re,o.stringPercentDecode=ae,o.utf8PercentEncode=Q,o.hostEquals=function(F,M){return F===M},o.urlEquals=function(F,M,B){return B===void 0&&(B=!1),C(F,B)===C(M,B)},o.urlEncodedStringParser=function(F){return N(u.utf8Encode(F))},o.urlEncodedParser=N,o.urlEncodedByteSerializer=E,o.urlEncodedSerializer=function(F,M){var B,U;if((M===void 0||M==="replacement"||M==="UTF-16BE"||M==="UTF-16LE"?"UTF-8":M).toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var $="";try{for(var J=c(F),ne=J.next();!ne.done;ne=J.next()){var oe=ne.value,ge=E(u.utf8Encode(oe[0])),de=oe[1];de=E(u.utf8Encode(de)),$!==""&&($+="&"),$+=ge+"="+de}}catch(Ce){B={error:Ce}}finally{try{ne&&!ne.done&&(U=J.return)&&U.call(J)}finally{if(B)throw B.error}}return $},o.origin=function F(M){switch(M.scheme){case"blob":M._blobURLEntry;var B=I(M.path[0]);return B===null?n.OpaqueOrigin:F(B);case"ftp":case"http":case"https":case"ws":case"wss":return[M.scheme,M.host===null?"":M.host,M.port,null];case"file":default:return n.OpaqueOrigin}},o.domainToASCII=P,o.domainToUnicode=function(F,M){var B=t.domainToUnicode(F);return B===""&&s("Invalid domain name."),B},o.asciiSerializationOfAnOrigin=function(F){if(F[0]===""&&F[1]===""&&F[2]===null&&F[3]===null)return"null";var M=F[0]+"://"+A(F[1]);return F[2]!==null&&(M+=":"+F[2].toString()),M}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(0),d=function(){function l(){this._signal=c.create_abortSignal()}return Object.defineProperty(l.prototype,"signal",{get:function(){return this._signal},enumerable:!0,configurable:!0}),l.prototype.abort=function(){c.abort_signalAbort(this._signal)},l}();o.AbortControllerImpl=d},function(v,o,r){var c,d=this&&this.__extends||(c=function(h,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var p in f)f.hasOwnProperty(p)&&(a[p]=f[p])})(h,t)},function(h,t){function a(){this.constructor=h}c(h,t),h.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(70),u=r(0),n=function(h){function t(){var a=h.call(this)||this;return a._abortedFlag=!1,a._abortAlgorithms=new Set,a}return d(t,h),Object.defineProperty(t.prototype,"aborted",{get:function(){return this._abortedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onabort",{get:function(){return u.event_getterEventHandlerIDLAttribute(this,"onabort")},set:function(a){u.event_setterEventHandlerIDLAttribute(this,"onabort",a)},enumerable:!0,configurable:!0}),t._create=function(){return new t},t}(l.EventTargetImpl);o.AbortSignalImpl=n},function(v,o,r){var c,d=this&&this.__extends||(c=function(t,a){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])})(t,a)},function(t,a){function f(){this.constructor=t}c(t,a),t.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(2),u=r(34),n=r(12),h=function(t){function a(f,p,m){var y=t.call(this)||this;return y._name="",y._publicId="",y._systemId="",y._name=f,y._publicId=p,y._systemId=m,y}return d(a,t),Object.defineProperty(a.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"publicId",{get:function(){return this._publicId},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"systemId",{get:function(){return this._systemId},enumerable:!0,configurable:!0}),a.prototype.before=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];throw new Error("Mixin: ChildNode not implemented.")},a.prototype.after=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];throw new Error("Mixin: ChildNode not implemented.")},a.prototype.replaceWith=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];throw new Error("Mixin: ChildNode not implemented.")},a.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},a._create=function(f,p,m,y){m===void 0&&(m=""),y===void 0&&(y="");var g=new a(p,m,y);return g._nodeDocument=f,g},a}(u.NodeImpl);o.DocumentTypeImpl=h,n.idl_defineConst(h.prototype,"_nodeType",l.NodeType.DocumentType)},function(v,o,r){var c,d=this&&this.__extends||(c=function(t,a){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])})(t,a)},function(t,a){function f(){this.constructor=t}c(t,a),t.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(100),u=r(1),n=r(0),h=function(t){function a(f,p){var m=t.call(this)||this;return m._host=f,m._mode=p,m}return d(a,t),Object.defineProperty(a.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"host",{get:function(){return this._host},enumerable:!0,configurable:!0}),a.prototype._getTheParent=function(f){return f._composedFlag||u.isEmpty(f._path)||n.tree_rootNode(f._path[0].invocationTarget)!==this?this._host:null},a._create=function(f,p){return new a(p,"closed")},a}(l.DocumentFragmentImpl);o.ShadowRootImpl=h},function(v,o,r){var c,d=this&&this.__extends||(c=function(a,f){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var y in m)m.hasOwnProperty(y)&&(p[y]=m[y])})(a,f)},function(a,f){function p(){this.constructor=a}c(a,f),a.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(2),u=r(34),n=r(0),h=r(12),t=function(a){function f(p){var m=a.call(this)||this;return m._namespace=null,m._namespacePrefix=null,m._element=null,m._value="",m._localName=p,m}return d(f,a),Object.defineProperty(f.prototype,"ownerElement",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"name",{get:function(){return this._qualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"value",{get:function(){return this._value},set:function(p){n.attr_setAnExistingAttributeValue(this,p)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix!==null?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),f._create=function(p,m){var y=new f(m);return y._nodeDocument=p,y},f}(u.NodeImpl);o.AttrImpl=t,h.idl_defineConst(t.prototype,"_nodeType",l.NodeType.Attribute),h.idl_defineConst(t.prototype,"specified",!0)},function(v,o,r){var c,d=this&&this.__extends||(c=function(t,a){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])})(t,a)},function(t,a){function f(){this.constructor=t}c(t,a),t.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(101),u=r(2),n=r(12),h=function(t){function a(f){return t.call(this,f)||this}return d(a,t),a._create=function(f,p){p===void 0&&(p="");var m=new a(p);return m._nodeDocument=f,m},a}(l.TextImpl);o.CDATASectionImpl=h,n.idl_defineConst(h.prototype,"_nodeType",u.NodeType.CData)},function(v,o,r){var c,d=this&&this.__extends||(c=function(t,a){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])})(t,a)},function(t,a){function f(){this.constructor=t}c(t,a),t.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(2),u=r(71),n=r(12),h=function(t){function a(f){return f===void 0&&(f=""),t.call(this,f)||this}return d(a,t),a._create=function(f,p){p===void 0&&(p="");var m=new a(p);return m._nodeDocument=f,m},a}(u.CharacterDataImpl);o.CommentImpl=h,n.idl_defineConst(h.prototype,"_nodeType",l.NodeType.Comment)},function(v,o,r){var c,d=this&&this.__extends||(c=function(t,a){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])})(t,a)},function(t,a){function f(){this.constructor=t}c(t,a),t.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(2),u=r(71),n=r(12),h=function(t){function a(f,p){var m=t.call(this,p)||this;return m._target=f,m}return d(a,t),Object.defineProperty(a.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),a._create=function(f,p,m){var y=new a(p,m);return y._nodeDocument=f,y},a}(u.CharacterDataImpl);o.ProcessingInstructionImpl=h,n.idl_defineConst(h.prototype,"_nodeType",l.NodeType.ProcessingInstruction)},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(7),d=r(0),l=r(3),u=r(1),n=function(){function h(t,a){return this._live=!0,this._root=t,this._filter=a,new Proxy(this,this)}return Object.defineProperty(h.prototype,"length",{get:function(){for(var t=this,a=0,f=d.tree_getFirstDescendantNode(this._root,!1,!1,function(p){return l.Guard.isElementNode(p)&&t._filter(p)});f!==null;)a++,f=d.tree_getNextDescendantNode(this._root,f,!1,!1,function(p){return l.Guard.isElementNode(p)&&t._filter(p)});return a},enumerable:!0,configurable:!0}),h.prototype.item=function(t){for(var a=this,f=0,p=d.tree_getFirstDescendantNode(this._root,!1,!1,function(m){return l.Guard.isElementNode(m)&&a._filter(m)});p!==null;){if(f===t)return p;f++,p=d.tree_getNextDescendantNode(this._root,p,!1,!1,function(m){return l.Guard.isElementNode(m)&&a._filter(m)})}return null},h.prototype.namedItem=function(t){var a=this;if(t==="")return null;for(var f=d.tree_getFirstDescendantNode(this._root,!1,!1,function(y){return l.Guard.isElementNode(y)&&a._filter(y)});f!=null;){if(f._uniqueIdentifier===t)return f;if(f._namespace===c.namespace.HTML)for(var p=0;p<f._attributeList.length;p++){var m=f._attributeList[p];if(m._localName==="name"&&m._namespace===null&&m._namespacePrefix===null&&m._value===t)return f}f=d.tree_getNextDescendantNode(this._root,f,!1,!1,function(y){return l.Guard.isElementNode(y)&&a._filter(y)})}return null},h.prototype[Symbol.iterator]=function(){var t=this._root,a=this._filter,f=d.tree_getFirstDescendantNode(t,!1,!1,function(p){return l.Guard.isElementNode(p)&&a(p)});return{next:function(){if(f===null)return{done:!0,value:null};var p={done:!1,value:f};return f=d.tree_getNextDescendantNode(t,f,!1,!1,function(m){return l.Guard.isElementNode(m)&&a(m)}),p}}},h.prototype.get=function(t,a,f){if(!u.isString(a)||h.reservedNames.indexOf(a)!==-1)return Reflect.get(t,a,f);var p=Number(a);return isNaN(p)?t.namedItem(a)||void 0:t.item(p)||void 0},h.prototype.set=function(t,a,f,p){if(!u.isString(a)||h.reservedNames.indexOf(a)!==-1)return Reflect.set(t,a,f,p);var m=Number(a),y=isNaN(m)?t.namedItem(a)||void 0:t.item(m)||void 0;return!(!y||!y._parent)&&(d.mutation_replace(y,f,y._parent),!0)},h._create=function(t,a){return a===void 0&&(a=function(){return!0}),new h(t,a)},h.reservedNames=["_root","_live","_filter","length","item","namedItem","get","set"],h}();o.HTMLCollectionImpl=n},function(v,o,r){var c=this&&this.__values||function(h){var t=typeof Symbol=="function"&&Symbol.iterator,a=t&&h[t],f=0;if(a)return a.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&f>=h.length&&(h=void 0),{value:h&&h[f++],done:!h}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var d=r(6),l=r(1),u=r(0),n=function(){function h(t){return this._live=!0,this._filter=null,this._length=0,this._root=t,new Proxy(this,this)}return Object.defineProperty(h.prototype,"length",{get:function(){return this._root._children.size},enumerable:!0,configurable:!0}),h.prototype.item=function(t){if(t<0||t>this.length-1)return null;if(t<this.length/2){for(var a=0,f=this._root._firstChild;f!==null&&a!==t;)f=f._nextSibling,a++;return f}for(a=this.length-1,f=this._root._lastChild;f!==null&&a!==t;)f=f._previousSibling,a--;return f},h.prototype.keys=function(){var t;return(t={})[Symbol.iterator]=function(){var a=0;return{next:function(){return a===this.length?{done:!0,value:null}:{done:!1,value:a++}}.bind(this)}}.bind(this),t},h.prototype.values=function(){var t;return(t={})[Symbol.iterator]=function(){var a=this[Symbol.iterator]();return{next:function(){return a.next()}}}.bind(this),t},h.prototype.entries=function(){var t;return(t={})[Symbol.iterator]=function(){var a=this[Symbol.iterator](),f=0;return{next:function(){var p=a.next();return p.done?{done:!0,value:null}:{done:!1,value:[f++,p.value]}}}}.bind(this),t},h.prototype[Symbol.iterator]=function(){return this._root._children[Symbol.iterator]()},h.prototype.forEach=function(t,a){var f,p;a===void 0&&(a=d.dom.window);var m=0;try{for(var y=c(this._root._children),g=y.next();!g.done;g=y.next()){var i=g.value;t.call(a,i,m++,this)}}catch(s){f={error:s}}finally{try{g&&!g.done&&(p=y.return)&&p.call(y)}finally{if(f)throw f.error}}},h.prototype.get=function(t,a,f){if(!l.isString(a))return Reflect.get(t,a,f);var p=Number(a);return isNaN(p)?Reflect.get(t,a,f):t.item(p)||void 0},h.prototype.set=function(t,a,f,p){if(!l.isString(a))return Reflect.set(t,a,f,p);var m=Number(a);if(isNaN(m))return Reflect.set(t,a,f,p);var y=t.item(m)||void 0;return!!y&&!!y._parent&&(u.mutation_replace(y,f,y._parent),!0)},h._create=function(t){return new h(t)},h}();o.NodeListImpl=n},function(v,o,r){var c=this&&this.__values||function(n){var h=typeof Symbol=="function"&&Symbol.iterator,t=h&&n[h],a=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var d=r(6),l=r(1),u=function(){function n(h){return this._live=!1,this._items=[],this._length=0,this._root=h,this._items=[],this._filter=function(t){return!0},new Proxy(this,this)}return Object.defineProperty(n.prototype,"length",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),n.prototype.item=function(h){return h<0||h>this.length-1?null:this._items[h]},n.prototype.keys=function(){var h;return(h={})[Symbol.iterator]=function(){var t=0;return{next:function(){return t===this.length?{done:!0,value:null}:{done:!1,value:t++}}.bind(this)}}.bind(this),h},n.prototype.values=function(){var h;return(h={})[Symbol.iterator]=function(){var t=this[Symbol.iterator]();return{next:function(){return t.next()}}}.bind(this),h},n.prototype.entries=function(){var h;return(h={})[Symbol.iterator]=function(){var t=this[Symbol.iterator](),a=0;return{next:function(){var f=t.next();return f.done?{done:!0,value:null}:{done:!1,value:[a++,f.value]}}}}.bind(this),h},n.prototype[Symbol.iterator]=function(){var h=this._items[Symbol.iterator]();return{next:function(){return h.next()}}},n.prototype.forEach=function(h,t){var a,f;t===void 0&&(t=d.dom.window);var p=0;try{for(var m=c(this._items),y=m.next();!y.done;y=m.next()){var g=y.value;h.call(t,g,p++,this)}}catch(i){a={error:i}}finally{try{y&&!y.done&&(f=m.return)&&f.call(m)}finally{if(a)throw a.error}}},n.prototype.get=function(h,t,a){if(!l.isString(t))return Reflect.get(h,t,a);var f=Number(t);return isNaN(f)?Reflect.get(h,t,a):h._items[f]||void 0},n.prototype.set=function(h,t,a,f){if(!l.isString(t))return Reflect.set(h,t,a,f);var p=Number(t);return isNaN(p)?Reflect.set(h,t,a,f):p>=0&&p<h._items.length&&(h._items[p]=a,!0)},n._create=function(h,t){var a=new n(h);return a._items=t,a},n}();o.NodeListStaticImpl=u},function(v,o,r){var c,d=this&&this.__extends||(c=function(h,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var p in f)f.hasOwnProperty(p)&&(a[p]=f[p])})(h,t)},function(h,t){function a(){this.constructor=h}c(h,t),h.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(9),u=r(0),n=function(h){function t(a){var f=h.call(this)||this;return f._element=a,Object.setPrototypeOf(f,t.prototype),f}return d(t,h),t.prototype._asArray=function(){return this},t.prototype.item=function(a){return this[a]||null},t.prototype.getNamedItem=function(a){return u.element_getAnAttributeByName(a,this._element)},t.prototype.getNamedItemNS=function(a,f){return u.element_getAnAttributeByNamespaceAndLocalName(a||"",f,this._element)},t.prototype.setNamedItem=function(a){return u.element_setAnAttribute(a,this._element)},t.prototype.setNamedItemNS=function(a){return u.element_setAnAttribute(a,this._element)},t.prototype.removeNamedItem=function(a){var f=u.element_removeAnAttributeByName(a,this._element);if(f===null)throw new l.NotFoundError;return f},t.prototype.removeNamedItemNS=function(a,f){var p=u.element_removeAnAttributeByNamespaceAndLocalName(a||"",f,this._element);if(p===null)throw new l.NotFoundError;return p},t._create=function(a){return new t(a)},t}(Array);o.NamedNodeMapImpl=n},function(v,o,r){var c,d=this&&this.__extends||(c=function(y,g){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var x in s)s.hasOwnProperty(x)&&(i[x]=s[x])})(y,g)},function(y,g){function i(){this.constructor=y}c(y,g),y.prototype=g===null?Object.create(g):(i.prototype=g.prototype,new i)}),l=this&&this.__values||function(y){var g=typeof Symbol=="function"&&Symbol.iterator,i=g&&y[g],s=0;if(i)return i.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&s>=y.length&&(y=void 0),{value:y&&y[s++],done:!y}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var u=r(6),n=r(2),h=r(102),t=r(9),a=r(0),f=r(12),p=r(3),m=function(y){function g(){var i=y.call(this)||this,s=u.dom.window._associatedDocument;return i._start=[s,0],i._end=[s,0],u.dom.rangeList.add(i),i}return d(g,y),Object.defineProperty(g.prototype,"commonAncestorContainer",{get:function(){for(var i=this._start[0];!a.tree_isAncestorOf(this._end[0],i,!0);){if(i._parent===null)throw new Error("Parent node  is null.");i=i._parent}return i},enumerable:!0,configurable:!0}),g.prototype.setStart=function(i,s){a.range_setTheStart(this,i,s)},g.prototype.setEnd=function(i,s){a.range_setTheEnd(this,i,s)},g.prototype.setStartBefore=function(i){var s=i._parent;if(s===null)throw new t.InvalidNodeTypeError;a.range_setTheStart(this,s,a.tree_index(i))},g.prototype.setStartAfter=function(i){var s=i._parent;if(s===null)throw new t.InvalidNodeTypeError;a.range_setTheStart(this,s,a.tree_index(i)+1)},g.prototype.setEndBefore=function(i){var s=i._parent;if(s===null)throw new t.InvalidNodeTypeError;a.range_setTheEnd(this,s,a.tree_index(i))},g.prototype.setEndAfter=function(i){var s=i._parent;if(s===null)throw new t.InvalidNodeTypeError;a.range_setTheEnd(this,s,a.tree_index(i)+1)},g.prototype.collapse=function(i){i?this._end=this._start:this._start=this._end},g.prototype.selectNode=function(i){a.range_select(i,this)},g.prototype.selectNodeContents=function(i){if(p.Guard.isDocumentTypeNode(i))throw new t.InvalidNodeTypeError;var s=a.tree_nodeLength(i);this._start=[i,0],this._end=[i,s]},g.prototype.compareBoundaryPoints=function(i,s){if(i!==n.HowToCompare.StartToStart&&i!==n.HowToCompare.StartToEnd&&i!==n.HowToCompare.EndToEnd&&i!==n.HowToCompare.EndToStart)throw new t.NotSupportedError;if(a.range_root(this)!==a.range_root(s))throw new t.WrongDocumentError;var x,b;switch(i){case n.HowToCompare.StartToStart:x=this._start,b=s._start;break;case n.HowToCompare.StartToEnd:x=this._end,b=s._start;break;case n.HowToCompare.EndToEnd:x=this._end,b=s._end;break;case n.HowToCompare.EndToStart:x=this._start,b=s._end;break;default:throw new t.NotSupportedError}var w=a.boundaryPoint_position(x,b);return w===n.BoundaryPosition.Before?-1:w===n.BoundaryPosition.After?1:0},g.prototype.deleteContents=function(){var i,s,x,b;if(!a.range_collapsed(this)){var w=this._startNode,S=this._startOffset,D=this._endNode,C=this._endOffset;if(w===D&&p.Guard.isCharacterDataNode(w))a.characterData_replaceData(w,S,C-S,"");else{var A,T,O=[];try{for(var I=l(a.range_getContainedNodes(this)),k=I.next();!k.done;k=I.next()){var R=(j=k.value)._parent;R!==null&&a.range_isContained(R,this)||O.push(j)}}catch(z){i={error:z}}finally{try{k&&!k.done&&(s=I.return)&&s.call(I)}finally{if(i)throw i.error}}if(a.tree_isAncestorOf(D,w,!0))A=w,T=S;else{for(var G=w;G._parent!==null&&!a.tree_isAncestorOf(D,G._parent,!0);)G=G._parent;if(G._parent===null)throw new Error("Parent node is null.");A=G._parent,T=a.tree_index(G)+1}p.Guard.isCharacterDataNode(w)&&a.characterData_replaceData(w,S,a.tree_nodeLength(w)-S,"");try{for(var W=l(O),L=W.next();!L.done;L=W.next()){var j;(j=L.value)._parent&&a.mutation_remove(j,j._parent)}}catch(z){x={error:z}}finally{try{L&&!L.done&&(b=W.return)&&b.call(W)}finally{if(x)throw x.error}}p.Guard.isCharacterDataNode(D)&&a.characterData_replaceData(D,0,C,""),this._start=[A,T],this._end=[A,T]}}},g.prototype.extractContents=function(){return a.range_extract(this)},g.prototype.cloneContents=function(){return a.range_cloneTheContents(this)},g.prototype.insertNode=function(i){return a.range_insert(i,this)},g.prototype.surroundContents=function(i){var s,x;try{for(var b=l(a.range_getPartiallyContainedNodes(this)),w=b.next();!w.done;w=b.next()){var S=w.value;if(!p.Guard.isTextNode(S))throw new t.InvalidStateError}}catch(C){s={error:C}}finally{try{w&&!w.done&&(x=b.return)&&x.call(b)}finally{if(s)throw s.error}}if(p.Guard.isDocumentNode(i)||p.Guard.isDocumentTypeNode(i)||p.Guard.isDocumentFragmentNode(i))throw new t.InvalidNodeTypeError;var D=a.range_extract(this);i._children.size!==0&&a.mutation_replaceAll(null,i),a.range_insert(i,this),a.mutation_append(D,i),a.range_select(i,this)},g.prototype.cloneRange=function(){return a.create_range(this._start,this._end)},g.prototype.detach=function(){u.dom.rangeList.delete(this)},g.prototype.isPointInRange=function(i,s){if(a.tree_rootNode(i)!==a.range_root(this))return!1;if(p.Guard.isDocumentTypeNode(i))throw new t.InvalidNodeTypeError;if(s>a.tree_nodeLength(i))throw new t.IndexSizeError;var x=[i,s];return a.boundaryPoint_position(x,this._start)!==n.BoundaryPosition.Before&&a.boundaryPoint_position(x,this._end)!==n.BoundaryPosition.After},g.prototype.comparePoint=function(i,s){if(a.tree_rootNode(i)!==a.range_root(this))throw new t.WrongDocumentError;if(p.Guard.isDocumentTypeNode(i))throw new t.InvalidNodeTypeError;if(s>a.tree_nodeLength(i))throw new t.IndexSizeError;var x=[i,s];return a.boundaryPoint_position(x,this._start)===n.BoundaryPosition.Before?-1:a.boundaryPoint_position(x,this._end)===n.BoundaryPosition.After?1:0},g.prototype.intersectsNode=function(i){if(a.tree_rootNode(i)!==a.range_root(this))return!1;var s=i._parent;if(s===null)return!0;var x=a.tree_index(i);return a.boundaryPoint_position([s,x],this._end)===n.BoundaryPosition.Before&&a.boundaryPoint_position([s,x+1],this._start)===n.BoundaryPosition.After},g.prototype.toString=function(){var i,s,x="";if(this._startNode===this._endNode&&p.Guard.isTextNode(this._startNode))return this._startNode._data.substring(this._startOffset,this._endOffset);p.Guard.isTextNode(this._startNode)&&(x+=this._startNode._data.substring(this._startOffset));try{for(var b=l(a.range_getContainedNodes(this)),w=b.next();!w.done;w=b.next()){var S=w.value;p.Guard.isTextNode(S)&&(x+=S._data)}}catch(D){i={error:D}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(i)throw i.error}}return p.Guard.isTextNode(this._endNode)&&(x+=this._endNode._data.substring(0,this._endOffset)),x},g._create=function(i,s){var x=new g;return i&&(x._start=i),s&&(x._end=s),x},g.START_TO_START=0,g.START_TO_END=1,g.END_TO_END=2,g.END_TO_START=3,g}(h.AbstractRangeImpl);o.RangeImpl=m,f.idl_defineConst(m.prototype,"START_TO_START",0),f.idl_defineConst(m.prototype,"START_TO_END",1),f.idl_defineConst(m.prototype,"END_TO_END",2),f.idl_defineConst(m.prototype,"END_TO_START",3)},function(v,o,r){var c,d=this&&this.__extends||(c=function(h,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var p in f)f.hasOwnProperty(p)&&(a[p]=f[p])})(h,t)},function(h,t){function a(){this.constructor=h}c(h,t),h.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(103),u=r(0),n=function(h){function t(a,f,p){var m=h.call(this,a)||this;return m._iteratorCollection=void 0,m._reference=f,m._pointerBeforeReference=p,u.nodeIterator_iteratorList().add(m),m}return d(t,h),Object.defineProperty(t.prototype,"referenceNode",{get:function(){return this._reference},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerBeforeReferenceNode",{get:function(){return this._pointerBeforeReference},enumerable:!0,configurable:!0}),t.prototype.nextNode=function(){return u.nodeIterator_traverse(this,!0)},t.prototype.previousNode=function(){return u.nodeIterator_traverse(this,!1)},t.prototype.detach=function(){u.nodeIterator_iteratorList().delete(this)},t._create=function(a,f,p){return new t(a,f,p)},t}(l.TraverserImpl);o.NodeIteratorImpl=n},function(v,o,r){var c,d=this&&this.__extends||(c=function(t,a){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])})(t,a)},function(t,a){function f(){this.constructor=t}c(t,a),t.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(2),u=r(103),n=r(0),h=function(t){function a(f,p){var m=t.call(this,f)||this;return m._current=p,m}return d(a,t),Object.defineProperty(a.prototype,"currentNode",{get:function(){return this._current},set:function(f){this._current=f},enumerable:!0,configurable:!0}),a.prototype.parentNode=function(){for(var f=this._current;f!==null&&f!==this._root;)if((f=f._parent)!==null&&n.traversal_filter(this,f)===l.FilterResult.Accept)return this._current=f,f;return null},a.prototype.firstChild=function(){return n.treeWalker_traverseChildren(this,!0)},a.prototype.lastChild=function(){return n.treeWalker_traverseChildren(this,!1)},a.prototype.nextSibling=function(){return n.treeWalker_traverseSiblings(this,!0)},a.prototype.previousNode=function(){for(var f=this._current;f!==this._root;){for(var p=f._previousSibling;p;){f=p;for(var m=n.traversal_filter(this,f);m!==l.FilterResult.Reject&&f._lastChild;)f=f._lastChild,m=n.traversal_filter(this,f);if(m===l.FilterResult.Accept)return this._current=f,f;p=f._previousSibling}if(f===this._root||f._parent===null)return null;if(f=f._parent,n.traversal_filter(this,f)===l.FilterResult.Accept)return this._current=f,f}return null},a.prototype.previousSibling=function(){return n.treeWalker_traverseSiblings(this,!1)},a.prototype.nextNode=function(){for(var f=this._current,p=l.FilterResult.Accept;;){for(;p!==l.FilterResult.Reject&&f._firstChild;)if(f=f._firstChild,(p=n.traversal_filter(this,f))===l.FilterResult.Accept)return this._current=f,f;for(var m=null,y=f;y!==null;){if(y===this._root)return null;if((m=y._nextSibling)!==null){f=m;break}y=y._parent}if((p=n.traversal_filter(this,f))===l.FilterResult.Accept)return this._current=f,f}},a._create=function(f,p){return new a(f,p)},a}(u.TraverserImpl);o.TreeWalkerImpl=h},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(2),d=r(12),l=function(){function u(){}return u.prototype.acceptNode=function(n){return c.FilterResult.Accept},u._create=function(){return new u},u.FILTER_ACCEPT=1,u.FILTER_REJECT=2,u.FILTER_SKIP=3,u.SHOW_ALL=4294967295,u.SHOW_ELEMENT=1,u.SHOW_ATTRIBUTE=2,u.SHOW_TEXT=4,u.SHOW_CDATA_SECTION=8,u.SHOW_ENTITY_REFERENCE=16,u.SHOW_ENTITY=32,u.SHOW_PROCESSING_INSTRUCTION=64,u.SHOW_COMMENT=128,u.SHOW_DOCUMENT=256,u.SHOW_DOCUMENT_TYPE=512,u.SHOW_DOCUMENT_FRAGMENT=1024,u.SHOW_NOTATION=2048,u}();o.NodeFilterImpl=l,d.idl_defineConst(l.prototype,"FILTER_ACCEPT",1),d.idl_defineConst(l.prototype,"FILTER_REJECT",2),d.idl_defineConst(l.prototype,"FILTER_SKIP",3),d.idl_defineConst(l.prototype,"SHOW_ALL",4294967295),d.idl_defineConst(l.prototype,"SHOW_ELEMENT",1),d.idl_defineConst(l.prototype,"SHOW_ATTRIBUTE",2),d.idl_defineConst(l.prototype,"SHOW_TEXT",4),d.idl_defineConst(l.prototype,"SHOW_CDATA_SECTION",8),d.idl_defineConst(l.prototype,"SHOW_ENTITY_REFERENCE",16),d.idl_defineConst(l.prototype,"SHOW_ENTITY",32),d.idl_defineConst(l.prototype,"SHOW_PROCESSING_INSTRUCTION",64),d.idl_defineConst(l.prototype,"SHOW_COMMENT",128),d.idl_defineConst(l.prototype,"SHOW_DOCUMENT",256),d.idl_defineConst(l.prototype,"SHOW_DOCUMENT_TYPE",512),d.idl_defineConst(l.prototype,"SHOW_DOCUMENT_FRAGMENT",1024),d.idl_defineConst(l.prototype,"SHOW_NOTATION",2048)},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function d(l,u,n,h,t,a,f,p,m){this._type=l,this._target=u,this._addedNodes=n,this._removedNodes=h,this._previousSibling=t,this._nextSibling=a,this._attributeName=f,this._attributeNamespace=p,this._oldValue=m}return Object.defineProperty(d.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"addedNodes",{get:function(){return this._addedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"removedNodes",{get:function(){return this._removedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"attributeName",{get:function(){return this._attributeName},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"attributeNamespace",{get:function(){return this._attributeNamespace},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"oldValue",{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),d._create=function(l,u,n,h,t,a,f,p,m){return new d(l,u,n,h,t,a,f,p,m)},d}();o.MutationRecordImpl=c},function(v,o,r){var c=this&&this.__values||function(t){var a=typeof Symbol=="function"&&Symbol.iterator,f=a&&t[a],p=0;if(f)return f.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&p>=t.length&&(t=void 0),{value:t&&t[p++],done:!t}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var d=r(6),l=r(9),u=r(7),n=r(0),h=function(){function t(a,f){this._element=a,this._attribute=f,this._tokenSet=new Set;var p=f._localName,m=n.element_getAnAttributeValue(a,p),y=this;this._element._attributeChangeSteps.push(function(g,i,s,x,b){i===y._attribute._localName&&b===null&&(x?y._tokenSet=n.orderedSet_parse(x):y._tokenSet.clear())}),d.dom.features.steps&&n.dom_runAttributeChangeSteps(a,p,m,m,null)}return Object.defineProperty(t.prototype,"length",{get:function(){return this._tokenSet.size},enumerable:!0,configurable:!0}),t.prototype.item=function(a){var f,p,m=0;try{for(var y=c(this._tokenSet),g=y.next();!g.done;g=y.next()){var i=g.value;if(m===a)return i;m++}}catch(s){f={error:s}}finally{try{g&&!g.done&&(p=y.return)&&p.call(y)}finally{if(f)throw f.error}}return null},t.prototype.contains=function(a){return this._tokenSet.has(a)},t.prototype.add=function(){for(var a,f,p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];try{for(var y=c(p),g=y.next();!g.done;g=y.next()){var i=g.value;if(i==="")throw new l.SyntaxError("Cannot add an empty token.");if(u.codePoint.ASCIIWhiteSpace.test(i))throw new l.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.add(i)}}catch(s){a={error:s}}finally{try{g&&!g.done&&(f=y.return)&&f.call(y)}finally{if(a)throw a.error}}n.tokenList_updateSteps(this)},t.prototype.remove=function(){for(var a,f,p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];try{for(var y=c(p),g=y.next();!g.done;g=y.next()){var i=g.value;if(i==="")throw new l.SyntaxError("Cannot remove an empty token.");if(u.codePoint.ASCIIWhiteSpace.test(i))throw new l.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.delete(i)}}catch(s){a={error:s}}finally{try{g&&!g.done&&(f=y.return)&&f.call(y)}finally{if(a)throw a.error}}n.tokenList_updateSteps(this)},t.prototype.toggle=function(a,f){if(f===void 0&&(f=void 0),a==="")throw new l.SyntaxError("Cannot toggle an empty token.");if(u.codePoint.ASCIIWhiteSpace.test(a))throw new l.InvalidCharacterError("Token cannot contain whitespace.");return this._tokenSet.has(a)?f!==void 0&&f!==!1||(this._tokenSet.delete(a),n.tokenList_updateSteps(this),!1):(f===void 0||f===!0)&&(this._tokenSet.add(a),n.tokenList_updateSteps(this),!0)},t.prototype.replace=function(a,f){if(a===""||f==="")throw new l.SyntaxError("Cannot replace an empty token.");if(u.codePoint.ASCIIWhiteSpace.test(a)||u.codePoint.ASCIIWhiteSpace.test(f))throw new l.InvalidCharacterError("Token cannot contain whitespace.");return!!this._tokenSet.has(a)&&(u.set.replace(this._tokenSet,a,f),n.tokenList_updateSteps(this),!0)},t.prototype.supports=function(a){return n.tokenList_validationSteps(this,a)},Object.defineProperty(t.prototype,"value",{get:function(){return n.tokenList_serializeSteps(this)},set:function(a){n.element_setAnAttributeValue(this._element,this._attribute._localName,a)},enumerable:!0,configurable:!0}),t.prototype[Symbol.iterator]=function(){var a=this._tokenSet[Symbol.iterator]();return{next:function(){return a.next()}}},t._create=function(a,f){return new t(a,f)},t}();o.DOMTokenListImpl=h},function(v,o,r){var c,d=this&&this.__extends||(c=function(h,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var p in f)f.hasOwnProperty(p)&&(a[p]=f[p])})(h,t)},function(h,t){function a(){this.constructor=h}c(h,t),h.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(104),u=r(0),n=function(h){function t(a,f){var p=h.call(this,a,f)||this;return p._detail=null,p._detail=f&&f.detail||null,p}return d(t,h),Object.defineProperty(t.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0}),t.prototype.initCustomEvent=function(a,f,p,m){f===void 0&&(f=!1),p===void 0&&(p=!1),m===void 0&&(m=null),this._dispatchFlag||(u.event_initialize(this,a,f,p),this._detail=m)},t}(l.EventImpl);o.CustomEventImpl=n},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(6),d=r(2),l=r(105),u=r(17);o.nodeIterator_traverse=function(n,h){for(var t=n._reference,a=n._pointerBeforeReference;;){if(h)if(a)a=!1;else{var f=u.tree_getFollowingNode(n._root,t);if(!f)return null;t=f}else if(a){var p=u.tree_getPrecedingNode(n.root,t);if(!p)return null;t=p}else a=!0;if(l.traversal_filter(n,t)===d.FilterResult.Accept)break}return n._reference=t,n._pointerBeforeReference=a,t},o.nodeIterator_iteratorList=function(){return c.dom.window._iteratorList}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(9),d=r(7),l=r(174);function u(n){if(!l.xml_isName(n))throw new c.InvalidCharacterError("Invalid XML name: "+n);if(!l.xml_isQName(n))throw new c.InvalidCharacterError("Invalid XML qualified name: "+n+".")}o.namespace_validate=u,o.namespace_validateAndExtract=function(n,h){n||(n=null),u(h);var t=h.split(":"),a=t.length===2?t[0]:null,f=t.length===2?t[1]:h;if(a&&n===null)throw new c.NamespaceError("Qualified name includes a prefix but the namespace is null.");if(a==="xml"&&n!==d.namespace.XML)throw new c.NamespaceError('Qualified name includes the "xml" prefix but the namespace is not the XML namespace.');if(n!==d.namespace.XMLNS&&(a==="xmlns"||h==="xmlns"))throw new c.NamespaceError('Qualified name includes the "xmlns" prefix but the namespace is not the XMLNS namespace.');if(n===d.namespace.XMLNS&&a!=="xmlns"&&h!=="xmlns")throw new c.NamespaceError('Qualified name does not include the "xmlns" prefix but the namespace is the XMLNS namespace.');return[n,a,f]},o.namespace_extractQName=function(n){u(n);var h=n.split(":");return[h.length===2?h[0]:null,h.length===2?h[1]:n]}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0}),o.xml_isName=function(c){for(var d=0;d<c.length;d++){var l=c.charCodeAt(d);if(!(l>=97&&l<=122||l>=65&&l<=90||l===58||l===95||l>=192&&l<=214||l>=216&&l<=246||l>=248&&l<=767||l>=880&&l<=893||l>=895&&l<=8191||l>=8204&&l<=8205||l>=8304&&l<=8591||l>=11264&&l<=12271||l>=12289&&l<=55295||l>=63744&&l<=64975||l>=65008&&l<=65533)&&(d===0||!(l===45||l===46||l>=48&&l<=57||l===183||l>=768&&l<=879||l>=8255&&l<=8256))){if(l>=55296&&l<=56319&&d<c.length-1){var u=c.charCodeAt(d+1);if(u>=56320&&u<=57343&&(d++,(l=1024*(l-55296)+u-56320+65536)>=65536&&l<=983039))continue}return!1}}return!0},o.xml_isQName=function(c){for(var d=!1,l=0;l<c.length;l++){var u=c.charCodeAt(l);if(!(u>=97&&u<=122||u>=65&&u<=90||u===95||u>=192&&u<=214||u>=216&&u<=246||u>=248&&u<=767||u>=880&&u<=893||u>=895&&u<=8191||u>=8204&&u<=8205||u>=8304&&u<=8591||u>=11264&&u<=12271||u>=12289&&u<=55295||u>=63744&&u<=64975||u>=65008&&u<=65533)&&(l===0||!(u===45||u===46||u>=48&&u<=57||u===183||u>=768&&u<=879||u>=8255&&u<=8256))){if(l===0||u!==58){if(u>=55296&&u<=56319&&l<c.length-1){var n=c.charCodeAt(l+1);if(n>=56320&&n<=57343&&(l++,(u=1024*(u-55296)+n-56320+65536)>=65536&&u<=983039))continue}return!1}if(d||l===c.length-1)return!1;d=!0}}return!0},o.xml_isLegalChar=function(c){for(var d=0;d<c.length;d++){var l=c.charCodeAt(d);if(!(l===9||l===10||l===13||l>=32&&l<=55295||l>=57344&&l<=65533)){if(l>=55296&&l<=56319&&d<c.length-1){var u=c.charCodeAt(d+1);if(u>=56320&&u<=57343&&(d++,(l=1024*(l-55296)+u-56320+65536)>=65536&&l<=1114111))continue}return!1}}return!0},o.xml_isPubidChar=function(c){for(var d=0;d<c.length;d++){var l=c.charCodeAt(d);if(!(l>=97&&l<=122||l>=65&&l<=90||l>=39&&l<=59||l===32||l===13||l===10||l>=35&&l<=37||l===33||l===61||l===63||l===64||l===95))return!1}return!0}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(2),d=r(17);o.boundaryPoint_position=function l(u,n){var h=u[0],t=u[1],a=n[0],f=n[1];if(console.assert(d.tree_rootNode(h)===d.tree_rootNode(a),"Boundary points must share the same root node."),h===a)return t===f?c.BoundaryPosition.Equal:t<f?c.BoundaryPosition.Before:c.BoundaryPosition.After;if(d.tree_isFollowing(a,h)){var p=l([a,f],[h,t]);if(p===c.BoundaryPosition.Before)return c.BoundaryPosition.After;if(p===c.BoundaryPosition.After)return c.BoundaryPosition.Before}if(d.tree_isAncestorOf(a,h)){for(var m=a;!d.tree_isChildOf(h,m);)m._parent!==null&&(m=m._parent);if(d.tree_index(m)<t)return c.BoundaryPosition.After}return c.BoundaryPosition.Before}},function(v,o,r){var c=this&&this.__values||function(p){var m=typeof Symbol=="function"&&Symbol.iterator,y=m&&p[m],g=0;if(y)return y.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&g>=p.length&&(p=void 0),{value:p&&p[g++],done:!p}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var d=r(6),l=r(3),u=r(7),n=r(29),h=r(108),t=r(30),a=r(37),f=r(52);o.node_stringReplaceAll=function(p,m){var y=null;p!==""&&(y=n.create_text(m._nodeDocument,p)),a.mutation_replaceAll(y,m)},o.node_clone=function p(m,y,g){var i,s,x,b,w;if(y===void 0&&(y=null),g===void 0&&(g=!1),y===null&&(y=m._nodeDocument),l.Guard.isElementNode(m)){w=f.element_createAnElement(y,m._localName,m._namespace,m._namespacePrefix,m._is,!1);try{for(var S=c(m._attributeList),D=S.next();!D.done;D=S.next()){var C=p(D.value,y);f.element_append(C,w)}}catch(R){i={error:R}}finally{try{D&&!D.done&&(s=S.return)&&s.call(S)}finally{if(i)throw i.error}}}else if(l.Guard.isDocumentNode(m)){var A=n.create_document();A._encoding=m._encoding,A._contentType=m._contentType,A._URL=m._URL,A._origin=m._origin,A._type=m._type,A._mode=m._mode,w=A}else if(l.Guard.isDocumentTypeNode(m))w=n.create_documentType(y,m._name,m._publicId,m._systemId);else if(l.Guard.isAttrNode(m)){var T=n.create_attr(y,m.localName);T._namespace=m._namespace,T._namespacePrefix=m._namespacePrefix,T._value=m._value,w=T}else w=l.Guard.isExclusiveTextNode(m)?n.create_text(y,m._data):l.Guard.isCDATASectionNode(m)?n.create_cdataSection(y,m._data):l.Guard.isCommentNode(m)?n.create_comment(y,m._data):l.Guard.isProcessingInstructionNode(m)?n.create_processingInstruction(y,m._target,m._data):l.Guard.isDocumentFragmentNode(m)?n.create_documentFragment(y):Object.create(m);if(l.Guard.isDocumentNode(w)?(w._nodeDocument=w,y=w):w._nodeDocument=y,d.dom.features.steps&&t.dom_runCloningSteps(w,m,y,g),g)try{for(var O=c(m._children),I=O.next();!I.done;I=O.next()){var k=p(I.value,y,!0);a.mutation_append(k,w)}}catch(R){x={error:R}}finally{try{I&&!I.done&&(b=O.return)&&b.call(O)}finally{if(x)throw x.error}}return w},o.node_equals=function p(m,y){var g,i,s,x;if(m._nodeType!==y._nodeType)return!1;if(l.Guard.isDocumentTypeNode(m)&&l.Guard.isDocumentTypeNode(y)){if(m._name!==y._name||m._publicId!==y._publicId||m._systemId!==y._systemId)return!1}else if(l.Guard.isElementNode(m)&&l.Guard.isElementNode(y)){if(m._namespace!==y._namespace||m._namespacePrefix!==y._namespacePrefix||m._localName!==y._localName||m._attributeList.length!==y._attributeList.length)return!1}else if(l.Guard.isAttrNode(m)&&l.Guard.isAttrNode(y)){if(m._namespace!==y._namespace||m._localName!==y._localName||m._value!==y._value)return!1}else if(l.Guard.isProcessingInstructionNode(m)&&l.Guard.isProcessingInstructionNode(y)){if(m._target!==y._target||m._data!==y._data)return!1}else if(l.Guard.isCharacterDataNode(m)&&l.Guard.isCharacterDataNode(y)&&m._data!==y._data)return!1;if(l.Guard.isElementNode(m)&&l.Guard.isElementNode(y)){var b={};try{for(var w=c(m._attributeList),S=w.next();!S.done;S=w.next())b[(A=S.value)._localName]=A}catch(G){g={error:G}}finally{try{S&&!S.done&&(i=w.return)&&i.call(w)}finally{if(g)throw g.error}}try{for(var D=c(y._attributeList),C=D.next();!C.done;C=D.next()){var A,T=C.value;if(!(A=b[T._localName])||!p(A,T))return!1}}catch(G){s={error:G}}finally{try{C&&!C.done&&(x=D.return)&&x.call(D)}finally{if(s)throw s.error}}}if(m._children.size!==y._children.size)return!1;for(var O=m._children[Symbol.iterator](),I=y._children[Symbol.iterator](),k=O.next(),R=I.next();!k.done&&!R.done;){if(!p(k.value,R.value))return!1;k=O.next(),R=I.next()}return!0},o.node_listOfElementsWithQualifiedName=function(p,m){return p==="*"?n.create_htmlCollection(m):m._nodeDocument._type==="html"?n.create_htmlCollection(m,function(y){return y._namespace===u.namespace.HTML&&y._qualifiedName===p.toLowerCase()||y._namespace!==u.namespace.HTML&&y._qualifiedName===p}):n.create_htmlCollection(m,function(y){return y._qualifiedName===p})},o.node_listOfElementsWithNamespace=function(p,m,y){return p===""&&(p=null),p==="*"&&m==="*"?n.create_htmlCollection(y):p==="*"?n.create_htmlCollection(y,function(g){return g._localName===m}):m==="*"?n.create_htmlCollection(y,function(g){return g._namespace===p}):n.create_htmlCollection(y,function(g){return g._localName===m&&g._namespace===p})},o.node_listOfElementsWithClassNames=function(p,m){var y=h.orderedSet_parse(p);if(y.size===0)return n.create_htmlCollection(m,function(){return!1});var g=m._nodeDocument._mode!=="quirks";return n.create_htmlCollection(m,function(i){var s=i.classList;return h.orderedSet_contains(s._tokenSet,y,g)})},o.node_locateANamespacePrefix=function p(m,y){if(m._namespace===y&&m._namespacePrefix!==null)return m._namespacePrefix;for(var g=0;g<m._attributeList.length;g++){var i=m._attributeList[g];if(i._namespacePrefix==="xmlns"&&i._value===y)return i._localName}return m._parent&&l.Guard.isElementNode(m._parent)?p(m._parent,y):null},o.node_locateANamespace=function p(m,y){if(l.Guard.isElementNode(m)){if(m._namespace!==null&&m._namespacePrefix===y)return m._namespace;for(var g=0;g<m._attributeList.length;g++){var i=m._attributeList[g];if(i._namespace===u.namespace.XMLNS&&i._namespacePrefix==="xmlns"&&i._localName===y||y===null&&i._namespace===u.namespace.XMLNS&&i._namespacePrefix===null&&i._localName==="xmlns")return i._value||null}return m.parentElement===null?null:p(m.parentElement,y)}return l.Guard.isDocumentNode(m)?m.documentElement===null?null:p(m.documentElement,y):l.Guard.isDocumentTypeNode(m)||l.Guard.isDocumentFragmentNode(m)?null:l.Guard.isAttrNode(m)?m._element===null?null:p(m._element,y):m._parent&&l.Guard.isElementNode(m._parent)?p(m._parent,y):null}},function(v,o,r){var c=this&&this.__values||function(f){var p=typeof Symbol=="function"&&Symbol.iterator,m=p&&f[p],y=0;if(m)return m.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&y>=f.length&&(f=void 0),{value:f&&f[y++],done:!f}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var d=r(6),l=r(3),u=r(9),n=r(29),h=r(17),t=r(107),a=r(37);o.text_contiguousTextNodes=function(f,p){var m;return p===void 0&&(p=!1),(m={})[Symbol.iterator]=function(){for(var y=f;y&&l.Guard.isTextNode(y._previousSibling);)y=y._previousSibling;return{next:function(){if(y&&!p&&y===f&&(y=l.Guard.isTextNode(y._nextSibling)?y._nextSibling:null),y===null)return{done:!0,value:null};var g={done:!1,value:y};return y=l.Guard.isTextNode(y._nextSibling)?y._nextSibling:null,g}}},m},o.text_contiguousExclusiveTextNodes=function(f,p){var m;return p===void 0&&(p=!1),(m={})[Symbol.iterator]=function(){for(var y=f;y&&l.Guard.isExclusiveTextNode(y._previousSibling);)y=y._previousSibling;return{next:function(){if(y&&!p&&y===f&&(y=l.Guard.isExclusiveTextNode(y._nextSibling)?y._nextSibling:null),y===null)return{done:!0,value:null};var g={done:!1,value:y};return y=l.Guard.isExclusiveTextNode(y._nextSibling)?y._nextSibling:null,g}}},m},o.text_descendantTextContent=function(f){for(var p="",m=h.tree_getFirstDescendantNode(f,!1,!1,function(y){return l.Guard.isTextNode(y)});m!==null;)p+=m._data,m=h.tree_getNextDescendantNode(f,m,!1,!1,function(y){return l.Guard.isTextNode(y)});return p},o.text_split=function(f,p){var m,y,g=f._data.length;if(p>g)throw new u.IndexSizeError;var i=g-p,s=t.characterData_substringData(f,p,i),x=n.create_text(f._nodeDocument,s),b=f._parent;if(b!==null){a.mutation_insert(x,b,f._nextSibling);try{for(var w=c(d.dom.rangeList),S=w.next();!S.done;S=w.next()){var D=S.value;D._start[0]===f&&D._start[1]>p&&(D._start[0]=x,D._start[1]-=p),D._end[0]===f&&D._end[1]>p&&(D._end[0]=x,D._end[1]-=p);var C=h.tree_index(f);D._start[0]===b&&D._start[1]===C+1&&D._start[1]++,D._end[0]===b&&D._end[1]===C+1&&D._end[1]++}}catch(A){m={error:A}}finally{try{S&&!S.done&&(y=w.return)&&y.call(w)}finally{if(m)throw m.error}}}return t.characterData_replaceData(f,p,i,""),x}},function(v,o,r){var c=r(4),d=r(41),l=r(24),u=r(48),n=[].join,h=d!=Object,t=u("join",",");c({target:"Array",proto:!0,forced:h||!t},{join:function(a){return n.call(l(this),a===void 0?",":a)}})},function(v,o,r){var c=r(4),d=r(83),l=String.fromCharCode,u=String.fromCodePoint;c({target:"String",stat:!0,forced:!!u&&u.length!=1},{fromCodePoint:function(n){for(var h,t=[],a=arguments.length,f=0;a>f;){if(h=+arguments[f++],d(h,1114111)!==h)throw RangeError(h+" is not a valid code point");t.push(h<65536?l(h):l(55296+((h-=65536)>>10),h%1024+56320))}return t.join("")}})},function(v,o,r){var c=this&&this.__read||function(u,n){var h=typeof Symbol=="function"&&u[Symbol.iterator];if(!h)return u;var t,a,f=h.call(u),p=[];try{for(;(n===void 0||n-- >0)&&!(t=f.next()).done;)p.push(t.value)}catch(m){a={error:m}}finally{try{t&&!t.done&&(h=f.return)&&h.call(f)}finally{if(a)throw a.error}}return p};Object.defineProperty(o,"__esModule",{value:!0});var d=r(111),l=function(){function u(n,h){this._options={skipWhitespaceOnlyText:!1},this.err={line:-1,col:-1,index:-1,str:""},this._str=n,this._index=0,this._length=n.length,h&&(this._options.skipWhitespaceOnlyText=h.skipWhitespaceOnlyText||!1)}return u.prototype.nextToken=function(){if(this.eof())return{type:d.TokenType.EOF};var n=this.skipIfStartsWith("<")?this.openBracket():this.text();return this._options.skipWhitespaceOnlyText&&n.type===d.TokenType.Text&&u.isWhiteSpaceToken(n)&&(n=this.nextToken()),n},u.prototype.openBracket=function(){return this.skipIfStartsWith("?")?this.skipIfStartsWith("xml")?u.isSpace(this._str[this._index])?this.declaration():(this.seek(-3),this.pi()):this.pi():this.skipIfStartsWith("!")?this.skipIfStartsWith("--")?this.comment():this.skipIfStartsWith("[CDATA[")?this.cdata():this.skipIfStartsWith("DOCTYPE")?this.doctype():void this.throwError("Invalid '!' in opening tag."):this.skipIfStartsWith("/")?this.closeTag():this.openTag()},u.prototype.declaration=function(){for(var n="",h="",t="";!this.eof();){if(this.skipSpace(),this.skipIfStartsWith("?>"))return{type:d.TokenType.Declaration,version:n,encoding:h,standalone:t};var a=c(this.attribute(),2),f=a[0],p=a[1];f==="version"?n=p:f==="encoding"?h=p:f==="standalone"?t=p:this.throwError("Invalid attribute name: "+f)}this.throwError("Missing declaration end symbol `?>`")},u.prototype.doctype=function(){var n="",h="";this.skipSpace();var t=this.takeUntil2("[",">",!0);return this.skipSpace(),this.skipIfStartsWith("PUBLIC")?(n=this.quotedString(),h=this.quotedString()):this.skipIfStartsWith("SYSTEM")&&(h=this.quotedString()),this.skipSpace(),this.skipIfStartsWith("[")&&(this.skipUntil("]"),this.skipIfStartsWith("]")||this.throwError("Missing end bracket of DTD internal subset")),this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing doctype end symbol `>`"),{type:d.TokenType.DocType,name:t,pubId:n,sysId:h}},u.prototype.pi=function(){var n=this.takeUntilStartsWith("?>",!0);if(this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.skipSpace(),this.skipIfStartsWith("?>"))return{type:d.TokenType.PI,target:n,data:""};var h=this.takeUntilStartsWith("?>");return this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.seek(2),{type:d.TokenType.PI,target:n,data:h}},u.prototype.text=function(){var n=this.takeUntil("<");return{type:d.TokenType.Text,data:n}},u.prototype.comment=function(){var n=this.takeUntilStartsWith("-->");return this.eof()&&this.throwError("Missing comment end symbol `-->`"),this.seek(3),{type:d.TokenType.Comment,data:n}},u.prototype.cdata=function(){var n=this.takeUntilStartsWith("]]>");return this.eof()&&this.throwError("Missing CDATA end symbol `]>`"),this.seek(3),{type:d.TokenType.CDATA,data:n}},u.prototype.openTag=function(){this.skipSpace();var n=this.takeUntil2(">","/",!0);if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:d.TokenType.Element,name:n,attributes:[],selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:d.TokenType.Element,name:n,attributes:[],selfClosing:!0};for(var h=[];!this.eof();){if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:d.TokenType.Element,name:n,attributes:h,selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:d.TokenType.Element,name:n,attributes:h,selfClosing:!0};var t=this.attribute();h.push(t)}this.throwError("Missing opening element tag end symbol `>`")},u.prototype.closeTag=function(){this.skipSpace();var n=this.takeUntil(">",!0);return this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing closing element tag end symbol `>`"),{type:d.TokenType.ClosingTag,name:n}},u.prototype.attribute=function(){this.skipSpace();var n=this.takeUntil("=",!0);return this.skipSpace(),this.skipIfStartsWith("=")||this.throwError("Missing equals sign before attribute value"),[n,this.quotedString()]},u.prototype.quotedString=function(){this.skipSpace();var n=this.take(1);u.isQuote(n)||this.throwError("Missing start quote character before quoted value");var h=this.takeUntil(n);return this.skipIfStartsWith(n)||this.throwError("Missing end quote character after quoted value"),h},u.prototype.eof=function(){return this._index>=this._length},u.prototype.skipIfStartsWith=function(n){var h=n.length;if(h===1)return this._str[this._index]===n&&(this._index++,!0);for(var t=0;t<h;t++)if(this._str[this._index+t]!==n[t])return!1;return this._index+=h,!0},u.prototype.seek=function(n){this._index+=n,this._index<0&&(this._index=0),this._index>this._length&&(this._index=this._length)},u.prototype.skipSpace=function(){for(;!this.eof()&&u.isSpace(this._str[this._index]);)this._index++},u.prototype.take=function(n){if(n===1)return this._str[this._index++];var h=this._index;return this.seek(n),this._str.slice(h,this._index)},u.prototype.takeUntil=function(n,h){h===void 0&&(h=!1);for(var t=this._index;this._index<this._length;){var a=this._str[this._index];if(a===n||h&&u.isSpace(a))break;this._index++}return this._str.slice(t,this._index)},u.prototype.takeUntil2=function(n,h,t){t===void 0&&(t=!1);for(var a=this._index;this._index<this._length;){var f=this._str[this._index];if(f===n||f===h||t&&u.isSpace(f))break;this._index++}return this._str.slice(a,this._index)},u.prototype.takeUntilStartsWith=function(n,h){h===void 0&&(h=!1);for(var t=this._index,a=n.length;this._index<this._length;){for(var f=!0,p=0;p<a;p++){var m=this._str[this._index+p],y=n[p];if(h&&u.isSpace(m))return this._str.slice(t,this._index);if(m!==y){this._index++,f=!1;break}}if(f)return this._str.slice(t,this._index)}return this._index=this._length,this._str.slice(t)},u.prototype.skipUntil=function(n){for(;this._index<this._length&&this._str[this._index]!==n;)this._index++},u.isWhiteSpaceToken=function(n){for(var h=n.data,t=0;t<h.length;t++){var a=h[t];if(a!==" "&&a!==`
`&&a!=="\r"&&a!=="	"&&a!=="\f")return!1}return!0},u.isSpace=function(n){return n===" "||n===`
`||n==="\r"||n==="	"},u.isQuote=function(n){return n==='"'||n==="'"},u.prototype.throwError=function(n){for(var h=/\r\n|\r|\n/g,t=null,a=0,f=0,p=this._str.length;(t=h.exec(this._str))!==null&&t!==null;)if(a++,t.index<this._index&&(f=h.lastIndex),t.index>this._index){p=t.index;break}throw this.err={line:a,col:this._index-f,index:this._index,str:this._str.substring(f,p)},new Error(n+`
Index: `+this.err.index+`
Ln: `+this.err.line+", Col: "+this.err.col+`
Input: `+this.err.str)},u.prototype[Symbol.iterator]=function(){return this._index=0,{next:function(){var n=this.nextToken();return n.type===d.TokenType.EOF?{done:!0,value:null}:{done:!1,value:n}}.bind(this)}},u}();o.XMLStringLexer=l},function(v,o,r){var c=r(39);v.exports=new c({include:[r(182)]})},function(v,o,r){var c=r(39);v.exports=new c({include:[r(113)],implicit:[r(289),r(290),r(291),r(292)]})},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(91),d=r(1),l=r(3),u=r(77),n=r(109);function h(p,m){var y=a(p===void 0||t(p)?p:c.DefaultBuilderOptions),g=t(p)?m:p,i=n.createDocument();f(i,y);var s=new u.XMLBuilderImpl(i);return g!==void 0&&s.ele(g),s}function t(p){if(!d.isPlainObject(p))return!1;for(var m in p)if(p.hasOwnProperty(m)&&!c.XMLBuilderOptionKeys.has(m))return!1;return!0}function a(p){p===void 0&&(p={});var m=d.applyDefaults(p,c.DefaultBuilderOptions);if(m.convert.att.length===0||m.convert.ins.length===0||m.convert.text.length===0||m.convert.cdata.length===0||m.convert.comment.length===0)throw new Error("JS object converter strings cannot be zero length.");return m}function f(p,m,y){var g=p;g._xmlBuilderOptions=m,g._isFragment=y}o.builder=function(p,m){var y=a(t(p)?p:c.DefaultBuilderOptions),g=l.Guard.isNode(p)||d.isArray(p)?p:m;if(g===void 0)throw new Error("Invalid arguments.");if(d.isArray(g)){for(var i=[],s=0;s<g.length;s++){var x=new u.XMLBuilderImpl(g[s]);x.set(y),i.push(x)}return i}var b=new u.XMLBuilderImpl(g);return b.set(y),b},o.create=h,o.fragment=function(p,m){var y=a(p===void 0||t(p)?p:c.DefaultBuilderOptions),g=t(p)?m:p,i=n.createDocument();f(i,y,!0);var s=new u.XMLBuilderImpl(i.createDocumentFragment());return g!==void 0&&s.ele(g),s},o.convert=function(p,m,y){var g,i,s;return t(p)&&m!==void 0?(g=p,i=m,s=y):(g=c.DefaultBuilderOptions,i=p,s=m||void 0),h(g,i).end(s)}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(77);o.builder=c.builder,o.create=c.create,o.fragment=c.fragment,o.convert=c.convert,o.createCB=c.createCB,o.fragmentCB=c.fragmentCB},function(v,o,r){r(31),r(32),r(33),r(191),r(192),r(194),r(64),r(19),r(198),r(199),r(89),r(201),r(65),r(20),r(66),r(22),r(23);var c=this&&this.__read||function(g,i){var s=typeof Symbol=="function"&&g[Symbol.iterator];if(!s)return g;var x,b,w=s.call(g),S=[];try{for(;(i===void 0||i-- >0)&&!(x=w.next()).done;)S.push(x.value)}catch(D){b={error:D}}finally{try{x&&!x.done&&(s=w.return)&&s.call(w)}finally{if(b)throw b.error}}return S},d=this&&this.__values||function(g){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&g[i],x=0;if(s)return s.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&x>=g.length&&(g=void 0),{value:g&&g[x++],done:!g}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var l=r(91),u=r(1),n=r(217),h=r(2),t=r(3),a=r(0),f=r(109),p=r(7),m=r(276),y=function(){function g(i){this._domNode=i}return Object.defineProperty(g.prototype,"node",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),g.prototype.set=function(i){return this._options=u.applyDefaults(u.applyDefaults(this._options,i,!0),l.DefaultBuilderOptions),this},g.prototype.ele=function(i,s,x){var b,w,S,D,C,A;if(u.isObject(i))return new m.ObjectReader(this._options).parse(this,i);if(i!==null&&/^\s*</.test(i))return new m.XMLReader(this._options).parse(this,i);if(i!==null&&/^\s*[\{\[]/.test(i))return new m.JSONReader(this._options).parse(this,i);if(i!==null&&/^(\s*|(#.*)|(%.*))*---/.test(i))return new m.YAMLReader(this._options).parse(this,i);if((i===null||u.isString(i))&&u.isString(s))D=(b=c([i,s,x],3))[0],C=b[1],A=b[2];else{if(i===null)throw new Error("Element name cannot be null. "+this._debugInfo());D=(w=c([void 0,i,u.isObject(s)?s:void 0],3))[0],C=w[1],A=w[2]}if(A&&(A=u.getValue(A)),D=(S=c(this._extractNamespace(f.sanitizeInput(D,this._options.invalidCharReplacement),f.sanitizeInput(C,this._options.invalidCharReplacement),!0),2))[0],C=S[1],D===void 0){var T=c(a.namespace_extractQName(C),1)[0];D=this.node.lookupNamespaceURI(T)}var O=D!=null?this._doc.createElementNS(D,C):this._doc.createElement(C);this.node.appendChild(O);var I=new g(O),k=this._doc.doctype;if(O===this._doc.documentElement&&k!==null){var R=this._doc.implementation.createDocumentType(this._doc.documentElement.tagName,k.publicId,k.systemId);this._doc.replaceChild(R,k)}return A&&!u.isEmpty(A)&&I.att(A),I},g.prototype.remove=function(){var i=this.up();return i.node.removeChild(this.node),i},g.prototype.att=function(i,s,x){var b,w,S,D,C,A,T=this;if(u.isMap(i)||u.isObject(i))return u.forEachObject(i,function(L,j){return T.att(L,j)},this),this;if(i!=null&&(i=u.getValue(i+"")),s!=null&&(s=u.getValue(s+"")),x!=null&&(x=u.getValue(x+"")),i!==null&&!u.isString(i)||!u.isString(s)||x!==null&&!u.isString(x)){if(!u.isString(i)||s!=null&&!u.isString(s))throw new Error("Attribute name and value not specified. "+this._debugInfo());D=(w=c([void 0,i,s],3))[0],C=w[1],A=w[2]}else D=(b=c([i,s,x],3))[0],C=b[1],A=b[2];if(this._options.keepNullAttributes&&A==null)A="";else if(A==null)return this;if(!t.Guard.isElementNode(this.node))throw new Error("An attribute can only be assigned to an element node.");var O=this.node;D=(S=c(this._extractNamespace(D,C,!1),2))[0],C=S[1],C=f.sanitizeInput(C,this._options.invalidCharReplacement),D=f.sanitizeInput(D,this._options.invalidCharReplacement),A=f.sanitizeInput(A,this._options.invalidCharReplacement);var I=c(a.namespace_extractQName(C),2),k=I[0],R=I[1],G=c(a.namespace_extractQName(O.prefix?O.prefix+":"+O.localName:O.localName),1)[0],W=null;return k==="xmlns"?(D=p.namespace.XMLNS,O.namespaceURI===null&&G===R&&(W=A)):k===null&&R==="xmlns"&&G===null&&(D=p.namespace.XMLNS,W=A),W!==null&&(this._updateNamespace(W),O=this.node),D!==void 0?O.setAttributeNS(D,C,A):O.setAttribute(C,A),this},g.prototype.removeAtt=function(i,s){var x,b,w=this;if(!t.Guard.isElementNode(this.node))throw new Error("An attribute can only be removed from an element node.");if(i=u.getValue(i),s!==void 0&&(s=u.getValue(s)),i!==null&&s===void 0)b=i;else{if(i!==null&&!u.isString(i)||s===void 0)throw new Error("Attribute namespace must be a string. "+this._debugInfo());x=i,b=s}return u.isArray(b)||u.isSet(b)?u.forEachArray(b,function(S){return x===void 0?w.removeAtt(S):w.removeAtt(x,S)},this):x!==void 0?(b=f.sanitizeInput(b,this._options.invalidCharReplacement),x=f.sanitizeInput(x,this._options.invalidCharReplacement),this.node.removeAttributeNS(x,b)):(b=f.sanitizeInput(b,this._options.invalidCharReplacement),this.node.removeAttribute(b)),this},g.prototype.txt=function(i){if(i==null){if(!this._options.keepNullNodes)return this;i=""}var s=this._doc.createTextNode(f.sanitizeInput(i,this._options.invalidCharReplacement));return this.node.appendChild(s),this},g.prototype.com=function(i){if(i==null){if(!this._options.keepNullNodes)return this;i=""}var s=this._doc.createComment(f.sanitizeInput(i,this._options.invalidCharReplacement));return this.node.appendChild(s),this},g.prototype.dat=function(i){if(i==null){if(!this._options.keepNullNodes)return this;i=""}var s=this._doc.createCDATASection(f.sanitizeInput(i,this._options.invalidCharReplacement));return this.node.appendChild(s),this},g.prototype.ins=function(i,s){var x=this;if(s===void 0&&(s=""),s==null){if(!this._options.keepNullNodes)return this;s=""}if(u.isArray(i)||u.isSet(i))u.forEachArray(i,function(w){var S=(w+="").indexOf(" "),D=S===-1?w:w.substr(0,S),C=S===-1?"":w.substr(S+1);x.ins(D,C)},this);else if(u.isMap(i)||u.isObject(i))u.forEachObject(i,function(w,S){return x.ins(w,S)},this);else{var b=this._doc.createProcessingInstruction(f.sanitizeInput(i,this._options.invalidCharReplacement),f.sanitizeInput(s,this._options.invalidCharReplacement));this.node.appendChild(b)}return this},g.prototype.dec=function(i){return this._options.version=i.version||"1.0",this._options.encoding=i.encoding,this._options.standalone=i.standalone,this},g.prototype.dtd=function(i){var s=f.sanitizeInput(i&&i.name||(this._doc.documentElement?this._doc.documentElement.tagName:"ROOT"),this._options.invalidCharReplacement),x=f.sanitizeInput(i&&i.pubID||"",this._options.invalidCharReplacement),b=f.sanitizeInput(i&&i.sysID||"",this._options.invalidCharReplacement);if(this._doc.documentElement!==null&&s!==this._doc.documentElement.tagName)throw new Error("DocType name does not match document element name.");var w=this._doc.implementation.createDocumentType(s,x,b);return this._doc.doctype!==null?this._doc.replaceChild(w,this._doc.doctype):this._doc.insertBefore(w,this._doc.documentElement),this},g.prototype.import=function(i){var s,x,b=this._domNode,w=this._doc,S=i.node;if(t.Guard.isDocumentNode(S)){var D=S.documentElement;if(D===null)throw new Error("Imported document has no document element node. "+this._debugInfo());var C=w.importNode(D,!0);b.appendChild(C);var A=c(a.namespace_extractQName(C.prefix?C.prefix+":"+C.localName:C.localName),1)[0],T=b.lookupNamespaceURI(A);new g(C)._updateNamespace(T)}else if(t.Guard.isDocumentFragmentNode(S))try{for(var O=d(S.childNodes),I=O.next();!I.done;I=O.next()){var k=I.value;C=w.importNode(k,!0),b.appendChild(C),t.Guard.isElementNode(C)&&(A=c(a.namespace_extractQName(C.prefix?C.prefix+":"+C.localName:C.localName),1)[0],T=b.lookupNamespaceURI(A),new g(C)._updateNamespace(T))}}catch(R){s={error:R}}finally{try{I&&!I.done&&(x=O.return)&&x.call(O)}finally{if(s)throw s.error}}else C=w.importNode(S,!0),b.appendChild(C),t.Guard.isElementNode(C)&&(A=c(a.namespace_extractQName(C.prefix?C.prefix+":"+C.localName:C.localName),1)[0],T=b.lookupNamespaceURI(A),new g(C)._updateNamespace(T));return this},g.prototype.doc=function(){if(this._doc._isFragment){for(var i=this.node;i&&i.nodeType!==h.NodeType.DocumentFragment;)i=i.parentNode;if(i===null)throw new Error("Node has no parent node while searching for document fragment ancestor. "+this._debugInfo());return new g(i)}return new g(this._doc)},g.prototype.root=function(){var i=this._doc.documentElement;if(!i)throw new Error("Document root element is null. "+this._debugInfo());return new g(i)},g.prototype.up=function(){var i=this._domNode.parentNode;if(!i)throw new Error("Parent node is null. "+this._debugInfo());return new g(i)},g.prototype.prev=function(){var i=this._domNode.previousSibling;if(!i)throw new Error("Previous sibling node is null. "+this._debugInfo());return new g(i)},g.prototype.next=function(){var i=this._domNode.nextSibling;if(!i)throw new Error("Next sibling node is null. "+this._debugInfo());return new g(i)},g.prototype.first=function(){var i=this._domNode.firstChild;if(!i)throw new Error("First child node is null. "+this._debugInfo());return new g(i)},g.prototype.last=function(){var i=this._domNode.lastChild;if(!i)throw new Error("Last child node is null. "+this._debugInfo());return new g(i)},g.prototype.each=function(i,s,x,b){s===void 0&&(s=!1),x===void 0&&(x=!1);for(var w=this._getFirstDescendantNode(this._domNode,s,x);w[0];){var S=this._getNextDescendantNode(this._domNode,w[0],x,w[1],w[2]);i.call(b,new g(w[0]),w[1],w[2]),w=S}return this},g.prototype.map=function(i,s,x,b){s===void 0&&(s=!1),x===void 0&&(x=!1);var w=[];return this.each(function(S,D,C){return w.push(i.call(b,S,D,C))},s,x),w},g.prototype.reduce=function(i,s,x,b,w){x===void 0&&(x=!1),b===void 0&&(b=!1);var S=s;return this.each(function(D,C,A){return S=i.call(w,S,D,C,A)},x,b),S},g.prototype.find=function(i,s,x,b){s===void 0&&(s=!1),x===void 0&&(x=!1);for(var w=this._getFirstDescendantNode(this._domNode,s,x);w[0];){var S=new g(w[0]);if(i.call(b,S,w[1],w[2]))return S;w=this._getNextDescendantNode(this._domNode,w[0],x,w[1],w[2])}},g.prototype.filter=function(i,s,x,b){s===void 0&&(s=!1),x===void 0&&(x=!1);var w=[];return this.each(function(S,D,C){i.call(b,S,D,C)&&w.push(S)},s,x),w},g.prototype.every=function(i,s,x,b){s===void 0&&(s=!1),x===void 0&&(x=!1);for(var w=this._getFirstDescendantNode(this._domNode,s,x);w[0];){var S=new g(w[0]);if(!i.call(b,S,w[1],w[2]))return!1;w=this._getNextDescendantNode(this._domNode,w[0],x,w[1],w[2])}return!0},g.prototype.some=function(i,s,x,b){s===void 0&&(s=!1),x===void 0&&(x=!1);for(var w=this._getFirstDescendantNode(this._domNode,s,x);w[0];){var S=new g(w[0]);if(i.call(b,S,w[1],w[2]))return!0;w=this._getNextDescendantNode(this._domNode,w[0],x,w[1],w[2])}return!1},g.prototype.toArray=function(i,s){i===void 0&&(i=!1),s===void 0&&(s=!1);var x=[];return this.each(function(b){return x.push(b)},i,s),x},g.prototype.toString=function(i){return(i=i||{}).format===void 0&&(i.format="xml"),this._serialize(i)},g.prototype.toObject=function(i){return(i=i||{}).format===void 0&&(i.format="object"),this._serialize(i)},g.prototype.end=function(i){return(i=i||{}).format===void 0&&(i.format="xml"),this.doc()._serialize(i)},g.prototype._getFirstDescendantNode=function(i,s,x){return s?[this._domNode,0,0]:x?this._getNextDescendantNode(i,i,x,0,0):[this._domNode.firstChild,0,1]},g.prototype._getNextDescendantNode=function(i,s,x,b,w){if(!x)return i===s?[s.firstChild,0,w+1]:[s.nextSibling,b+1,w];if(s.firstChild)return[s.firstChild,0,w+1];if(s===i)return[null,-1,-1];if(s.nextSibling)return[s.nextSibling,b+1,w];for(var S=s.parentNode;S&&S!==i;){if(S.nextSibling)return[S.nextSibling,a.tree_index(S.nextSibling),w-1];S=S.parentNode,w--}return[null,-1,-1]},g.prototype._serialize=function(i){if(i.format==="xml")return new n.XMLWriter(this._options,i).serialize(this.node);if(i.format==="map")return new n.MapWriter(this._options,i).serialize(this.node);if(i.format==="object")return new n.ObjectWriter(this._options,i).serialize(this.node);if(i.format==="json")return new n.JSONWriter(this._options,i).serialize(this.node);if(i.format==="yaml")return new n.YAMLWriter(this._options,i).serialize(this.node);throw new Error("Invalid writer format: "+i.format+". "+this._debugInfo())},g.prototype._extractNamespace=function(i,s,x){var b=s.indexOf("@");if(b>0&&(i===void 0&&(i=s.slice(b+1)),s=s.slice(0,b)),i===void 0)i=x?this._options.defaultNamespace.ele:this._options.defaultNamespace.att;else if(i!==null&&i[0]==="@"){var w=i.slice(1);if((i=this._options.namespaceAlias[w])===void 0)throw new Error("Namespace alias `"+w+"` is not defined. "+this._debugInfo())}return[i,s]},g.prototype._updateNamespace=function(i){var s,x,b,w,S=this._domNode;if(t.Guard.isElementNode(S)&&i!==null&&S.namespaceURI!==i){var D=c(a.namespace_extractQName(S.prefix?S.prefix+":"+S.localName:S.localName),2),C=D[0],A=D[1],T=a.create_element(this._doc,A,i,C);try{for(var O=d(S.attributes),I=O.next();!I.done;I=O.next()){var k=I.value,R=k.prefix?k.prefix+":"+k.localName:k.localName,G=c(a.namespace_extractQName(R),1)[0],W=k.namespaceURI;W===null&&G!==null&&(W=S.lookupNamespaceURI(G)),W===null?T.setAttribute(R,k.value):T.setAttributeNS(W,R,k.value)}}catch(Z){s={error:Z}}finally{try{I&&!I.done&&(x=O.return)&&x.call(O)}finally{if(s)throw s.error}}var L=S.parentNode;if(L===null)throw new Error("Parent node is null."+this._debugInfo());L.replaceChild(T,S),this._domNode=T;try{for(var j=d(S.childNodes),z=j.next();!z.done;z=j.next()){var H=z.value.cloneNode(!0);if(T.appendChild(H),t.Guard.isElementNode(H)){var X=c(a.namespace_extractQName(H.prefix?H.prefix+":"+H.localName:H.localName),1)[0],Y=T.lookupNamespaceURI(X);new g(H)._updateNamespace(Y)}}}catch(Z){b={error:Z}}finally{try{z&&!z.done&&(w=j.return)&&w.call(j)}finally{if(b)throw b.error}}}},Object.defineProperty(g.prototype,"_doc",{get:function(){var i=this.node;if(t.Guard.isDocumentNode(i))return i;var s=i.ownerDocument;if(!s)throw new Error("Owner document is null. "+this._debugInfo());return s},enumerable:!0,configurable:!0}),g.prototype._debugInfo=function(i){var s=this.node,x=s.parentNode;i=i||s.nodeName;var b=x?x.nodeName:"";return b?"node: <"+i+">, parent: <"+b+">":"node: <"+i+">"},Object.defineProperty(g.prototype,"_options",{get:function(){var i=this._doc;if(i._xmlBuilderOptions===void 0)throw new Error("Builder options is not set.");return i._xmlBuilderOptions},set:function(i){this._doc._xmlBuilderOptions=i},enumerable:!0,configurable:!0}),g}();o.XMLBuilderImpl=y},function(v,o,r){var c=r(11),d=r(117),l=c.WeakMap;v.exports=typeof l=="function"&&/native code/.test(d(l))},function(v,o,r){var c=r(46),d=r(82),l=r(85),u=r(18);v.exports=c("Reflect","ownKeys")||function(n){var h=d.f(u(n)),t=l.f;return t?h.concat(t(n)):h}},function(v,o,r){var c=r(16),d=r(15),l=r(18),u=r(61);v.exports=c?Object.defineProperties:function(n,h){l(n);for(var t,a=u(h),f=a.length,p=0;f>p;)d.f(n,t=a[p++],h[t]);return n}},function(v,o,r){var c=r(46);v.exports=c("document","documentElement")},function(v,o,r){var c=r(24),d=r(82).f,l={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];v.exports.f=function(n){return u&&l.call(n)=="[object Window]"?function(h){try{return d(h)}catch{return u.slice()}}(n):d(c(n))}},function(v,o,r){var c=r(4),d=r(36).every,l=r(48),u=r(28),n=l("every"),h=u("every");c({target:"Array",proto:!0,forced:!n||!h},{every:function(t){return d(this,t,arguments.length>1?arguments[1]:void 0)}})},function(v,o,r){var c=r(4),d=r(36).filter,l=r(63),u=r(28),n=l("filter"),h=u("filter");c({target:"Array",proto:!0,forced:!n||!h},{filter:function(t){return d(this,t,arguments.length>1?arguments[1]:void 0)}})},function(v,o,r){var c=r(46);v.exports=c("navigator","userAgent")||""},function(v,o,r){var c=r(4),d=r(36).find,l=r(130),u=r(28),n=!0,h=u("find");"find"in[]&&Array(1).find(function(){n=!1}),c({target:"Array",proto:!0,forced:n||!h},{find:function(t){return d(this,t,arguments.length>1?arguments[1]:void 0)}}),l("find")},function(v,o,r){var c=r(131).IteratorPrototype,d=r(60),l=r(40),u=r(62),n=r(49),h=function(){return this};v.exports=function(t,a,f){var p=a+" Iterator";return t.prototype=d(c,{next:l(1,f)}),u(t,p,!1,!0),n[p]=h,t}},function(v,o,r){var c=r(8);v.exports=!c(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},function(v,o,r){var c=r(13);v.exports=function(d){if(!c(d)&&d!==null)throw TypeError("Can't set "+String(d)+" as a prototype");return d}},function(v,o,r){var c=r(4),d=r(36).map,l=r(63),u=r(28),n=l("map"),h=u("map");c({target:"Array",proto:!0,forced:!n||!h},{map:function(t){return d(this,t,arguments.length>1?arguments[1]:void 0)}})},function(v,o,r){var c=r(4),d=r(200).left,l=r(48),u=r(28),n=l("reduce"),h=u("reduce",{1:0});c({target:"Array",proto:!0,forced:!n||!h},{reduce:function(t){return d(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(v,o,r){var c=r(127),d=r(27),l=r(41),u=r(26),n=function(h){return function(t,a,f,p){c(a);var m=d(t),y=l(m),g=u(m.length),i=h?g-1:0,s=h?-1:1;if(f<2)for(;;){if(i in y){p=y[i],i+=s;break}if(i+=s,h?i<0:g<=i)throw TypeError("Reduce of empty array with no initial value")}for(;h?i>=0:g>i;i+=s)i in y&&(p=a(p,y[i],i,m));return p}};v.exports={left:n(!1),right:n(!0)}},function(v,o,r){var c=r(4),d=r(36).some,l=r(48),u=r(28),n=l("some"),h=u("some");c({target:"Array",proto:!0,forced:!n||!h},{some:function(t){return d(this,t,arguments.length>1?arguments[1]:void 0)}})},function(v,o,r){var c=r(90),d=r(135);v.exports=c?{}.toString:function(){return"[object "+d(this)+"]"}},function(v,o){v.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(v,o,r){var c=r(8);v.exports=!c(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(v,o,r){var c=r(5),d=r(49),l=c("iterator"),u=Array.prototype;v.exports=function(n){return n!==void 0&&(d.Array===n||u[l]===n)}},function(v,o,r){var c=r(135),d=r(49),l=r(5)("iterator");v.exports=function(u){if(u!=null)return u[l]||u["@@iterator"]||d[c(u)]}},function(v,o,r){var c=r(18);v.exports=function(d,l,u,n){try{return n?l(c(u)[0],u[1]):l(u)}catch(t){var h=d.return;throw h!==void 0&&c(h.call(d)),t}}},function(v,o,r){var c=r(5)("iterator"),d=!1;try{var l=0,u={next:function(){return{done:!!l++}},return:function(){d=!0}};u[c]=function(){return this},Array.from(u,function(){throw 2})}catch{}v.exports=function(n,h){if(!h&&!d)return!1;var t=!1;try{var a={};a[c]=function(){return{next:function(){return{done:t=!0}}}},n(a)}catch{}return t}},function(v,o,r){var c=r(13),d=r(133);v.exports=function(l,u,n){var h,t;return d&&typeof(h=u.constructor)=="function"&&h!==n&&c(t=h.prototype)&&t!==n.prototype&&d(l,t),l}},function(v,o,r){var c=r(25);v.exports=function(d,l,u){for(var n in l)c(d,n,l[n],u);return d}},function(v,o,r){var c=r(46),d=r(15),l=r(5),u=r(16),n=l("species");v.exports=function(h){var t=c(h),a=d.f;u&&t&&!t[n]&&a(t,n,{configurable:!0,get:function(){return this}})}},function(v,o,r){var c=this&&this.__generator||function(u,n){var h,t,a,f,p={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(y){return function(g){return function(i){if(h)throw new TypeError("Generator is already executing.");for(;p;)try{if(h=1,t&&(a=2&i[0]?t.return:i[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,i[1])).done)return a;switch(t=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return p.label++,{value:i[1],done:!1};case 5:p.label++,t=i[1],i=[0];continue;case 7:i=p.ops.pop(),p.trys.pop();continue;default:if(a=p.trys,!((a=a.length>0&&a[a.length-1])||i[0]!==6&&i[0]!==2)){p=0;continue}if(i[0]===3&&(!a||i[1]>a[0]&&i[1]<a[3])){p.label=i[1];break}if(i[0]===6&&p.label<a[1]){p.label=a[1],a=i;break}if(a&&p.label<a[2]){p.label=a[2],p.ops.push(i);break}a[2]&&p.ops.pop(),p.trys.pop();continue}i=n.call(u,p)}catch(s){i=[6,s],t=0}finally{h=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([y,g])}}},d=this&&this.__values||function(u){var n=typeof Symbol=="function"&&Symbol.iterator,h=n&&u[n],t=0;if(h)return h.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&t>=u.length&&(u=void 0),{value:u&&u[t++],done:!u}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var l=function(){function u(n){n===void 0&&(n=1e3),this._items=new Set,this._limit=n}return u.prototype.add=function(n){if(this._items.add(n),this._items.size>this._limit){var h=this._items.values().next();h.done||this._items.delete(h.value)}return this},u.prototype.delete=function(n){return this._items.delete(n)},u.prototype.has=function(n){return this._items.has(n)},u.prototype.clear=function(){this._items.clear()},Object.defineProperty(u.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),u.prototype.forEach=function(n,h){var t=this;this._items.forEach(function(a){return n.call(h,a,a,t)})},u.prototype.keys=function(){return c(this,function(n){switch(n.label){case 0:return[5,d(this._items.keys())];case 1:return n.sent(),[2]}})},u.prototype.values=function(){return c(this,function(n){switch(n.label){case 0:return[5,d(this._items.values())];case 1:return n.sent(),[2]}})},u.prototype.entries=function(){return c(this,function(n){switch(n.label){case 0:return[5,d(this._items.entries())];case 1:return n.sent(),[2]}})},u.prototype[Symbol.iterator]=function(){return c(this,function(n){switch(n.label){case 0:return[5,d(this._items)];case 1:return n.sent(),[2]}})},Object.defineProperty(u.prototype,Symbol.toStringTag,{get:function(){return"FixedSizeSet"},enumerable:!0,configurable:!0}),u}();o.FixedSizeSet=l},function(v,o,r){var c=this&&this.__generator||function(u,n){var h,t,a,f,p={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(y){return function(g){return function(i){if(h)throw new TypeError("Generator is already executing.");for(;p;)try{if(h=1,t&&(a=2&i[0]?t.return:i[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,i[1])).done)return a;switch(t=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return p.label++,{value:i[1],done:!1};case 5:p.label++,t=i[1],i=[0];continue;case 7:i=p.ops.pop(),p.trys.pop();continue;default:if(a=p.trys,!((a=a.length>0&&a[a.length-1])||i[0]!==6&&i[0]!==2)){p=0;continue}if(i[0]===3&&(!a||i[1]>a[0]&&i[1]<a[3])){p.label=i[1];break}if(i[0]===6&&p.label<a[1]){p.label=a[1],a=i;break}if(a&&p.label<a[2]){p.label=a[2],p.ops.push(i);break}a[2]&&p.ops.pop(),p.trys.pop();continue}i=n.call(u,p)}catch(s){i=[6,s],t=0}finally{h=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([y,g])}}},d=this&&this.__values||function(u){var n=typeof Symbol=="function"&&Symbol.iterator,h=n&&u[n],t=0;if(h)return h.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&t>=u.length&&(u=void 0),{value:u&&u[t++],done:!u}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var l=function(){function u(n){n===void 0&&(n=1e3),this._items=new Map,this._limit=n}return u.prototype.get=function(n){return this._items.get(n)},u.prototype.set=function(n,h){if(this._items.set(n,h),this._items.size>this._limit){var t=this._items.keys().next();t.done||this._items.delete(t.value)}},u.prototype.delete=function(n){return this._items.delete(n)},u.prototype.has=function(n){return this._items.has(n)},u.prototype.clear=function(){this._items.clear()},Object.defineProperty(u.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),u.prototype.forEach=function(n,h){this._items.forEach(function(t,a){return n.call(h,a,t)})},u.prototype.keys=function(){return c(this,function(n){switch(n.label){case 0:return[5,d(this._items.keys())];case 1:return n.sent(),[2]}})},u.prototype.values=function(){return c(this,function(n){switch(n.label){case 0:return[5,d(this._items.values())];case 1:return n.sent(),[2]}})},u.prototype.entries=function(){return c(this,function(n){switch(n.label){case 0:return[5,d(this._items.entries())];case 1:return n.sent(),[2]}})},u.prototype[Symbol.iterator]=function(){return c(this,function(n){switch(n.label){case 0:return[5,d(this._items)];case 1:return n.sent(),[2]}})},Object.defineProperty(u.prototype,Symbol.toStringTag,{get:function(){return"ObjectCache"},enumerable:!0,configurable:!0}),u}();o.ObjectCache=l},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function d(l){l===void 0&&(l=1e3),this._items=new Map,this._limit=l}return d.prototype.check=function(l,u){if(this._items.get(l)===u)return!0;if(this._items.get(u)===l)return!1;var n=Math.random()<.5;if(n?this._items.set(l,u):this._items.set(u,l),this._items.size>this._limit){var h=this._items.keys().next();h.done||this._items.delete(h.value)}return n},d}();o.CompareCache=c},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function d(l){this._initialized=!1,this._value=void 0,this._initFunc=l}return Object.defineProperty(d.prototype,"value",{get:function(){return this._initialized||(this._value=this._initFunc(),this._initialized=!0),this._value},enumerable:!0,configurable:!0}),d}();o.Lazy=c},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function d(l){this._pointer=0,this._chars=Array.from(l),this._length=this._chars.length}return Object.defineProperty(d.prototype,"eof",{get:function(){return this._pointer>=this._length},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),d.prototype.codePoint=function(){if(this._codePoint===void 0)if(this.eof)this._codePoint=-1;else{var l=this._chars[this._pointer].codePointAt(0);this._codePoint=l!==void 0?l:-1}return this._codePoint},d.prototype.c=function(){return this._c===void 0&&(this._c=this.eof?"":this._chars[this._pointer]),this._c},d.prototype.remaining=function(){return this._remaining===void 0&&(this._remaining=this.eof?"":this._chars.slice(this._pointer+1).join("")),this._remaining},d.prototype.substring=function(){return this._substring===void 0&&(this._substring=this.eof?"":this._chars.slice(this._pointer).join("")),this._substring},Object.defineProperty(d.prototype,"pointer",{get:function(){return this._pointer},set:function(l){l!==this._pointer&&(this._pointer=l,this._codePoint=void 0,this._c=void 0,this._remaining=void 0,this._substring=void 0)},enumerable:!0,configurable:!0}),d}();o.StringWalker=c},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(218);o.MapWriter=c.MapWriter;var d=r(258);o.XMLWriter=d.XMLWriter;var l=r(67);o.ObjectWriter=l.ObjectWriter;var u=r(260);o.JSONWriter=u.JSONWriter;var n=r(261);o.YAMLWriter=n.YAMLWriter},function(v,o,r){r(19),r(219),r(20),r(22),r(23);var c,d=this&&this.__extends||(c=function(h,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var p in f)f.hasOwnProperty(p)&&(a[p]=f[p])})(h,t)},function(h,t){function a(){this.constructor=h}c(h,t),h.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(1),u=r(67),n=function(h){function t(a,f){var p=h.call(this,a)||this;return p._writerOptions=l.applyDefaults(f,{format:"map",wellFormed:!1,group:!1,verbose:!1}),p}return d(t,h),t.prototype.serialize=function(a){var f=l.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1,verbose:!1}),p=new u.ObjectWriter(this._builderOptions,f).serialize(a);return this._convertObject(p)},t.prototype._convertObject=function(a){if(l.isArray(a)){for(var f=0;f<a.length;f++)a[f]=this._convertObject(a[f]);return a}if(l.isObject(a)){var p=new Map;for(var m in a)p.set(m,this._convertObject(a[m]));return p}return a},t}(r(50).BaseWriter);o.MapWriter=n},function(v,o,r){var c=r(139),d=r(143);v.exports=c("Map",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},d)},function(v,o,r){var c=r(4),d=r(8),l=r(59),u=r(13),n=r(27),h=r(26),t=r(134),a=r(128),f=r(63),p=r(5),m=r(129),y=p("isConcatSpreadable"),g=m>=51||!d(function(){var x=[];return x[y]=!1,x.concat()[0]!==x}),i=f("concat"),s=function(x){if(!u(x))return!1;var b=x[y];return b!==void 0?!!b:l(x)};c({target:"Array",proto:!0,forced:!g||!i},{concat:function(x){var b,w,S,D,C,A=n(this),T=a(A,0),O=0;for(b=-1,S=arguments.length;b<S;b++)if(s(C=b===-1?A:arguments[b])){if(O+(D=h(C.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(w=0;w<D;w++,O++)w in C&&t(T,O,C[w])}else{if(O>=9007199254740991)throw TypeError("Maximum allowed index exceeded");t(T,O++,C)}return T.length=O,T}})},function(v,o,r){var c=r(8);function d(l,u){return RegExp(l,u)}o.UNSUPPORTED_Y=c(function(){var l=d("a","y");return l.lastIndex=2,l.exec("abcd")!=null}),o.BROKEN_CARET=c(function(){var l=d("^r","gy");return l.lastIndex=2,l.exec("str")!=null})},function(v,o,r){var c=r(223);v.exports=function(d){if(c(d))throw TypeError("The method doesn't accept regular expressions");return d}},function(v,o,r){var c=r(13),d=r(42),l=r(5)("match");v.exports=function(u){var n;return c(u)&&((n=u[l])!==void 0?!!n:d(u)=="RegExp")}},function(v,o,r){var c=r(5)("match");v.exports=function(d){var l=/./;try{"/./"[d](l)}catch{try{return l[c]=!1,"/./"[d](l)}catch{}}return!1}},function(v,o,r){r(68);var c=r(25),d=r(8),l=r(5),u=r(93),n=r(21),h=l("species"),t=!d(function(){var y=/./;return y.exec=function(){var g=[];return g.groups={a:"7"},g},"".replace(y,"$<a>")!=="7"}),a="a".replace(/./,"$0")==="$0",f=l("replace"),p=!!/./[f]&&/./[f]("a","$0")==="",m=!d(function(){var y=/(?:)/,g=y.exec;y.exec=function(){return g.apply(this,arguments)};var i="ab".split(y);return i.length!==2||i[0]!=="a"||i[1]!=="b"});v.exports=function(y,g,i,s){var x=l(y),b=!d(function(){var T={};return T[x]=function(){return 7},""[y](T)!=7}),w=b&&!d(function(){var T=!1,O=/a/;return y==="split"&&((O={}).constructor={},O.constructor[h]=function(){return O},O.flags="",O[x]=/./[x]),O.exec=function(){return T=!0,null},O[x](""),!T});if(!b||!w||y==="replace"&&(!t||!a||p)||y==="split"&&!m){var S=/./[x],D=i(x,""[y],function(T,O,I,k,R){return O.exec===u?b&&!R?{done:!0,value:S.call(O,I,k)}:{done:!0,value:T.call(I,O,k)}:{done:!1}},{REPLACE_KEEPS_$0:a,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),C=D[0],A=D[1];c(String.prototype,y,C),c(RegExp.prototype,x,g==2?function(T,O){return A.call(T,this,O)}:function(T){return A.call(T,this)})}s&&n(RegExp.prototype[x],"sham",!0)}},function(v,o,r){var c=r(137).charAt;v.exports=function(d,l,u){return l+(u?c(d,l).length:1)}},function(v,o,r){var c=r(42),d=r(93);v.exports=function(l,u){var n=l.exec;if(typeof n=="function"){var h=n.call(l,u);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(c(l)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return d.call(l,u)}},function(v,o,r){(function(c){Object.defineProperty(o,"__esModule",{value:!0});var d=r(96);o.forgivingBase64Encode=function(l){return c.from(l).toString("base64")},o.forgivingBase64Decode=function(l){return l===""?"":((l=l.replace(d.ASCIIWhiteSpace,"")).length%4==0&&(l.endsWith("==")?l=l.substr(0,l.length-2):l.endsWith("=")&&(l=l.substr(0,l.length-1))),l.length%4==1?null:/[0-9A-Za-z+/]/.test(l)?c.from(l,"base64").toString("utf8"):null)}}).call(this,r(145).Buffer)},function(v,o,r){o.byteLength=function(f){var p=t(f),m=p[0],y=p[1];return 3*(m+y)/4-y},o.toByteArray=function(f){var p,m,y=t(f),g=y[0],i=y[1],s=new l(function(w,S,D){return 3*(S+D)/4-D}(0,g,i)),x=0,b=i>0?g-4:g;for(m=0;m<b;m+=4)p=d[f.charCodeAt(m)]<<18|d[f.charCodeAt(m+1)]<<12|d[f.charCodeAt(m+2)]<<6|d[f.charCodeAt(m+3)],s[x++]=p>>16&255,s[x++]=p>>8&255,s[x++]=255&p;return i===2&&(p=d[f.charCodeAt(m)]<<2|d[f.charCodeAt(m+1)]>>4,s[x++]=255&p),i===1&&(p=d[f.charCodeAt(m)]<<10|d[f.charCodeAt(m+1)]<<4|d[f.charCodeAt(m+2)]>>2,s[x++]=p>>8&255,s[x++]=255&p),s},o.fromByteArray=function(f){for(var p,m=f.length,y=m%3,g=[],i=0,s=m-y;i<s;i+=16383)g.push(a(f,i,i+16383>s?s:i+16383));return y===1?(p=f[m-1],g.push(c[p>>2]+c[p<<4&63]+"==")):y===2&&(p=(f[m-2]<<8)+f[m-1],g.push(c[p>>10]+c[p>>4&63]+c[p<<2&63]+"=")),g.join("")};for(var c=[],d=[],l=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,h=u.length;n<h;++n)c[n]=u[n],d[u.charCodeAt(n)]=n;function t(f){var p=f.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=f.indexOf("=");return m===-1&&(m=p),[m,m===p?0:4-m%4]}function a(f,p,m){for(var y,g,i=[],s=p;s<m;s+=3)y=(f[s]<<16&16711680)+(f[s+1]<<8&65280)+(255&f[s+2]),i.push(c[(g=y)>>18&63]+c[g>>12&63]+c[g>>6&63]+c[63&g]);return i.join("")}d[45]=62,d[95]=63},function(v,o){o.read=function(r,c,d,l,u){var n,h,t=8*u-l-1,a=(1<<t)-1,f=a>>1,p=-7,m=d?u-1:0,y=d?-1:1,g=r[c+m];for(m+=y,n=g&(1<<-p)-1,g>>=-p,p+=t;p>0;n=256*n+r[c+m],m+=y,p-=8);for(h=n&(1<<-p)-1,n>>=-p,p+=l;p>0;h=256*h+r[c+m],m+=y,p-=8);if(n===0)n=1-f;else{if(n===a)return h?NaN:1/0*(g?-1:1);h+=Math.pow(2,l),n-=f}return(g?-1:1)*h*Math.pow(2,n-l)},o.write=function(r,c,d,l,u,n){var h,t,a,f=8*n-u-1,p=(1<<f)-1,m=p>>1,y=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=l?0:n-1,i=l?1:-1,s=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(t=isNaN(c)?1:0,h=p):(h=Math.floor(Math.log(c)/Math.LN2),c*(a=Math.pow(2,-h))<1&&(h--,a*=2),(c+=h+m>=1?y/a:y*Math.pow(2,1-m))*a>=2&&(h++,a/=2),h+m>=p?(t=0,h=p):h+m>=1?(t=(c*a-1)*Math.pow(2,u),h+=m):(t=c*Math.pow(2,m-1)*Math.pow(2,u),h=0));u>=8;r[d+g]=255&t,g+=i,t/=256,u-=8);for(h=h<<u|t,f+=u;f>0;r[d+g]=255&h,g+=i,h/=256,f-=8);r[d+g-i]|=128*s}},function(v,o){var r={}.toString;v.exports=Array.isArray||function(c){return r.call(c)=="[object Array]"}},function(v,o,r){var c=this&&this.__values||function(u){var n=typeof Symbol=="function"&&Symbol.iterator,h=n&&u[n],t=0;if(h)return h.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&t>=u.length&&(u=void 0),{value:u&&u[t++],done:!u}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var d=r(1);function l(u){var n,h;if(u===null||d.isString(u)||d.isNumber(u))return u;if(d.isArray(u)){var t=new Array;try{for(var a=c(u),f=a.next();!f.done;f=a.next()){var p=f.value;t.push(l(p))}}catch(g){n={error:g}}finally{try{f&&!f.done&&(h=a.return)&&h.call(a)}finally{if(n)throw n.error}}return t}if(d.isObject(u)){t=new Map;for(var m in u)if(u.hasOwnProperty(m)){var y=u[m];t.set(m,l(y))}return t}return u}o.parseJSONFromBytes=function(u){var n=d.utf8Decode(u);return JSON.parse.call(void 0,n)},o.serializeJSONToBytes=function(u){var n=JSON.stringify.call(void 0,u);return d.utf8Encode(n)},o.parseJSONIntoInfraValues=function(u){return l(JSON.parse.call(void 0,u))},o.convertAJSONDerivedJavaScriptValueToAnInfraValue=l},function(v,o,r){var c=this&&this.__generator||function(h,t){var a,f,p,m,y={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return m={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(i){return function(s){return function(x){if(a)throw new TypeError("Generator is already executing.");for(;y;)try{if(a=1,f&&(p=2&x[0]?f.return:x[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,x[1])).done)return p;switch(f=0,p&&(x=[2&x[0],p.value]),x[0]){case 0:case 1:p=x;break;case 4:return y.label++,{value:x[1],done:!1};case 5:y.label++,f=x[1],x=[0];continue;case 7:x=y.ops.pop(),y.trys.pop();continue;default:if(p=y.trys,!((p=p.length>0&&p[p.length-1])||x[0]!==6&&x[0]!==2)){y=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){y.label=x[1];break}if(x[0]===6&&y.label<p[1]){y.label=p[1],p=x;break}if(p&&y.label<p[2]){y.label=p[2],y.ops.push(x);break}p[2]&&y.ops.pop(),y.trys.pop();continue}x=t.call(h,y)}catch(b){x=[6,b],f=0}finally{a=p=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([i,s])}}},d=this&&this.__read||function(h,t){var a=typeof Symbol=="function"&&h[Symbol.iterator];if(!a)return h;var f,p,m=a.call(h),y=[];try{for(;(t===void 0||t-- >0)&&!(f=m.next()).done;)y.push(f.value)}catch(g){p={error:g}}finally{try{f&&!f.done&&(a=m.return)&&a.call(m)}finally{if(p)throw p.error}}return y},l=this&&this.__spread||function(){for(var h=[],t=0;t<arguments.length;t++)h=h.concat(d(arguments[t]));return h},u=this&&this.__values||function(h){var t=typeof Symbol=="function"&&Symbol.iterator,a=t&&h[t],f=0;if(a)return a.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&f>=h.length&&(h=void 0),{value:h&&h[f++],done:!h}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var n=r(1);o.append=function(h,t){h.push(t)},o.extend=function(h,t){h.push.apply(h,l(t))},o.prepend=function(h,t){h.unshift(t)},o.replace=function(h,t,a){var f,p,m=0;try{for(var y=u(h),g=y.next();!g.done;g=y.next()){var i=g.value;if(n.isFunction(t))t.call(null,i)&&(h[m]=a);else if(i===t)return void(h[m]=a);m++}}catch(s){f={error:s}}finally{try{g&&!g.done&&(p=y.return)&&p.call(y)}finally{if(f)throw f.error}}},o.insert=function(h,t,a){h.splice(a,0,t)},o.remove=function(h,t){for(var a=h.length;a--;){var f=h[a];if(n.isFunction(t))t.call(null,f)&&h.splice(a,1);else if(f===t)return void h.splice(a,1)}},o.empty=function(h){h.length=0},o.contains=function(h,t){var a,f;try{for(var p=u(h),m=p.next();!m.done;m=p.next()){var y=m.value;if(n.isFunction(t)){if(t.call(null,y))return!0}else if(y===t)return!0}}catch(g){a={error:g}}finally{try{m&&!m.done&&(f=p.return)&&f.call(p)}finally{if(a)throw a.error}}return!1},o.size=function(h,t){var a,f;if(t===void 0)return h.length;var p=0;try{for(var m=u(h),y=m.next();!y.done;y=m.next()){var g=y.value;t.call(null,g)&&p++}}catch(i){a={error:i}}finally{try{y&&!y.done&&(f=m.return)&&f.call(m)}finally{if(a)throw a.error}}return p},o.isEmpty=function(h){return h.length===0},o.forEach=function(h,t){var a,f,p,m,y,g;return c(this,function(i){switch(i.label){case 0:return t!==void 0?[3,2]:[5,u(h)];case 1:return i.sent(),[3,9];case 2:i.trys.push([2,7,8,9]),a=u(h),f=a.next(),i.label=3;case 3:return f.done?[3,6]:(p=f.value,t.call(null,p)?[4,p]:[3,5]);case 4:i.sent(),i.label=5;case 5:return f=a.next(),[3,3];case 6:return[3,9];case 7:return m=i.sent(),y={error:m},[3,9];case 8:try{f&&!f.done&&(g=a.return)&&g.call(a)}finally{if(y)throw y.error}return[7];case 9:return[2]}})},o.clone=function(h){return new(Array.bind.apply(Array,l([void 0],h)))},o.sortInAscendingOrder=function(h,t){return h.sort(function(a,f){return t.call(null,a,f)?-1:1})},o.sortInDescendingOrder=function(h,t){return h.sort(function(a,f){return t.call(null,a,f)?1:-1})}},function(v,o,r){var c=this&&this.__generator||function(h,t){var a,f,p,m,y={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return m={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(i){return function(s){return function(x){if(a)throw new TypeError("Generator is already executing.");for(;y;)try{if(a=1,f&&(p=2&x[0]?f.return:x[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,x[1])).done)return p;switch(f=0,p&&(x=[2&x[0],p.value]),x[0]){case 0:case 1:p=x;break;case 4:return y.label++,{value:x[1],done:!1};case 5:y.label++,f=x[1],x=[0];continue;case 7:x=y.ops.pop(),y.trys.pop();continue;default:if(p=y.trys,!((p=p.length>0&&p[p.length-1])||x[0]!==6&&x[0]!==2)){y=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){y.label=x[1];break}if(x[0]===6&&y.label<p[1]){y.label=p[1],p=x;break}if(p&&y.label<p[2]){y.label=p[2],y.ops.push(x);break}p[2]&&y.ops.pop(),y.trys.pop();continue}x=t.call(h,y)}catch(b){x=[6,b],f=0}finally{a=p=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([i,s])}}},d=this&&this.__values||function(h){var t=typeof Symbol=="function"&&Symbol.iterator,a=t&&h[t],f=0;if(a)return a.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&f>=h.length&&(h=void 0),{value:h&&h[f++],done:!h}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__read||function(h,t){var a=typeof Symbol=="function"&&h[Symbol.iterator];if(!a)return h;var f,p,m=a.call(h),y=[];try{for(;(t===void 0||t-- >0)&&!(f=m.next()).done;)y.push(f.value)}catch(g){p={error:g}}finally{try{f&&!f.done&&(a=m.return)&&a.call(m)}finally{if(p)throw p.error}}return y},u=this&&this.__spread||function(){for(var h=[],t=0;t<arguments.length;t++)h=h.concat(l(arguments[t]));return h};Object.defineProperty(o,"__esModule",{value:!0});var n=r(1);o.get=function(h,t){return h.get(t)},o.set=function(h,t,a){h.set(t,a)},o.remove=function(h,t){var a,f,p,m;if(n.isFunction(t)){var y=[];try{for(var g=d(h),i=g.next();!i.done;i=g.next()){var s=i.value;t.call(null,s)&&y.push(s[0])}}catch(S){a={error:S}}finally{try{i&&!i.done&&(f=g.return)&&f.call(g)}finally{if(a)throw a.error}}try{for(var x=d(y),b=x.next();!b.done;b=x.next()){var w=b.value;h.delete(w)}}catch(S){p={error:S}}finally{try{b&&!b.done&&(m=x.return)&&m.call(x)}finally{if(p)throw p.error}}}else h.delete(t)},o.contains=function(h,t){var a,f;if(n.isFunction(t)){try{for(var p=d(h),m=p.next();!m.done;m=p.next()){var y=m.value;if(t.call(null,y))return!0}}catch(g){a={error:g}}finally{try{m&&!m.done&&(f=p.return)&&f.call(p)}finally{if(a)throw a.error}}return!1}return h.has(t)},o.keys=function(h){return new Set(h.keys())},o.values=function(h){return u(h.values())},o.size=function(h,t){var a,f;if(t===void 0)return h.size;var p=0;try{for(var m=d(h),y=m.next();!y.done;y=m.next()){var g=y.value;t.call(null,g)&&p++}}catch(i){a={error:i}}finally{try{y&&!y.done&&(f=m.return)&&f.call(m)}finally{if(a)throw a.error}}return p},o.isEmpty=function(h){return h.size===0},o.forEach=function(h,t){var a,f,p,m,y,g;return c(this,function(i){switch(i.label){case 0:return t!==void 0?[3,2]:[5,d(h)];case 1:return i.sent(),[3,9];case 2:i.trys.push([2,7,8,9]),a=d(h),f=a.next(),i.label=3;case 3:return f.done?[3,6]:(p=f.value,t.call(null,p)?[4,p]:[3,5]);case 4:i.sent(),i.label=5;case 5:return f=a.next(),[3,3];case 6:return[3,9];case 7:return m=i.sent(),y={error:m},[3,9];case 8:try{f&&!f.done&&(g=a.return)&&g.call(a)}finally{if(y)throw y.error}return[7];case 9:return[2]}})},o.clone=function(h){return new Map(h)},o.sortInAscendingOrder=function(h,t){var a=new(Array.bind.apply(Array,u([void 0],h)));return a.sort(function(f,p){return t.call(null,f,p)?-1:1}),new Map(a)},o.sortInDescendingOrder=function(h,t){var a=new(Array.bind.apply(Array,u([void 0],h)));return a.sort(function(f,p){return t.call(null,f,p)?1:-1}),new Map(a)}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0}),o.HTML="http://www.w3.org/1999/xhtml",o.XML="http://www.w3.org/XML/1998/namespace",o.XMLNS="http://www.w3.org/2000/xmlns/",o.MathML="http://www.w3.org/1998/Math/MathML",o.SVG="http://www.w3.org/2000/svg",o.XLink="http://www.w3.org/1999/xlink"},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0}),o.enqueue=function(c,d){c.push(d)},o.dequeue=function(c){return c.shift()||null}},function(v,o,r){var c=this&&this.__generator||function(t,a){var f,p,m,y,g={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return y={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function i(s){return function(x){return function(b){if(f)throw new TypeError("Generator is already executing.");for(;g;)try{if(f=1,p&&(m=2&b[0]?p.return:b[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,b[1])).done)return m;switch(p=0,m&&(b=[2&b[0],m.value]),b[0]){case 0:case 1:m=b;break;case 4:return g.label++,{value:b[1],done:!1};case 5:g.label++,p=b[1],b=[0];continue;case 7:b=g.ops.pop(),g.trys.pop();continue;default:if(m=g.trys,!((m=m.length>0&&m[m.length-1])||b[0]!==6&&b[0]!==2)){g=0;continue}if(b[0]===3&&(!m||b[1]>m[0]&&b[1]<m[3])){g.label=b[1];break}if(b[0]===6&&g.label<m[1]){g.label=m[1],m=b;break}if(m&&g.label<m[2]){g.label=m[2],g.ops.push(b);break}m[2]&&g.ops.pop(),g.trys.pop();continue}b=a.call(t,g)}catch(w){b=[6,w],p=0}finally{f=m=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([s,x])}}},d=this&&this.__values||function(t){var a=typeof Symbol=="function"&&Symbol.iterator,f=a&&t[a],p=0;if(f)return f.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&p>=t.length&&(t=void 0),{value:t&&t[p++],done:!t}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__read||function(t,a){var f=typeof Symbol=="function"&&t[Symbol.iterator];if(!f)return t;var p,m,y=f.call(t),g=[];try{for(;(a===void 0||a-- >0)&&!(p=y.next()).done;)g.push(p.value)}catch(i){m={error:i}}finally{try{p&&!p.done&&(f=y.return)&&f.call(y)}finally{if(m)throw m.error}}return g},u=this&&this.__spread||function(){for(var t=[],a=0;a<arguments.length;a++)t=t.concat(l(arguments[a]));return t};Object.defineProperty(o,"__esModule",{value:!0});var n=r(1);function h(t,a){var f,p;try{for(var m=d(t),y=m.next();!y.done;y=m.next()){var g=y.value;if(!a.has(g))return!1}}catch(i){f={error:i}}finally{try{y&&!y.done&&(p=m.return)&&p.call(m)}finally{if(f)throw f.error}}return!0}o.append=function(t,a){t.add(a)},o.extend=function(t,a){a.forEach(t.add,t)},o.prepend=function(t,a){var f=new Set(t);t.clear(),t.add(a),f.forEach(t.add,t)},o.replace=function(t,a,f){var p,m,y=new Set;try{for(var g=d(t),i=g.next();!i.done;i=g.next()){var s=i.value;n.isFunction(a)?a.call(null,s)?y.add(f):y.add(s):s===a?y.add(f):y.add(s)}}catch(x){p={error:x}}finally{try{i&&!i.done&&(m=g.return)&&m.call(g)}finally{if(p)throw p.error}}t.clear(),y.forEach(t.add,t)},o.insert=function(t,a,f){var p,m,y=new Set,g=0;try{for(var i=d(t),s=i.next();!s.done;s=i.next()){var x=s.value;g===f&&y.add(a),y.add(x),g++}}catch(b){p={error:b}}finally{try{s&&!s.done&&(m=i.return)&&m.call(i)}finally{if(p)throw p.error}}t.clear(),y.forEach(t.add,t)},o.remove=function(t,a){var f,p,m,y;if(n.isFunction(a)){var g=[];try{for(var i=d(t),s=i.next();!s.done;s=i.next()){var x=s.value;a.call(null,x)&&g.push(x)}}catch(D){f={error:D}}finally{try{s&&!s.done&&(p=i.return)&&p.call(i)}finally{if(f)throw f.error}}try{for(var b=d(g),w=b.next();!w.done;w=b.next()){var S=w.value;t.delete(S)}}catch(D){m={error:D}}finally{try{w&&!w.done&&(y=b.return)&&y.call(b)}finally{if(m)throw m.error}}}else t.delete(a)},o.empty=function(t){t.clear()},o.contains=function(t,a){var f,p;if(!n.isFunction(a))return t.has(a);try{for(var m=d(t),y=m.next();!y.done;y=m.next()){var g=y.value;if(a.call(null,g))return!0}}catch(i){f={error:i}}finally{try{y&&!y.done&&(p=m.return)&&p.call(m)}finally{if(f)throw f.error}}return!1},o.size=function(t,a){var f,p;if(a===void 0)return t.size;var m=0;try{for(var y=d(t),g=y.next();!g.done;g=y.next()){var i=g.value;a.call(null,i)&&m++}}catch(s){f={error:s}}finally{try{g&&!g.done&&(p=y.return)&&p.call(y)}finally{if(f)throw f.error}}return m},o.isEmpty=function(t){return t.size===0},o.forEach=function(t,a){var f,p,m,y,g,i;return c(this,function(s){switch(s.label){case 0:return a!==void 0?[3,2]:[5,d(t)];case 1:return s.sent(),[3,9];case 2:s.trys.push([2,7,8,9]),f=d(t),p=f.next(),s.label=3;case 3:return p.done?[3,6]:(m=p.value,a.call(null,m)?[4,m]:[3,5]);case 4:s.sent(),s.label=5;case 5:return p=f.next(),[3,3];case 6:return[3,9];case 7:return y=s.sent(),g={error:y},[3,9];case 8:try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(g)throw g.error}return[7];case 9:return[2]}})},o.clone=function(t){return new Set(t)},o.sortInAscendingOrder=function(t,a){var f=new(Array.bind.apply(Array,u([void 0],t)));return f.sort(function(p,m){return a.call(null,p,m)?-1:1}),new Set(f)},o.sortInDescendingOrder=function(t,a){var f=new(Array.bind.apply(Array,u([void 0],t)));return f.sort(function(p,m){return a.call(null,p,m)?1:-1}),new Set(f)},o.isSubsetOf=h,o.isSupersetOf=function(t,a){return h(a,t)},o.intersection=function(t,a){var f,p,m=new Set;try{for(var y=d(t),g=y.next();!g.done;g=y.next()){var i=g.value;a.has(i)&&m.add(i)}}catch(s){f={error:s}}finally{try{g&&!g.done&&(p=y.return)&&p.call(y)}finally{if(f)throw f.error}}return m},o.union=function(t,a){var f=new Set(t);return a.forEach(f.add,f),f},o.range=function(t,a){for(var f=new Set,p=t;p<=a;p++)f.add(p);return f}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0}),o.push=function(c,d){c.push(d)},o.pop=function(c){return c.pop()||null}},function(v,o,r){var c=this&&this.__values||function(g){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&g[i],x=0;if(s)return s.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&x>=g.length&&(g=void 0),{value:g&&g[x++],done:!g}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var d=r(96),l=r(147),u=r(146),n=r(1);function h(g,i){for(var s=0;;){var x=s<g.length?g.charCodeAt(s):null,b=s<i.length?i.charCodeAt(s):null;if(x===null)return!0;if(x!==b)return!1;s++}}function t(g){var i,s,x=Array.from(g),b=new Uint8Array(x.length),w=0;try{for(var S=c(g),D=S.next();!D.done;D=S.next()){var C=D.value.codePointAt(0);console.assert(C!==void 0&&C<=255,"isomorphicEncode requires string bytes to be less than or equal to 0x00FF."),C!==void 0&&C<=255&&(b[w++]=C)}}catch(A){i={error:A}}finally{try{D&&!D.done&&(s=S.return)&&s.call(S)}finally{if(i)throw i.error}}return b}function a(g){return/^[\u0000-\u007F]*$/.test(g)}function f(g){var i,s,x="";try{for(var b=c(g),w=b.next();!w.done;w=b.next()){var S=w.value,D=S.codePointAt(0);x+=D!==void 0&&D>=65&&D<=90?String.fromCodePoint(D+32):S}}catch(C){i={error:C}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(i)throw i.error}}return x}function p(g){return g.replace(/^[\t\n\f\r ]+/,"").replace(/[\t\n\f\r ]+$/,"")}function m(g,i,s){if(!n.isArray(i))return m(g,Array.from(i),s);for(var x="";s.position<i.length&&g.call(null,i[s.position]);)x+=i[s.position],s.position++;return x}function y(g,i){m(function(s){return d.ASCIIWhiteSpace.test(s)},g,i)}o.isCodeUnitPrefix=h,o.isCodeUnitLessThan=function(g,i){if(h(i,g))return!1;if(h(g,i))return!0;for(var s=0;s<Math.min(g.length,i.length);s++){var x=g.charCodeAt(s),b=i.charCodeAt(s);if(x!==b)return x<b}return!1},o.isomorphicEncode=t,o.isASCIIString=a,o.asciiLowercase=f,o.asciiUppercase=function(g){var i,s,x="";try{for(var b=c(g),w=b.next();!w.done;w=b.next()){var S=w.value,D=S.codePointAt(0);x+=D!==void 0&&D>=97&&D<=122?String.fromCodePoint(D-32):S}}catch(C){i={error:C}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(i)throw i.error}}return x},o.asciiCaseInsensitiveMatch=function(g,i){return f(g)===f(i)},o.asciiEncode=function(g){return console.assert(a(g),"asciiEncode requires an ASCII string."),t(g)},o.asciiDecode=function(g){var i,s;try{for(var x=c(g),b=x.next();!b.done;b=x.next()){var w=b.value;console.assert(u.isASCIIByte(w),"asciiDecode requires an ASCII byte sequence.")}}catch(S){i={error:S}}finally{try{b&&!b.done&&(s=x.return)&&s.call(x)}finally{if(i)throw i.error}}return l.isomorphicDecode(g)},o.stripNewlines=function(g){return g.replace(/[\n\r]/g,"")},o.normalizeNewlines=function(g){return g.replace(/\r\n/g,`
`).replace(/\r/g,`
`)},o.stripLeadingAndTrailingASCIIWhitespace=p,o.stripAndCollapseASCIIWhitespace=function(g){return p(g.replace(/[\t\n\f\r ]{2,}/g," "))},o.collectASequenceOfCodePoints=m,o.skipASCIIWhitespace=y,o.strictlySplit=function g(i,s){if(!n.isArray(i))return g(Array.from(i),s);var x={position:0},b=[],w=m(function(S){return s!==S},i,x);for(b.push(w);x.position<i.length;)console.assert(i[x.position]===s,"strictlySplit found no delimiter in input string."),x.position++,w=m(function(S){return s!==S},i,x),b.push(w);return b},o.splitAStringOnASCIIWhitespace=function g(i){if(!n.isArray(i))return g(Array.from(i));var s={position:0},x=[];for(y(i,s);s.position<i.length;){var b=m(function(w){return!d.ASCIIWhiteSpace.test(w)},i,s);x.push(b),y(i,s)}return x},o.splitAStringOnCommas=function g(i){if(!n.isArray(i))return g(Array.from(i));for(var s={position:0},x=[];s.position<i.length;){var b=m(function(w){return w!==","},i,s);x.push(p(b)),s.position<i.length&&(console.assert(i[s.position]===",","splitAStringOnCommas found no delimiter in input string."),s.position++)}return x},o.concatenate=function(g,i){return i===void 0&&(i=""),g.length===0?"":g.join(i)}},function(v,o,r){var c=this&&this.__values||function(l){var u=typeof Symbol=="function"&&Symbol.iterator,n=u&&l[u],h=0;if(n)return n.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&h>=l.length&&(l=void 0),{value:l&&l[h++],done:!l}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var d=r(97);o.abort_add=function(l,u){u._abortedFlag||u._abortAlgorithms.add(l)},o.abort_remove=function(l,u){u._abortAlgorithms.delete(l)},o.abort_signalAbort=function(l){var u,n;if(!l._abortedFlag){l._abortedFlag=!0;try{for(var h=c(l._abortAlgorithms),t=h.next();!t.done;t=h.next())t.value.call(l)}catch(a){u={error:a}}finally{try{t&&!t.done&&(n=h.return)&&n.call(h)}finally{if(u)throw u.error}}l._abortAlgorithms.clear(),d.event_fireAnEvent("abort",l)}}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(150),d=function(){function l(){}return l.asNode=function(u){if(c.Guard.isNode(u))return u;throw new Error("Invalid object. Node expected.")},l}();o.Cast=d},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function l(){}return Object.defineProperty(l.prototype,"size",{get:function(){return 0},enumerable:!0,configurable:!0}),l.prototype.add=function(u){throw new Error("Cannot add to an empty set.")},l.prototype.clear=function(){},l.prototype.delete=function(u){return!1},l.prototype.forEach=function(u,n){},l.prototype.has=function(u){return!1},l.prototype[Symbol.iterator]=function(){return new d},l.prototype.entries=function(){return new d},l.prototype.keys=function(){return new d},l.prototype.values=function(){return new d},Object.defineProperty(l.prototype,Symbol.toStringTag,{get:function(){return"EmptySet"},enumerable:!0,configurable:!0}),l}();o.EmptySet=c;var d=function(){function l(){}return l.prototype[Symbol.iterator]=function(){return this},l.prototype.next=function(){return{done:!0,value:null}},l}()},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0}),function(c){c[c.SchemeStart=0]="SchemeStart",c[c.Scheme=1]="Scheme",c[c.NoScheme=2]="NoScheme",c[c.SpecialRelativeOrAuthority=3]="SpecialRelativeOrAuthority",c[c.PathOrAuthority=4]="PathOrAuthority",c[c.Relative=5]="Relative",c[c.RelativeSlash=6]="RelativeSlash",c[c.SpecialAuthoritySlashes=7]="SpecialAuthoritySlashes",c[c.SpecialAuthorityIgnoreSlashes=8]="SpecialAuthorityIgnoreSlashes",c[c.Authority=9]="Authority",c[c.Host=10]="Host",c[c.Hostname=11]="Hostname",c[c.Port=12]="Port",c[c.File=13]="File",c[c.FileSlash=14]="FileSlash",c[c.FileHost=15]="FileHost",c[c.PathStart=16]="PathStart",c[c.Path=17]="Path",c[c.CannotBeABaseURLPath=18]="CannotBeABaseURLPath",c[c.Query=19]="Query",c[c.Fragment=20]="Fragment"}(o.ParserState||(o.ParserState={})),o.OpaqueOrigin=["","",null,null]},function(v,o,r){var c=r(245),d=r(247);function l(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}o.parse=b,o.resolve=function(w,S){return b(w,!1,!0).resolve(S)},o.resolveObject=function(w,S){return w?b(w,!1,!0).resolveObject(S):S},o.format=function(w){return d.isString(w)&&(w=b(w)),w instanceof l?w.format():l.prototype.format.call(w)},o.Url=l;var u=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,t=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),a=["'"].concat(t),f=["%","/","?",";","#"].concat(a),p=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},i={javascript:!0,"javascript:":!0},s={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=r(248);function b(w,S,D){if(w&&d.isObject(w)&&w instanceof l)return w;var C=new l;return C.parse(w,S,D),C}l.prototype.parse=function(w,S,D){if(!d.isString(w))throw new TypeError("Parameter 'url' must be a string, not "+typeof w);var C=w.indexOf("?"),A=C!==-1&&C<w.indexOf("#")?"?":"#",T=w.split(A);T[0]=T[0].replace(/\\/g,"/");var O=w=T.join(A);if(O=O.trim(),!D&&w.split("#").length===1){var I=h.exec(O);if(I)return this.path=O,this.href=O,this.pathname=I[1],I[2]?(this.search=I[2],this.query=S?x.parse(this.search.substr(1)):this.search.substr(1)):S&&(this.search="",this.query={}),this}var k=u.exec(O);if(k){var R=(k=k[0]).toLowerCase();this.protocol=R,O=O.substr(k.length)}if(D||k||O.match(/^\/\/[^@\/]+@[^@\/]+/)){var G=O.substr(0,2)==="//";!G||k&&i[k]||(O=O.substr(2),this.slashes=!0)}if(!i[k]&&(G||k&&!s[k])){for(var W,L,j=-1,z=0;z<p.length;z++)(H=O.indexOf(p[z]))!==-1&&(j===-1||H<j)&&(j=H);for((L=j===-1?O.lastIndexOf("@"):O.lastIndexOf("@",j))!==-1&&(W=O.slice(0,L),O=O.slice(L+1),this.auth=decodeURIComponent(W)),j=-1,z=0;z<f.length;z++){var H;(H=O.indexOf(f[z]))!==-1&&(j===-1||H<j)&&(j=H)}j===-1&&(j=O.length),this.host=O.slice(0,j),O=O.slice(j),this.parseHost(),this.hostname=this.hostname||"";var X=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!X)for(var Y=this.hostname.split(/\./),Z=(z=0,Y.length);z<Z;z++){var q=Y[z];if(q&&!q.match(m)){for(var ee="",re=0,ae=q.length;re<ae;re++)q.charCodeAt(re)>127?ee+="x":ee+=q[re];if(!ee.match(m)){var Q=Y.slice(0,z),N=Y.slice(z+1),E=q.match(y);E&&(Q.push(E[1]),N.unshift(E[2])),N.length&&(O="/"+N.join(".")+O),this.hostname=Q.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),X||(this.hostname=c.toASCII(this.hostname));var P=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+P,this.href+=this.host,X&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),O[0]!=="/"&&(O="/"+O))}if(!g[R])for(z=0,Z=a.length;z<Z;z++){var M=a[z];if(O.indexOf(M)!==-1){var B=encodeURIComponent(M);B===M&&(B=escape(M)),O=O.split(M).join(B)}}var U=O.indexOf("#");U!==-1&&(this.hash=O.substr(U),O=O.slice(0,U));var $=O.indexOf("?");if($!==-1?(this.search=O.substr($),this.query=O.substr($+1),S&&(this.query=x.parse(this.query)),O=O.slice(0,$)):S&&(this.search="",this.query={}),O&&(this.pathname=O),s[R]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var J=this.search||"";this.path=P+J}return this.href=this.format(),this},l.prototype.format=function(){var w=this.auth||"";w&&(w=(w=encodeURIComponent(w)).replace(/%3A/i,":"),w+="@");var S=this.protocol||"",D=this.pathname||"",C=this.hash||"",A=!1,T="";this.host?A=w+this.host:this.hostname&&(A=w+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(A+=":"+this.port)),this.query&&d.isObject(this.query)&&Object.keys(this.query).length&&(T=x.stringify(this.query));var O=this.search||T&&"?"+T||"";return S&&S.substr(-1)!==":"&&(S+=":"),this.slashes||(!S||s[S])&&A!==!1?(A="//"+(A||""),D&&D.charAt(0)!=="/"&&(D="/"+D)):A||(A=""),C&&C.charAt(0)!=="#"&&(C="#"+C),O&&O.charAt(0)!=="?"&&(O="?"+O),S+A+(D=D.replace(/[?#]/g,function(I){return encodeURIComponent(I)}))+(O=O.replace("#","%23"))+C},l.prototype.resolve=function(w){return this.resolveObject(b(w,!1,!0)).format()},l.prototype.resolveObject=function(w){if(d.isString(w)){var S=new l;S.parse(w,!1,!0),w=S}for(var D=new l,C=Object.keys(this),A=0;A<C.length;A++){var T=C[A];D[T]=this[T]}if(D.hash=w.hash,w.href==="")return D.href=D.format(),D;if(w.slashes&&!w.protocol){for(var O=Object.keys(w),I=0;I<O.length;I++){var k=O[I];k!=="protocol"&&(D[k]=w[k])}return s[D.protocol]&&D.hostname&&!D.pathname&&(D.path=D.pathname="/"),D.href=D.format(),D}if(w.protocol&&w.protocol!==D.protocol){if(!s[w.protocol]){for(var R=Object.keys(w),G=0;G<R.length;G++){var W=R[G];D[W]=w[W]}return D.href=D.format(),D}if(D.protocol=w.protocol,w.host||i[w.protocol])D.pathname=w.pathname;else{for(var L=(w.pathname||"").split("/");L.length&&!(w.host=L.shift()););w.host||(w.host=""),w.hostname||(w.hostname=""),L[0]!==""&&L.unshift(""),L.length<2&&L.unshift(""),D.pathname=L.join("/")}if(D.search=w.search,D.query=w.query,D.host=w.host||"",D.auth=w.auth,D.hostname=w.hostname||w.host,D.port=w.port,D.pathname||D.search){var j=D.pathname||"",z=D.search||"";D.path=j+z}return D.slashes=D.slashes||w.slashes,D.href=D.format(),D}var H=D.pathname&&D.pathname.charAt(0)==="/",X=w.host||w.pathname&&w.pathname.charAt(0)==="/",Y=X||H||D.host&&w.pathname,Z=Y,q=D.pathname&&D.pathname.split("/")||[],ee=(L=w.pathname&&w.pathname.split("/")||[],D.protocol&&!s[D.protocol]);if(ee&&(D.hostname="",D.port=null,D.host&&(q[0]===""?q[0]=D.host:q.unshift(D.host)),D.host="",w.protocol&&(w.hostname=null,w.port=null,w.host&&(L[0]===""?L[0]=w.host:L.unshift(w.host)),w.host=null),Y=Y&&(L[0]===""||q[0]==="")),X)D.host=w.host||w.host===""?w.host:D.host,D.hostname=w.hostname||w.hostname===""?w.hostname:D.hostname,D.search=w.search,D.query=w.query,q=L;else if(L.length)q||(q=[]),q.pop(),q=q.concat(L),D.search=w.search,D.query=w.query;else if(!d.isNullOrUndefined(w.search))return ee&&(D.hostname=D.host=q.shift(),(E=!!(D.host&&D.host.indexOf("@")>0)&&D.host.split("@"))&&(D.auth=E.shift(),D.host=D.hostname=E.shift())),D.search=w.search,D.query=w.query,d.isNull(D.pathname)&&d.isNull(D.search)||(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.href=D.format(),D;if(!q.length)return D.pathname=null,D.search?D.path="/"+D.search:D.path=null,D.href=D.format(),D;for(var re=q.slice(-1)[0],ae=(D.host||w.host||q.length>1)&&(re==="."||re==="..")||re==="",Q=0,N=q.length;N>=0;N--)(re=q[N])==="."?q.splice(N,1):re===".."?(q.splice(N,1),Q++):Q&&(q.splice(N,1),Q--);if(!Y&&!Z)for(;Q--;Q)q.unshift("..");!Y||q[0]===""||q[0]&&q[0].charAt(0)==="/"||q.unshift(""),ae&&q.join("/").substr(-1)!=="/"&&q.push("");var E,P=q[0]===""||q[0]&&q[0].charAt(0)==="/";return ee&&(D.hostname=D.host=P?"":q.length?q.shift():"",(E=!!(D.host&&D.host.indexOf("@")>0)&&D.host.split("@"))&&(D.auth=E.shift(),D.host=D.hostname=E.shift())),(Y=Y||D.host&&q.length)&&!P&&q.unshift(""),q.length?D.pathname=q.join("/"):(D.pathname=null,D.path=null),d.isNull(D.pathname)&&d.isNull(D.search)||(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.auth=w.auth||D.auth,D.slashes=D.slashes||w.slashes,D.href=D.format(),D},l.prototype.parseHost=function(){var w=this.host,S=n.exec(w);S&&((S=S[0])!==":"&&(this.port=S.substr(1)),w=w.substr(0,w.length-S.length)),w&&(this.hostname=w)}},function(v,o,r){(function(c,d){var l;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(u){o&&o.nodeType,c&&c.nodeType;var n=typeof d=="object"&&d;n.global!==n&&n.window!==n&&n.self;var h,t=2147483647,a=/^xn--/,f=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=Math.floor,g=String.fromCharCode;function i(T){throw new RangeError(m[T])}function s(T,O){for(var I=T.length,k=[];I--;)k[I]=O(T[I]);return k}function x(T,O){var I=T.split("@"),k="";return I.length>1&&(k=I[0]+"@",T=I[1]),k+s((T=T.replace(p,".")).split("."),O).join(".")}function b(T){for(var O,I,k=[],R=0,G=T.length;R<G;)(O=T.charCodeAt(R++))>=55296&&O<=56319&&R<G?(64512&(I=T.charCodeAt(R++)))==56320?k.push(((1023&O)<<10)+(1023&I)+65536):(k.push(O),R--):k.push(O);return k}function w(T){return s(T,function(O){var I="";return O>65535&&(I+=g((O-=65536)>>>10&1023|55296),O=56320|1023&O),I+=g(O)}).join("")}function S(T,O){return T+22+75*(T<26)-((O!=0)<<5)}function D(T,O,I){var k=0;for(T=I?y(T/700):T>>1,T+=y(T/O);T>455;k+=36)T=y(T/35);return y(k+36*T/(T+38))}function C(T){var O,I,k,R,G,W,L,j,z,H,X,Y=[],Z=T.length,q=0,ee=128,re=72;for((I=T.lastIndexOf("-"))<0&&(I=0),k=0;k<I;++k)T.charCodeAt(k)>=128&&i("not-basic"),Y.push(T.charCodeAt(k));for(R=I>0?I+1:0;R<Z;){for(G=q,W=1,L=36;R>=Z&&i("invalid-input"),((j=(X=T.charCodeAt(R++))-48<10?X-22:X-65<26?X-65:X-97<26?X-97:36)>=36||j>y((t-q)/W))&&i("overflow"),q+=j*W,!(j<(z=L<=re?1:L>=re+26?26:L-re));L+=36)W>y(t/(H=36-z))&&i("overflow"),W*=H;re=D(q-G,O=Y.length+1,G==0),y(q/O)>t-ee&&i("overflow"),ee+=y(q/O),q%=O,Y.splice(q++,0,ee)}return w(Y)}function A(T){var O,I,k,R,G,W,L,j,z,H,X,Y,Z,q,ee,re=[];for(Y=(T=b(T)).length,O=128,I=0,G=72,W=0;W<Y;++W)(X=T[W])<128&&re.push(g(X));for(k=R=re.length,R&&re.push("-");k<Y;){for(L=t,W=0;W<Y;++W)(X=T[W])>=O&&X<L&&(L=X);for(L-O>y((t-I)/(Z=k+1))&&i("overflow"),I+=(L-O)*Z,O=L,W=0;W<Y;++W)if((X=T[W])<O&&++I>t&&i("overflow"),X==O){for(j=I,z=36;!(j<(H=z<=G?1:z>=G+26?26:z-G));z+=36)ee=j-H,q=36-H,re.push(g(S(H+ee%q,0))),j=y(ee/q);re.push(g(S(j,0))),G=D(I,Z,k==R),I=0,++k}++I,++O}return re.join("")}h={version:"1.4.1",ucs2:{decode:b,encode:w},decode:C,encode:A,toASCII:function(T){return x(T,function(O){return f.test(O)?"xn--"+A(O):O})},toUnicode:function(T){return x(T,function(O){return a.test(O)?C(O.slice(4).toLowerCase()):O})}},(l=function(){return h}.call(o,r,o,c))===void 0||(c.exports=l)})()}).call(this,r(246)(v),r(78))},function(v,o){v.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children||(r.children=[]),Object.defineProperty(r,"loaded",{enumerable:!0,get:function(){return r.l}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return r.i}}),r.webpackPolyfill=1),r}},function(v,o,r){v.exports={isString:function(c){return typeof c=="string"},isObject:function(c){return typeof c=="object"&&c!==null},isNull:function(c){return c===null},isNullOrUndefined:function(c){return c==null}}},function(v,o,r){o.decode=o.parse=r(249),o.encode=o.stringify=r(250)},function(v,o,r){function c(l,u){return Object.prototype.hasOwnProperty.call(l,u)}v.exports=function(l,u,n,h){u=u||"&",n=n||"=";var t={};if(typeof l!="string"||l.length===0)return t;var a=/\+/g;l=l.split(u);var f=1e3;h&&typeof h.maxKeys=="number"&&(f=h.maxKeys);var p=l.length;f>0&&p>f&&(p=f);for(var m=0;m<p;++m){var y,g,i,s,x=l[m].replace(a,"%20"),b=x.indexOf(n);b>=0?(y=x.substr(0,b),g=x.substr(b+1)):(y=x,g=""),i=decodeURIComponent(y),s=decodeURIComponent(g),c(t,i)?d(t[i])?t[i].push(s):t[i]=[t[i],s]:t[i]=s}return t};var d=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"}},function(v,o,r){var c=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};v.exports=function(n,h,t,a){return h=h||"&",t=t||"=",n===null&&(n=void 0),typeof n=="object"?l(u(n),function(f){var p=encodeURIComponent(c(f))+t;return d(n[f])?l(n[f],function(m){return p+encodeURIComponent(c(m))}).join(h):p+encodeURIComponent(c(n[f]))}).join(h):a?encodeURIComponent(c(a))+t+encodeURIComponent(c(n)):""};var d=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function l(n,h){if(n.map)return n.map(h);for(var t=[],a=0;a<n.length;a++)t.push(h(n[a],a));return t}var u=Object.keys||function(n){var h=[];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&h.push(t);return h}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(52);o.attr_setAnExistingAttributeValue=function(d,l){d._element===null?d._value=l:c.element_change(d,d._element,l)}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(108),d=r(30),l=r(52);o.tokenList_validationSteps=function(u,n){if(!d.dom_hasSupportedTokens(u._attribute._localName))throw new TypeError("There are no supported tokens defined for attribute name: '"+u._attribute._localName+"'.");return d.dom_getSupportedTokens(u._attribute._localName).has(n.toLowerCase())},o.tokenList_updateSteps=function(u){(u._element.hasAttribute(u._attribute._localName)||u._tokenSet.size!==0)&&l.element_setAnAttributeValue(u._element,u._attribute._localName,c.orderedSet_serialize(u._tokenSet))},o.tokenList_serializeSteps=function(u){return l.element_getAnAttributeValue(u._element,u._attribute._localName)}},function(v,o,r){var c=this&&this.__values||function(u){var n=typeof Symbol=="function"&&Symbol.iterator,h=n&&u[n],t=0;if(h)return h.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&t>=u.length&&(u=void 0),{value:u&&u[t++],done:!u}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var d=r(1);function l(u){return d.isBoolean(u)?u:u.capture||!1}o.eventTarget_flatten=l,o.eventTarget_flattenMore=function(u){var n=l(u),h=!1,t=!1;return d.isBoolean(u)||(h=u.once||!1,t=u.passive||!1),[n,t,h]},o.eventTarget_addEventListener=function(u,n){if(n.callback!==null){for(var h=0;h<u._eventListenerList.length;h++){var t=u._eventListenerList[h];if(t.type===n.type&&t.callback.handleEvent===n.callback.handleEvent&&t.capture===n.capture)return}u._eventListenerList.push(n)}},o.eventTarget_removeEventListener=function(u,n,h){n.removed=!0,u._eventListenerList.splice(h,1)},o.eventTarget_removeAllEventListeners=function(u){var n,h;try{for(var t=c(u._eventListenerList),a=t.next();!a.done;a=t.next())a.value.removed=!0}catch(f){n={error:f}}finally{try{a&&!a.done&&(h=t.return)&&h.call(t)}finally{if(n)throw n.error}}u._eventListenerList.length=0}},function(v,o,r){var c=this&&this.__values||function(u){var n=typeof Symbol=="function"&&Symbol.iterator,h=n&&u[n],t=0;if(h)return h.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&t>=u.length&&(u=void 0),{value:u&&u[t++],done:!u}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var d=r(1),l=r(29);o.parentNode_convertNodesIntoANode=function(u,n){for(var h,t,a=null,f=0;f<u.length;f++){var p=u[f];if(d.isString(p)){var m=l.create_text(n,p);u[f]=m}}if(u.length===1)a=u[0];else{var y=a=l.create_documentFragment(n);try{for(var g=c(u),i=g.next();!i.done;i=g.next())p=i.value,y.appendChild(p)}catch(s){h={error:s}}finally{try{i&&!i.done&&(t=g.return)&&t.call(g)}finally{if(h)throw h.error}}}return a}},function(v,o,r){var c=this&&this.__values||function(S){var D=typeof Symbol=="function"&&Symbol.iterator,C=D&&S[D],A=0;if(C)return C.call(S);if(S&&typeof S.length=="number")return{next:function(){return S&&A>=S.length&&(S=void 0),{value:S&&S[A++],done:!S}}};throw new TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__read||function(S,D){var C=typeof Symbol=="function"&&S[Symbol.iterator];if(!C)return S;var A,T,O=C.call(S),I=[];try{for(;(D===void 0||D-- >0)&&!(A=O.next()).done;)I.push(A.value)}catch(k){T={error:k}}finally{try{A&&!A.done&&(C=O.return)&&C.call(O)}finally{if(T)throw T.error}}return I},l=this&&this.__spread||function(){for(var S=[],D=0;D<arguments.length;D++)S=S.concat(d(arguments[D]));return S};Object.defineProperty(o,"__esModule",{value:!0});var u=r(2),n=r(9),h=r(3),t=r(29),a=r(17),f=r(175),p=r(107),m=r(176),y=r(37),g=r(177);function i(S){return S._startNode===S._endNode&&S._startOffset===S._endOffset}function s(S){return a.tree_rootNode(S._startNode)}function x(S,D){return a.tree_rootNode(S)===s(D)&&f.boundaryPoint_position([S,0],D._start)===u.BoundaryPosition.After&&f.boundaryPoint_position([S,a.tree_nodeLength(S)],D._end)===u.BoundaryPosition.Before}function b(S,D){var C=a.tree_isAncestorOf(D._startNode,S,!0),A=a.tree_isAncestorOf(D._endNode,S,!0);return C&&!A||!C&&A}function w(S){var D,C,A,T,O,I,k=t.create_documentFragment(S._startNode._nodeDocument);if(i(S))return k;var R=S._startNode,G=S._startOffset,W=S._endNode,L=S._endOffset;if(R===W&&h.Guard.isCharacterDataNode(R))return(F=m.node_clone(R))._data=p.characterData_substringData(R,G,L-G),y.mutation_append(F,k),p.characterData_replaceData(R,G,L-G,""),k;for(var j=R;!a.tree_isAncestorOf(W,j,!0);){if(j._parent===null)throw new Error("Parent node  is null.");j=j._parent}var z=null;if(!a.tree_isAncestorOf(W,R,!0))try{for(var H=c(j._children),X=H.next();!X.done;X=H.next())if(b(ee=X.value,S)){z=ee;break}}catch(J){D={error:J}}finally{try{X&&!X.done&&(C=H.return)&&C.call(H)}finally{if(D)throw D.error}}var Y=null;if(!a.tree_isAncestorOf(R,W,!0))for(var Z=l(j._children),q=Z.length-1;q>0;q--){var ee;if(b(ee=Z[q],S)){Y=ee;break}}var re,ae,Q=[];try{for(var N=c(j._children),E=N.next();!E.done;E=N.next())if(x($=E.value,S)){if(h.Guard.isDocumentTypeNode($))throw new n.HierarchyRequestError;Q.push($)}}catch(J){A={error:J}}finally{try{E&&!E.done&&(T=N.return)&&T.call(N)}finally{if(A)throw A.error}}if(a.tree_isAncestorOf(W,R,!0))re=R,ae=G;else{for(var P=R;P._parent!==null&&!a.tree_isAncestorOf(W,P._parent);)P=P._parent;if(P._parent===null)throw new Error("Parent node is null.");re=P._parent,ae=1+a.tree_index(P)}if(h.Guard.isCharacterDataNode(z))(F=m.node_clone(R))._data=p.characterData_substringData(R,G,a.tree_nodeLength(R)-G),y.mutation_append(F,k),p.characterData_replaceData(R,G,a.tree_nodeLength(R)-G,"");else if(z!==null){var F=m.node_clone(z);y.mutation_append(F,k);var M=w(t.create_range([R,G],[z,a.tree_nodeLength(z)]));y.mutation_append(M,F)}try{for(var B=c(Q),U=B.next();!U.done;U=B.next()){var $=U.value;y.mutation_append($,k)}}catch(J){O={error:J}}finally{try{U&&!U.done&&(I=B.return)&&I.call(B)}finally{if(O)throw O.error}}return h.Guard.isCharacterDataNode(Y)?((F=m.node_clone(W))._data=p.characterData_substringData(W,0,L),y.mutation_append(F,k),p.characterData_replaceData(W,0,L,"")):Y!==null&&(F=m.node_clone(Y),y.mutation_append(F,k),M=w(t.create_range([Y,0],[W,L])),y.mutation_append(M,F)),S._start=[re,ae],S._end=[re,ae],k}o.range_collapsed=i,o.range_root=s,o.range_isContained=x,o.range_isPartiallyContained=b,o.range_setTheStart=function(S,D,C){if(h.Guard.isDocumentTypeNode(D))throw new n.InvalidNodeTypeError;if(C>a.tree_nodeLength(D))throw new n.IndexSizeError;var A=[D,C];s(S)===a.tree_rootNode(D)&&f.boundaryPoint_position(A,S._end)!==u.BoundaryPosition.After||(S._end=A),S._start=A},o.range_setTheEnd=function(S,D,C){if(h.Guard.isDocumentTypeNode(D))throw new n.InvalidNodeTypeError;if(C>a.tree_nodeLength(D))throw new n.IndexSizeError;var A=[D,C];s(S)===a.tree_rootNode(D)&&f.boundaryPoint_position(A,S._start)!==u.BoundaryPosition.Before||(S._start=A),S._end=A},o.range_select=function(S,D){var C=S._parent;if(C===null)throw new n.InvalidNodeTypeError;var A=a.tree_index(S);D._start=[C,A],D._end=[C,A+1]},o.range_extract=w,o.range_cloneTheContents=function S(D){var C,A,T,O,I,k,R=t.create_documentFragment(D._startNode._nodeDocument);if(i(D))return R;var G=D._startNode,W=D._startOffset,L=D._endNode,j=D._endOffset;G===L&&h.Guard.isCharacterDataNode(G)&&((E=m.node_clone(G))._data=p.characterData_substringData(G,W,j-W),y.mutation_append(E,R));for(var z=G;!a.tree_isAncestorOf(L,z,!0);){if(z._parent===null)throw new Error("Parent node  is null.");z=z._parent}var H=null;if(!a.tree_isAncestorOf(L,G,!0))try{for(var X=c(z._children),Y=X.next();!Y.done;Y=X.next())if(b(re=Y.value,D)){H=re;break}}catch(U){C={error:U}}finally{try{Y&&!Y.done&&(A=X.return)&&A.call(X)}finally{if(C)throw C.error}}var Z=null;if(!a.tree_isAncestorOf(G,L,!0))for(var q=l(z._children),ee=q.length-1;ee>0;ee--){var re;if(b(re=q[ee],D)){Z=re;break}}var ae=[];try{for(var Q=c(z._children),N=Q.next();!N.done;N=Q.next())if(x(B=N.value,D)){if(h.Guard.isDocumentTypeNode(B))throw new n.HierarchyRequestError;ae.push(B)}}catch(U){T={error:U}}finally{try{N&&!N.done&&(O=Q.return)&&O.call(Q)}finally{if(T)throw T.error}}if(h.Guard.isCharacterDataNode(H))(E=m.node_clone(G))._data=p.characterData_substringData(G,W,a.tree_nodeLength(G)-W),y.mutation_append(E,R);else if(H!==null){var E=m.node_clone(H);y.mutation_append(E,R);var P=S(t.create_range([G,W],[H,a.tree_nodeLength(H)]));y.mutation_append(P,E)}try{for(var F=c(ae),M=F.next();!M.done;M=F.next()){var B=M.value,E=m.node_clone(B);y.mutation_append(E,R)}}catch(U){I={error:U}}finally{try{M&&!M.done&&(k=F.return)&&k.call(F)}finally{if(I)throw I.error}}return h.Guard.isCharacterDataNode(Z)?((E=m.node_clone(L))._data=p.characterData_substringData(L,0,j),y.mutation_append(E,R)):Z!==null&&(E=m.node_clone(Z),R.append(E),P=w(t.create_range([Z,0],[L,j])),y.mutation_append(P,E)),R},o.range_insert=function(S,D){var C,A;if(h.Guard.isProcessingInstructionNode(D._startNode)||h.Guard.isCommentNode(D._startNode)||h.Guard.isTextNode(D._startNode)&&D._startNode._parent===null||D._startNode===S)throw new n.HierarchyRequestError;var T,O=null;if(h.Guard.isTextNode(D._startNode))O=D._startNode;else{var I=0;try{for(var k=c(D._startNode._children),R=k.next();!R.done;R=k.next()){var G=R.value;if(I===D._startOffset){O=G;break}I++}}catch(L){C={error:L}}finally{try{R&&!R.done&&(A=k.return)&&A.call(k)}finally{if(C)throw C.error}}}if(O===null)T=D._startNode;else{if(O._parent===null)throw new Error("Parent node is null.");T=O._parent}y.mutation_ensurePreInsertionValidity(S,T,O),h.Guard.isTextNode(D._startNode)&&(O=g.text_split(D._startNode,D._startOffset)),S===O&&(O=S._nextSibling),S._parent!==null&&y.mutation_remove(S,S._parent);var W=O===null?a.tree_nodeLength(T):a.tree_index(O);h.Guard.isDocumentFragmentNode(S)?W+=a.tree_nodeLength(S):W++,y.mutation_preInsert(S,T,O),i(D)&&(D._end=[T,W])},o.range_getContainedNodes=function(S){var D;return(D={})[Symbol.iterator]=function(){var C=S.commonAncestorContainer,A=a.tree_getFirstDescendantNode(C);return{next:function(){for(;A&&!x(A,S);)A=a.tree_getNextDescendantNode(C,A);if(A===null)return{done:!0,value:null};var T={done:!1,value:A};return A=a.tree_getNextDescendantNode(C,A),T}}},D},o.range_getPartiallyContainedNodes=function(S){var D;return(D={})[Symbol.iterator]=function(){var C=S.commonAncestorContainer,A=a.tree_getFirstDescendantNode(C);return{next:function(){for(;A&&!b(A,S);)A=a.tree_getNextDescendantNode(C,A);if(A===null)return{done:!0,value:null};var T={done:!1,value:A};return A=a.tree_getNextDescendantNode(C,A),T}}},D}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(9);o.selectors_scopeMatchASelectorsString=function(d,l){throw new c.NotSupportedError}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(2),d=r(105);o.treeWalker_traverseChildren=function(l,u){for(var n=u?l._current._firstChild:l._current._lastChild;n!==null;){var h=d.traversal_filter(l,n);if(h===c.FilterResult.Accept)return l._current=n,n;if(h===c.FilterResult.Skip){var t=u?n._firstChild:n._lastChild;if(t!==null){n=t;continue}}for(;n!==null;){var a=u?n._nextSibling:n._previousSibling;if(a!==null){n=a;break}var f=n._parent;if(f===null||f===l._root||f===l._current)return null;n=f}}return null},o.treeWalker_traverseSiblings=function(l,u){var n=l._current;if(n===l._root)return null;for(;;){for(var h=u?n._nextSibling:n._previousSibling;h!==null;){n=h;var t=d.traversal_filter(l,n);if(t===c.FilterResult.Accept)return l._current=n,n;h=u?n._firstChild:n._lastChild,t!==c.FilterResult.Reject&&h!==null||(h=u?n._nextSibling:n._previousSibling)}if((n=n._parent)===null||n===l._root||d.traversal_filter(l,n)===c.FilterResult.Accept)return null}}},function(v,o,r){r(89),r(74);var c,d=this&&this.__extends||(c=function(a,f){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var y in m)m.hasOwnProperty(y)&&(p[y]=m[y])})(a,f)},function(a,f){function p(){this.constructor=a}c(a,f),a.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(1),u=r(2),n=r(50),h=r(3),t=function(a){function f(p,m){var y=a.call(this,p)||this;return y._indentation={},y._lengthToLastNewline=0,y._writerOptions=l.applyDefaults(m,{wellFormed:!1,headless:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,indentTextOnlyNodes:!1,spaceBeforeSlash:!1}),y}return d(f,a),f.prototype.serialize=function(p){return this._refs={suppressPretty:!1,emptyNode:!1,markup:""},p.nodeType!==u.NodeType.Document||this._writerOptions.headless||this.declaration(this._builderOptions.version,this._builderOptions.encoding,this._builderOptions.standalone),this.serializeNode(p,this._writerOptions.wellFormed),this._writerOptions.prettyPrint&&this._refs.markup.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(this._refs.markup=this._refs.markup.slice(0,-this._writerOptions.newline.length)),this._refs.markup},f.prototype.declaration=function(p,m,y){this._beginLine(),this._refs.markup+='<?xml version="'+p+'"',m!==void 0&&(this._refs.markup+=' encoding="'+m+'"'),y!==void 0&&(this._refs.markup+=' standalone="'+(y?"yes":"no")+'"'),this._refs.markup+="?>",this._endLine()},f.prototype.docType=function(p,m,y){this._beginLine(),this._refs.markup+=m&&y?"<!DOCTYPE "+p+' PUBLIC "'+m+'" "'+y+'">':m?"<!DOCTYPE "+p+' PUBLIC "'+m+'">':y?"<!DOCTYPE "+p+' SYSTEM "'+y+'">':"<!DOCTYPE "+p+">",this._endLine()},f.prototype.openTagBegin=function(p){this._beginLine(),this._refs.markup+="<"+p},f.prototype.openTagEnd=function(p,m,y){if(this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._writerOptions.prettyPrint&&!m&&!y){for(var g=!0,i=!0,s=this.currentNode.firstChild,x=0,b=0;s;){if(h.Guard.isExclusiveTextNode(s))b++;else{if(!h.Guard.isCDATASectionNode(s)){g=!1,i=!1;break}x++}s.data!==""&&(i=!1),s=s.nextSibling}this._refs.suppressPretty=!this._writerOptions.indentTextOnlyNodes&&g&&(x<=1&&b===0||x===0),this._refs.emptyNode=i}(y||m||this._refs.emptyNode)&&this._writerOptions.allowEmptyTags?this._refs.markup+="></"+p+">":this._refs.markup+=y?" />":m||this._refs.emptyNode?this._writerOptions.spaceBeforeSlash?" />":"/>":">",this._endLine()},f.prototype.closeTag=function(p){this._refs.emptyNode||(this._beginLine(),this._refs.markup+="</"+p+">"),this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._endLine()},f.prototype.attribute=function(p,m){var y=p+'="'+m+'"';this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._refs.markup.length-this._lengthToLastNewline+1+y.length>this._writerOptions.width?(this._endLine(),this._beginLine(),this._refs.markup+=this._indent(1)+y):this._refs.markup+=" "+y},f.prototype.text=function(p){p!==""&&(this._beginLine(),this._refs.markup+=p,this._endLine())},f.prototype.cdata=function(p){p!==""&&(this._beginLine(),this._refs.markup+="<![CDATA["+p+"]]>",this._endLine())},f.prototype.comment=function(p){this._beginLine(),this._refs.markup+="<!--"+p+"-->",this._endLine()},f.prototype.instruction=function(p,m){this._beginLine(),this._refs.markup+="<?"+(m===""?p:p+" "+m)+"?>",this._endLine()},f.prototype._beginLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._indent(this._writerOptions.offset+this.level))},f.prototype._endLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._writerOptions.newline,this._lengthToLastNewline=this._refs.markup.length)},f.prototype._indent=function(p){if(p<=0)return"";if(this._indentation[p]!==void 0)return this._indentation[p];var m=this._writerOptions.indent.repeat(p);return this._indentation[p]=m,m},f}(n.BaseWriter);o.XMLWriter=t},function(v,o,r){var c=r(47),d=r(35);v.exports="".repeat||function(l){var u=String(d(this)),n="",h=c(l);if(h<0||h==1/0)throw RangeError("Wrong number of repetitions");for(;h>0;(h>>>=1)&&(u+=u))1&h&&(n+=u);return n}},function(v,o,r){r(31),r(32),r(33),r(19),r(178),r(20),r(22),r(23);var c,d=this&&this.__extends||(c=function(t,a){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])})(t,a)},function(t,a){function f(){this.constructor=t}c(t,a),t.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}),l=this&&this.__values||function(t){var a=typeof Symbol=="function"&&Symbol.iterator,f=a&&t[a],p=0;if(f)return f.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&p>=t.length&&(t=void 0),{value:t&&t[p++],done:!t}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var u=r(67),n=r(1),h=function(t){function a(f,p){var m=t.call(this,f)||this;return m._writerOptions=n.applyDefaults(p,{wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),m}return d(a,t),a.prototype.serialize=function(f){var p=n.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),m=new u.ObjectWriter(this._builderOptions,p).serialize(f);return this._beginLine(this._writerOptions,0)+this._convertObject(m,this._writerOptions)},a.prototype._convertObject=function(f,p,m){var y,g,i=this;m===void 0&&(m=0);var s="",x=this._isLeafNode(f);if(n.isArray(f)){s+="[";var b=f.length,w=0;try{for(var S=l(f),D=S.next();!D.done;D=S.next()){var C=D.value;s+=this._endLine(p,m+1)+this._beginLine(p,m+1)+this._convertObject(C,p,m+1),w<b-1&&(s+=","),w++}}catch(O){y={error:O}}finally{try{D&&!D.done&&(g=S.return)&&g.call(S)}finally{if(y)throw y.error}}s+=this._endLine(p,m)+this._beginLine(p,m),s+="]"}else if(n.isObject(f)){s+="{";var A=n.objectLength(f),T=0;n.forEachObject(f,function(O,I){x&&p.prettyPrint?s+=" ":s+=i._endLine(p,m+1)+i._beginLine(p,m+1),s+=i._key(O),p.prettyPrint&&(s+=" "),s+=i._convertObject(I,p,m+1),T<A-1&&(s+=","),T++},this),x&&p.prettyPrint?s+=" ":s+=this._endLine(p,m)+this._beginLine(p,m),s+="}"}else s+=this._val(f);return s},a.prototype._beginLine=function(f,p){if(!f.prettyPrint)return"";var m=f.offset+p+1;return m>0?new Array(m).join(f.indent):""},a.prototype._endLine=function(f,p){return f.prettyPrint?f.newline:""},a.prototype._key=function(f){return'"'+f+'":'},a.prototype._val=function(f){return JSON.stringify(f)},a.prototype._isLeafNode=function(f){return this._descendantCount(f)<=1},a.prototype._descendantCount=function(f,p){var m=this;return p===void 0&&(p=0),n.isArray(f)?n.forEachArray(f,function(y){return p+=m._descendantCount(y,p)},this):n.isObject(f)?n.forEachObject(f,function(y,g){return p+=m._descendantCount(g,p)},this):p++,p},a}(r(50).BaseWriter);o.JSONWriter=h},function(v,o,r){r(31),r(32),r(33),r(19),r(178),r(89),r(20),r(22),r(23);var c,d=this&&this.__extends||(c=function(t,a){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])})(t,a)},function(t,a){function f(){this.constructor=t}c(t,a),t.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}),l=this&&this.__values||function(t){var a=typeof Symbol=="function"&&Symbol.iterator,f=a&&t[a],p=0;if(f)return f.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&p>=t.length&&(t=void 0),{value:t&&t[p++],done:!t}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var u=r(67),n=r(1),h=function(t){function a(f,p){var m=t.call(this,f)||this;if(m._writerOptions=n.applyDefaults(p,{wellFormed:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),m._writerOptions.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(m._writerOptions.offset<0)throw new Error("YAML offset should be zero or a positive number.");return m}return d(a,t),a.prototype.serialize=function(f){var p=n.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),m=new u.ObjectWriter(this._builderOptions,p).serialize(f),y=this._beginLine(this._writerOptions,0)+"---"+this._endLine(this._writerOptions)+this._convertObject(m,this._writerOptions,0);return y.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(y=y.slice(0,-this._writerOptions.newline.length)),y},a.prototype._convertObject=function(f,p,m,y){var g,i,s=this;y===void 0&&(y=!1);var x="";if(n.isArray(f))try{for(var b=l(f),w=b.next();!w.done;w=b.next()){var S=w.value;x+=this._beginLine(p,m,!0),n.isObject(S)?n.isEmpty(S)?x+='""'+this._endLine(p):x+=this._convertObject(S,p,m,!0):x+=this._val(S)+this._endLine(p)}}catch(D){g={error:D}}finally{try{w&&!w.done&&(i=b.return)&&i.call(b)}finally{if(g)throw g.error}}else n.forEachObject(f,function(D,C){y?(x+=s._key(D),y=!1):x+=s._beginLine(p,m)+s._key(D),n.isObject(C)?n.isEmpty(C)?x+=' ""'+s._endLine(p):x+=s._endLine(p)+s._convertObject(C,p,m+1):x+=" "+s._val(C)+s._endLine(p)},this);return x},a.prototype._beginLine=function(f,p,m){m===void 0&&(m=!1);var y=f.offset+p+1,g=new Array(y).join(f.indent);return m?g.substr(0,g.length-2)+"-"+g.substr(-1,1):g},a.prototype._endLine=function(f){return f.newline},a.prototype._key=function(f){return'"'+f+'":'},a.prototype._val=function(f){return JSON.stringify(f)},a}(r(50).BaseWriter);o.YAMLWriter=h},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0}),r(110).dom.setFeatures(!0);var c=r(110);o.DOMImplementation=c.DOMImplementation;var d=r(271);o.DOMParser=d.DOMParser;var l=r(274);o.XMLSerializer=l.XMLSerializer},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(3),d=r(0),l=function(){function u(){}return u.prototype.before=function(){for(var n=[],h=0;h<arguments.length;h++)n[h]=arguments[h];var t=c.Cast.asNode(this),a=t._parent;if(a!==null){for(var f=t._previousSibling,p=!0;p&&f;){p=!1;for(var m=0;m<n.length;m++){var y=n[m];if(y===f){f=f._previousSibling,p=!0;break}}}var g=d.parentNode_convertNodesIntoANode(n,t._nodeDocument);f=f===null?a._firstChild:f._nextSibling,d.mutation_preInsert(g,a,f)}},u.prototype.after=function(){for(var n=[],h=0;h<arguments.length;h++)n[h]=arguments[h];var t=c.Cast.asNode(this),a=t._parent;if(a){for(var f=t._nextSibling,p=!0;p&&f;){p=!1;for(var m=0;m<n.length;m++){var y=n[m];if(y===f){f=f._nextSibling,p=!0;break}}}var g=d.parentNode_convertNodesIntoANode(n,t._nodeDocument);d.mutation_preInsert(g,a,f)}},u.prototype.replaceWith=function(){for(var n=[],h=0;h<arguments.length;h++)n[h]=arguments[h];var t=c.Cast.asNode(this),a=t._parent;if(a){for(var f=t._nextSibling,p=!0;p&&f;){p=!1;for(var m=0;m<n.length;m++){var y=n[m];if(y===f){f=f._nextSibling,p=!0;break}}}var g=d.parentNode_convertNodesIntoANode(n,t._nodeDocument);t._parent===a?d.mutation_replace(t,g,a):d.mutation_preInsert(g,a,f)}},u.prototype.remove=function(){var n=c.Cast.asNode(this),h=n._parent;h&&d.mutation_remove(n,h)},u}();o.ChildNodeImpl=l},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=function(){};o.DocumentOrShadowRootImpl=c},function(v,o,r){var c=this&&this.__values||function(h){var t=typeof Symbol=="function"&&Symbol.iterator,a=t&&h[t],f=0;if(a)return a.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&f>=h.length&&(h=void 0),{value:h&&h[f++],done:!h}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var d=r(6),l=r(3),u=r(7),n=function(){function h(t){this._nodeList=[],this._recordQueue=[],this._callback=t;var a=d.dom.window;u.set.append(a._mutationObservers,this)}return h.prototype.observe=function(t,a){var f,p;if((a=a||{childList:!1,subtree:!1}).attributeOldValue===void 0&&a.attributeFilter===void 0||a.attributes!==void 0||(a.attributes=!0),a.characterDataOldValue!==void 0&&a.characterData===void 0&&(a.characterData=!0),!a.childList&&!a.attributes&&!a.characterData)throw new TypeError;if(a.attributeOldValue&&!a.attributes)throw new TypeError;if(a.attributeFilter!==void 0&&!a.attributes)throw new TypeError;if(a.characterDataOldValue&&!a.characterData)throw new TypeError;var m=!1,y=a,g=function(b){var w,S;if(b.observer===i){m=!0;try{for(var D=(w=void 0,c(i._nodeList)),C=D.next();!C.done;C=D.next()){var A=C.value;u.list.remove(A._registeredObserverList,function(T){return l.Guard.isTransientRegisteredObserver(T)&&T.source===b})}}catch(T){w={error:T}}finally{try{C&&!C.done&&(S=D.return)&&S.call(D)}finally{if(w)throw w.error}}b.options=y}},i=this;try{for(var s=c(t._registeredObserverList),x=s.next();!x.done;x=s.next())g(x.value)}catch(b){f={error:b}}finally{try{x&&!x.done&&(p=s.return)&&p.call(s)}finally{if(f)throw f.error}}m||(t._registeredObserverList.push({observer:this,options:a}),this._nodeList.push(t))},h.prototype.disconnect=function(){var t,a,f=this;try{for(var p=c(this._nodeList),m=p.next();!m.done;m=p.next()){var y=m.value;u.list.remove(y._registeredObserverList,function(g){return g.observer===f})}}catch(g){t={error:g}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(t)throw t.error}}this._recordQueue=[]},h.prototype.takeRecords=function(){var t=this._recordQueue;return this._recordQueue=[],t},h}();o.MutationObserverImpl=n},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(3),d=function(){function l(){}return Object.defineProperty(l.prototype,"previousElementSibling",{get:function(){for(var u=c.Cast.asNode(this)._previousSibling;u;){if(c.Guard.isElementNode(u))return u;u=u._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"nextElementSibling",{get:function(){for(var u=c.Cast.asNode(this)._nextSibling;u;){if(c.Guard.isElementNode(u))return u;u=u._nextSibling}return null},enumerable:!0,configurable:!0}),l}();o.NonDocumentTypeChildNodeImpl=d},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(3),d=r(0),l=function(){function u(){}return u.prototype.getElementById=function(n){for(var h=d.tree_getFirstDescendantNode(c.Cast.asNode(this),!1,!1,function(t){return c.Guard.isElementNode(t)});h!==null;){if(h._uniqueIdentifier===n)return h;h=d.tree_getNextDescendantNode(c.Cast.asNode(this),h,!1,!1,function(t){return c.Guard.isElementNode(t)})}return null},u}();o.NonElementParentNodeImpl=l},function(v,o,r){var c=this&&this.__values||function(n){var h=typeof Symbol=="function"&&Symbol.iterator,t=h&&n[h],a=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var d=r(3),l=r(0),u=function(){function n(){}return Object.defineProperty(n.prototype,"children",{get:function(){return l.create_htmlCollection(d.Cast.asNode(this))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"firstElementChild",{get:function(){for(var h=d.Cast.asNode(this)._firstChild;h;){if(d.Guard.isElementNode(h))return h;h=h._nextSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lastElementChild",{get:function(){for(var h=d.Cast.asNode(this)._lastChild;h;){if(d.Guard.isElementNode(h))return h;h=h._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"childElementCount",{get:function(){var h,t,a=0;try{for(var f=c(d.Cast.asNode(this)._children),p=f.next();!p.done;p=f.next()){var m=p.value;d.Guard.isElementNode(m)&&a++}}catch(y){h={error:y}}finally{try{p&&!p.done&&(t=f.return)&&t.call(f)}finally{if(h)throw h.error}}return a},enumerable:!0,configurable:!0}),n.prototype.prepend=function(){for(var h=[],t=0;t<arguments.length;t++)h[t]=arguments[t];var a=d.Cast.asNode(this),f=l.parentNode_convertNodesIntoANode(h,a._nodeDocument);l.mutation_preInsert(f,a,a._firstChild)},n.prototype.append=function(){for(var h=[],t=0;t<arguments.length;t++)h[t]=arguments[t];var a=d.Cast.asNode(this),f=l.parentNode_convertNodesIntoANode(h,a._nodeDocument);l.mutation_append(f,a)},n.prototype.querySelector=function(h){var t=d.Cast.asNode(this),a=l.selectors_scopeMatchASelectorsString(h,t);return a.length===0?null:a[0]},n.prototype.querySelectorAll=function(h){var t=d.Cast.asNode(this),a=l.selectors_scopeMatchASelectorsString(h,t);return l.create_nodeListStatic(t,a)},n}();o.ParentNodeImpl=u},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(0),d=function(){function l(){}return Object.defineProperty(l.prototype,"_name",{get:function(){return this.__name||""},set:function(u){this.__name=u},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_assignedSlot",{get:function(){return this.__assignedSlot||null},set:function(u){this.__assignedSlot=u},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"assignedSlot",{get:function(){return c.shadowTree_findASlot(this,!0)},enumerable:!0,configurable:!0}),l}();o.SlotableImpl=d},function(v,o,r){var c,d=this&&this.__extends||(c=function(t,a){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])})(t,a)},function(t,a){function f(){this.constructor=t}c(t,a),t.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(102),u=r(9),n=r(3),h=function(t){function a(f){var p=t.call(this)||this;if(n.Guard.isDocumentTypeNode(f.startContainer)||n.Guard.isAttrNode(f.startContainer)||n.Guard.isDocumentTypeNode(f.endContainer)||n.Guard.isAttrNode(f.endContainer))throw new u.InvalidNodeTypeError;return p._start=[f.startContainer,f.startOffset],p._end=[f.endContainer,f.endOffset],p}return d(a,t),a}(l.AbstractRangeImpl);o.StaticRangeImpl=h},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(272);o.DOMParser=c.DOMParserImpl},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(0),d=r(273),l=function(){function u(){}return u.prototype.parseFromString=function(n,h){if(h==="text/html")throw new Error("HTML parser not implemented.");try{return(t=new d.XMLParserImpl().parse(n))._contentType=h,t}catch(m){var t,a="http://www.mozilla.org/newlayout/xml/parsererror.xml",f=(t=c.create_xmlDocument()).createElementNS(a,"parsererror"),p=t.createElementNS(a,"error");return p.setAttribute("message",m.message),f.appendChild(p),t.appendChild(f),t}},u}();o.DOMParserImpl=l},function(v,o,r){var c=this&&this.__read||function(f,p){var m=typeof Symbol=="function"&&f[Symbol.iterator];if(!m)return f;var y,g,i=m.call(f),s=[];try{for(;(p===void 0||p-- >0)&&!(y=i.next()).done;)s.push(y.value)}catch(x){g={error:x}}finally{try{y&&!y.done&&(m=i.return)&&m.call(i)}finally{if(g)throw g.error}}return s},d=this&&this.__values||function(f){var p=typeof Symbol=="function"&&Symbol.iterator,m=p&&f[p],y=0;if(m)return m.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&y>=f.length&&(f=void 0),{value:f&&f[y++],done:!f}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var l=r(180),u=r(111),n=r(7),h=r(0),t=r(69),a=function(){function f(){}return f.prototype.parse=function(p){for(var m,y,g,i,s=new l.XMLStringLexer(p,{skipWhitespaceOnlyText:!0}),x=h.create_document(),b=x,w=s.nextToken();w.type!==u.TokenType.EOF;){switch(w.type){case u.TokenType.Declaration:var S=w;if(S.version!=="1.0")throw new Error("Invalid xml version: "+S.version);break;case u.TokenType.DocType:var D=w;if(!h.xml_isPubidChar(D.pubId))throw new Error("DocType public identifier does not match PubidChar construct.");if(!h.xml_isLegalChar(D.sysId)||D.sysId.indexOf('"')!==-1&&D.sysId.indexOf("'")!==-1)throw new Error("DocType system identifier contains invalid characters.");b.appendChild(x.implementation.createDocumentType(D.name,D.pubId,D.sysId));break;case u.TokenType.CDATA:var C=w;if(!h.xml_isLegalChar(C.data)||C.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters.");b.appendChild(x.createCDATASection(C.data));break;case u.TokenType.Comment:var A=w;if(!h.xml_isLegalChar(A.data)||A.data.indexOf("--")!==-1||A.data.endsWith("-"))throw new Error("Comment data contains invalid characters.");b.appendChild(x.createComment(A.data));break;case u.TokenType.PI:var T=w;if(T.target.indexOf(":")!==-1||/^xml$/i.test(T.target))throw new Error("Processing instruction target contains invalid characters.");if(!h.xml_isLegalChar(T.data)||T.data.indexOf("?>")!==-1)throw new Error("Processing instruction data contains invalid characters.");b.appendChild(x.createProcessingInstruction(T.target,T.data));break;case u.TokenType.Text:var O=w;if(!h.xml_isLegalChar(O.data))throw new Error("Text data contains invalid characters.");b.appendChild(x.createTextNode(this._decodeText(O.data)));break;case u.TokenType.Element:var I=w,k=c(h.namespace_extractQName(I.name),2),R=k[0],G=k[1];if(G.indexOf(":")!==-1||!h.xml_isName(G))throw new Error("Node local name contains invalid characters.");if(R==="xmlns")throw new Error("An element cannot have the 'xmlns' prefix.");var W=b.lookupNamespaceURI(R),L={};try{for(var j=(m=void 0,d(I.attributes)),z=j.next();!z.done;z=j.next()){var H=c(z.value,2),X=H[0],Y=H[1];if(X==="xmlns")W=Y;else{var Z=c(h.namespace_extractQName(X),2),q=Z[0],ee=Z[1];q==="xmlns"&&(ee===R&&(W=Y),L[ee]=Y)}}}catch(M){m={error:M}}finally{try{z&&!z.done&&(y=j.return)&&y.call(j)}finally{if(m)throw m.error}}var re=W!==null?x.createElementNS(W,I.name):x.createElement(I.name);b.appendChild(re);var ae=new t.LocalNameSet;try{for(var Q=(g=void 0,d(I.attributes)),N=Q.next();!N.done;N=Q.next()){var E=c(N.value,2),P=(X=E[0],Y=E[1],c(h.namespace_extractQName(X),2)),F=(q=P[0],ee=P[1],null);if(q==="xmlns"||q===null&&ee==="xmlns"?F=n.namespace.XMLNS:(F=re.lookupNamespaceURI(q))!==null&&re.isDefaultNamespace(F)?F=null:F===null&&q!==null&&(F=L[q]||null),ae.has(F,ee))throw new Error("Element contains duplicate attributes.");if(ae.set(F,ee),F===n.namespace.XMLNS&&Y===n.namespace.XMLNS)throw new Error("XMLNS namespace is reserved.");if(ee.indexOf(":")!==-1||!h.xml_isName(ee))throw new Error("Attribute local name contains invalid characters.");if(q==="xmlns"&&Y==="")throw new Error("Empty XML namespace is not allowed.");F!==null?re.setAttributeNS(F,X,this._decodeAttributeValue(Y)):re.setAttribute(X,this._decodeAttributeValue(Y))}}catch(M){g={error:M}}finally{try{N&&!N.done&&(i=Q.return)&&i.call(Q)}finally{if(g)throw g.error}}I.selfClosing||(b=re);break;case u.TokenType.ClosingTag:if(w.name!==b.nodeName)throw new Error("Closing tag name does not match opening tag name.");b._parent&&(b=b._parent)}w=s.nextToken()}return x},f.prototype._decodeText=function(p){return p==null?p:p.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},f.prototype._decodeAttributeValue=function(p){return p==null?p:p.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},f}();o.XMLParserImpl=a},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(275);o.XMLSerializer=c.XMLSerializerImpl},function(v,o,r){var c=this&&this.__values||function(f){var p=typeof Symbol=="function"&&Symbol.iterator,m=p&&f[p],y=0;if(m)return m.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&y>=f.length&&(f=void 0),{value:f&&f[y++],done:!f}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var d=r(2),l=r(69),u=r(95),n=r(9),h=r(7),t=r(0),a=function(){function f(){}return f.prototype.serializeToString=function(p){return this._xmlSerialization(p,!1)},f.prototype._xmlSerialization=function(p,m){if(p._nodeDocument===void 0||p._nodeDocument._hasNamespaces){var y=new u.NamespacePrefixMap;y.set("xml",h.namespace.XML);try{return this._serializeNodeNS(p,null,y,{value:1},m)}catch{throw new n.InvalidStateError}}else try{return this._serializeNode(p,m)}catch{throw new n.InvalidStateError}},f.prototype._serializeNodeNS=function(p,m,y,g,i){switch(p.nodeType){case d.NodeType.Element:return this._serializeElementNS(p,m,y,g,i);case d.NodeType.Document:return this._serializeDocumentNS(p,m,y,g,i);case d.NodeType.Comment:return this._serializeComment(p,i);case d.NodeType.Text:return this._serializeText(p,i);case d.NodeType.DocumentFragment:return this._serializeDocumentFragmentNS(p,m,y,g,i);case d.NodeType.DocumentType:return this._serializeDocumentType(p,i);case d.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(p,i);case d.NodeType.CData:return this._serializeCData(p,i);default:throw new Error("Unknown node type: "+p.nodeType)}},f.prototype._serializeNode=function(p,m){switch(p.nodeType){case d.NodeType.Element:return this._serializeElement(p,m);case d.NodeType.Document:return this._serializeDocument(p,m);case d.NodeType.Comment:return this._serializeComment(p,m);case d.NodeType.Text:return this._serializeText(p,m);case d.NodeType.DocumentFragment:return this._serializeDocumentFragment(p,m);case d.NodeType.DocumentType:return this._serializeDocumentType(p,m);case d.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(p,m);case d.NodeType.CData:return this._serializeCData(p,m);default:throw new Error("Unknown node type: "+p.nodeType)}},f.prototype._serializeElementNS=function(p,m,y,g,i){var s,x;if(i&&(p.localName.indexOf(":")!==-1||!t.xml_isName(p.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var b="<",w="",S=!1,D=!1,C=y.copy(),A={},T=this._recordNamespaceInformation(p,C,A),O=m,I=p.namespaceURI;if(O===I)T!==null&&(D=!0),b+=w=I===h.namespace.XML?"xml:"+p.localName:p.localName;else{var k=p.prefix,R=null;if(k===null&&I===T||(R=C.get(k,I)),k==="xmlns"){if(i)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");R=k}R!==null?(w=R+":"+p.localName,T!==null&&T!==h.namespace.XML&&(O=T||null),b+=w):k!==null?(k in A&&(k=this._generatePrefix(I,C,g)),C.set(k,I),b+=w+=k+":"+p.localName,b+=" xmlns:"+k+'="'+this._serializeAttributeValue(I,i)+'"',T!==null&&(O=T||null)):T===null||T!==null&&T!==I?(D=!0,O=I,b+=w+=p.localName,b+=' xmlns="'+this._serializeAttributeValue(I,i)+'"'):(O=I,b+=w+=p.localName)}b+=this._serializeAttributesNS(p,C,g,A,D,i);var G=I===h.namespace.HTML;if(G&&p.childNodes.length===0&&f._VoidElementNames.has(p.localName)?(b+=" /",S=!0):G||p.childNodes.length!==0||(b+="/",S=!0),b+=">",S)return b;if(!(G&&p.localName==="template"))try{for(var W=c(p._children||p.childNodes),L=W.next();!L.done;L=W.next()){var j=L.value;b+=this._serializeNodeNS(j,O,C,g,i)}}catch(z){s={error:z}}finally{try{L&&!L.done&&(x=W.return)&&x.call(W)}finally{if(s)throw s.error}}return b+="</"+w+">"},f.prototype._serializeDocumentNS=function(p,m,y,g,i){var s,x;if(i&&p.documentElement===null)throw new Error("Missing document element (well-formed required).");var b="";try{for(var w=c(p._children||p.childNodes),S=w.next();!S.done;S=w.next()){var D=S.value;b+=this._serializeNodeNS(D,m,y,g,i)}}catch(C){s={error:C}}finally{try{S&&!S.done&&(x=w.return)&&x.call(w)}finally{if(s)throw s.error}}return b},f.prototype._serializeComment=function(p,m){if(m&&(!t.xml_isLegalChar(p.data)||p.data.indexOf("--")!==-1||p.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");return"<!--"+p.data+"-->"},f.prototype._serializeText=function(p,m){if(m&&!t.xml_isLegalChar(p.data))throw new Error("Text data contains invalid characters (well-formed required).");for(var y="",g=0;g<p.data.length;g++){var i=p.data[g];y+=i==="&"?"&amp;":i==="<"?"&lt;":i===">"?"&gt;":i}return y},f.prototype._serializeDocumentFragmentNS=function(p,m,y,g,i){var s,x,b="";try{for(var w=c(p._children||p.childNodes),S=w.next();!S.done;S=w.next()){var D=S.value;b+=this._serializeNodeNS(D,m,y,g,i)}}catch(C){s={error:C}}finally{try{S&&!S.done&&(x=w.return)&&x.call(w)}finally{if(s)throw s.error}}return b},f.prototype._serializeDocumentType=function(p,m){if(m&&!t.xml_isPubidChar(p.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(m&&(!t.xml_isLegalChar(p.systemId)||p.systemId.indexOf('"')!==-1&&p.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");return p.publicId&&p.systemId?"<!DOCTYPE "+p.name+' PUBLIC "'+p.publicId+'" "'+p.systemId+'">':p.publicId?"<!DOCTYPE "+p.name+' PUBLIC "'+p.publicId+'">':p.systemId?"<!DOCTYPE "+p.name+' SYSTEM "'+p.systemId+'">':"<!DOCTYPE "+p.name+">"},f.prototype._serializeProcessingInstruction=function(p,m){if(m&&(p.target.indexOf(":")!==-1||/^xml$/i.test(p.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(m&&(!t.xml_isLegalChar(p.data)||p.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");return"<?"+(p.data===""?p.target:p.target+" "+p.data)+"?>"},f.prototype._serializeCData=function(p,m){if(m&&p.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");return"<![CDATA["+p.data+"]]>"},f.prototype._serializeAttributesNS=function(p,m,y,g,i,s){var x,b,w="",S=s?new l.LocalNameSet:void 0;try{for(var D=c(p.attributes),C=D.next();!C.done;C=D.next()){var A=C.value;if(i||s||A.namespaceURI!==null){if(s&&S&&S.has(A.namespaceURI,A.localName))throw new Error("Element contains duplicate attributes (well-formed required).");s&&S&&S.set(A.namespaceURI,A.localName);var T=A.namespaceURI,O=null;if(T!==null)if(O=m.get(A.prefix,T),T===h.namespace.XMLNS){if(A.value===h.namespace.XML||A.prefix===null&&i||A.prefix!==null&&(!(A.localName in g)||g[A.localName]!==A.value)&&m.has(A.localName,A.value))continue;if(s&&A.value===h.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(s&&A.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");A.prefix==="xmlns"&&(O="xmlns")}else O===null&&(w+=" xmlns:"+(O=A.prefix===null||m.hasPrefix(A.prefix)&&!m.has(A.prefix,T)?this._generatePrefix(T,m,y):A.prefix)+'="'+this._serializeAttributeValue(T,s)+'"');if(w+=" ",O!==null&&(w+=O+":"),s&&(A.localName.indexOf(":")!==-1||!t.xml_isName(A.localName)||A.localName==="xmlns"&&T===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");w+=A.localName+'="'+this._serializeAttributeValue(A.value,s)+'"'}else w+=" "+A.localName+'="'+this._serializeAttributeValue(A.value,s)+'"'}}catch(I){x={error:I}}finally{try{C&&!C.done&&(b=D.return)&&b.call(D)}finally{if(x)throw x.error}}return w},f.prototype._recordNamespaceInformation=function(p,m,y){var g,i,s=null;try{for(var x=c(p.attributes),b=x.next();!b.done;b=x.next()){var w=b.value,S=w.namespaceURI,D=w.prefix;if(S===h.namespace.XMLNS){if(D===null){s=w.value;continue}var C=w.localName,A=w.value;if(A===h.namespace.XML||(A===""&&(A=null),m.has(C,A)))continue;m.set(C,A),y[C]=A||""}}}catch(T){g={error:T}}finally{try{b&&!b.done&&(i=x.return)&&i.call(x)}finally{if(g)throw g.error}}return s},f.prototype._generatePrefix=function(p,m,y){var g="ns"+y.value;return y.value++,m.set(g,p),g},f.prototype._serializeAttributeValue=function(p,m){if(m&&p!==null&&!t.xml_isLegalChar(p))throw new Error("Invalid characters in attribute value.");if(p===null)return"";for(var y="",g=0;g<p.length;g++){var i=p[g];y+=i==='"'?"&quot;":i==="&"?"&amp;":i==="<"?"&lt;":i===">"?"&gt;":i}return y},f.prototype._serializeElement=function(p,m){var y,g;if(m&&(p.localName.indexOf(":")!==-1||!t.xml_isName(p.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var i=!1,s=p.localName,x="<"+s;if(x+=this._serializeAttributes(p,m),p._children.size===0&&(x+="/",i=!0),x+=">",i)return x;try{for(var b=c(p._children),w=b.next();!w.done;w=b.next()){var S=w.value;x+=this._serializeNode(S,m)}}catch(D){y={error:D}}finally{try{w&&!w.done&&(g=b.return)&&g.call(b)}finally{if(y)throw y.error}}return x+="</"+s+">"},f.prototype._serializeDocument=function(p,m){var y,g;if(m&&p.documentElement===null)throw new Error("Missing document element (well-formed required).");var i="";try{for(var s=c(p._children),x=s.next();!x.done;x=s.next()){var b=x.value;i+=this._serializeNode(b,m)}}catch(w){y={error:w}}finally{try{x&&!x.done&&(g=s.return)&&g.call(s)}finally{if(y)throw y.error}}return i},f.prototype._serializeDocumentFragment=function(p,m){var y,g,i="";try{for(var s=c(p._children),x=s.next();!x.done;x=s.next()){var b=x.value;i+=this._serializeNode(b,m)}}catch(w){y={error:w}}finally{try{x&&!x.done&&(g=s.return)&&g.call(s)}finally{if(y)throw y.error}}return i},f.prototype._serializeAttributes=function(p,m){var y,g,i="",s=m?{}:void 0;try{for(var x=c(p.attributes),b=x.next();!b.done;b=x.next()){var w=b.value;if(m&&s&&w.localName in s)throw new Error("Element contains duplicate attributes (well-formed required).");if(m&&s&&(s[w.localName]=!0),m&&(w.localName.indexOf(":")!==-1||!t.xml_isName(w.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");i+=" "+w.localName+'="'+this._serializeAttributeValue(w.value,m)+'"'}}catch(S){y={error:S}}finally{try{b&&!b.done&&(g=x.return)&&g.call(x)}finally{if(y)throw y.error}}return i},f._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),f}();o.XMLSerializerImpl=a},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(277);o.XMLReader=c.XMLReader;var d=r(112);o.ObjectReader=d.ObjectReader;var l=r(280);o.JSONReader=l.JSONReader;var u=r(281);o.YAMLReader=u.YAMLReader},function(v,o,r){r(31),r(32),r(33),r(19),r(65),r(20),r(22),r(23);var c,d=this&&this.__extends||(c=function(p,m){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var i in g)g.hasOwnProperty(i)&&(y[i]=g[i])})(p,m)},function(p,m){function y(){this.constructor=p}c(p,m),p.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}),l=this&&this.__read||function(p,m){var y=typeof Symbol=="function"&&p[Symbol.iterator];if(!y)return p;var g,i,s=y.call(p),x=[];try{for(;(m===void 0||m-- >0)&&!(g=s.next()).done;)x.push(g.value)}catch(b){i={error:b}}finally{try{g&&!g.done&&(y=s.return)&&y.call(s)}finally{if(i)throw i.error}}return x},u=this&&this.__values||function(p){var m=typeof Symbol=="function"&&Symbol.iterator,y=m&&p[m],g=0;if(y)return y.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&g>=p.length&&(p=void 0),{value:p&&p[g++],done:!p}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(o,"__esModule",{value:!0});var n=r(180),h=r(111),t=r(7),a=r(0),f=function(p){function m(){return p!==null&&p.apply(this,arguments)||this}return d(m,p),m.prototype._parse=function(y,g){for(var i,s,x,b,w=new n.XMLStringLexer(g,{skipWhitespaceOnlyText:!0}),S=y,D=y,C=w.nextToken();C.type!==h.TokenType.EOF;){switch(C.type){case h.TokenType.Declaration:var A=C,T=this.sanitize(A.version);if(T!=="1.0")throw new Error("Invalid xml version: "+T);var O={version:T};A.encoding&&(O.encoding=this.sanitize(A.encoding)),A.standalone&&(O.standalone=this.sanitize(A.standalone)==="yes"),D.set(O);break;case h.TokenType.DocType:var I=C;D=this.docType(D,this.sanitize(I.name),this.sanitize(I.pubId),this.sanitize(I.sysId))||D;break;case h.TokenType.CDATA:var k=C;D=this.cdata(D,this.sanitize(k.data))||D;break;case h.TokenType.Comment:var R=C;D=this.comment(D,this.sanitize(R.data))||D;break;case h.TokenType.PI:var G=C;D=this.instruction(D,this.sanitize(G.target),this.sanitize(G.data))||D;break;case h.TokenType.Text:var W=C;D=this.text(D,this._decodeText(this.sanitize(W.data)))||D;break;case h.TokenType.Element:var L=C,j=this.sanitize(L.name),z=l(a.namespace_extractQName(j),1)[0],H=D.node.lookupNamespaceURI(z),X={};try{for(var Y=(i=void 0,u(L.attributes)),Z=Y.next();!Z.done;Z=Y.next()){var q=l(Z.value,2),ee=q[0],re=q[1];if(ee=this.sanitize(ee),re=this.sanitize(re),ee==="xmlns")H=re;else{var ae=l(a.namespace_extractQName(ee),2),Q=ae[0],N=ae[1];Q==="xmlns"&&(N===z&&(H=re),X[N]=re)}}}catch($){i={error:$}}finally{try{Z&&!Z.done&&(s=Y.return)&&s.call(Y)}finally{if(i)throw i.error}}var E=H!==null?this.element(D,H,j):this.element(D,void 0,j);if(E===void 0)break;D.node===y.node&&(S=E);try{for(var P=(x=void 0,u(L.attributes)),F=P.next();!F.done;F=P.next()){var M=l(F.value,2);ee=M[0],re=M[1],ee=this.sanitize(ee),re=this.sanitize(re);var B=l(a.namespace_extractQName(ee),2),U=(Q=B[0],N=B[1],null);Q==="xmlns"||Q===null&&N==="xmlns"?U=t.namespace.XMLNS:(U=E.node.lookupNamespaceURI(Q))!==null&&E.node.isDefaultNamespace(U)?U=null:U===null&&Q!==null&&(U=X[Q]||null),U!==null?this.attribute(E,U,ee,this._decodeAttributeValue(re)):this.attribute(E,void 0,ee,this._decodeAttributeValue(re))}}catch($){x={error:$}}finally{try{F&&!F.done&&(b=P.return)&&b.call(P)}finally{if(x)throw x.error}}L.selfClosing||(D=E);break;case h.TokenType.ClosingTag:D.node.parentNode&&(D=D.up())}C=w.nextToken()}return S},m}(r(75).BaseReader);o.XMLReader=f},function(v,o,r){var c=r(4),d=r(279);c({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},function(v,o,r){var c=r(16),d=r(8),l=r(61),u=r(85),n=r(79),h=r(27),t=r(41),a=Object.assign,f=Object.defineProperty;v.exports=!a||d(function(){if(c&&a({b:1},a(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var p={},m={},y=Symbol();return p[y]=7,"abcdefghijklmnopqrst".split("").forEach(function(g){m[g]=g}),a({},p)[y]!=7||l(a({},m)).join("")!="abcdefghijklmnopqrst"})?function(p,m){for(var y=h(p),g=arguments.length,i=1,s=u.f,x=n.f;g>i;)for(var b,w=t(arguments[i++]),S=s?l(w).concat(s(w)):l(w),D=S.length,C=0;D>C;)b=S[C++],c&&!x.call(w,b)||(y[b]=w[b]);return y}:a},function(v,o,r){var c,d=this&&this.__extends||(c=function(n,h){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var f in a)a.hasOwnProperty(f)&&(t[f]=a[f])})(n,h)},function(n,h){function t(){this.constructor=n}c(n,h),n.prototype=h===null?Object.create(h):(t.prototype=h.prototype,new t)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(112),u=function(n){function h(){return n!==null&&n.apply(this,arguments)||this}return d(h,n),h.prototype._parse=function(t,a){return new l.ObjectReader(this._builderOptions).parse(t,JSON.parse(a))},h}(r(75).BaseReader);o.JSONReader=u},function(v,o,r){var c,d=this&&this.__extends||(c=function(t,a){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)p.hasOwnProperty(m)&&(f[m]=p[m])})(t,a)},function(t,a){function f(){this.constructor=t}c(t,a),t.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)});Object.defineProperty(o,"__esModule",{value:!0});var l=r(112),u=r(75),n=r(282),h=function(t){function a(){return t!==null&&t.apply(this,arguments)||this}return d(a,t),a.prototype._parse=function(f,p){var m=n.safeLoad(p);if(m===void 0)throw new Error("Unable to parse YAML document.");return new l.ObjectReader(this._builderOptions).parse(f,m)},a}(u.BaseReader);o.YAMLReader=h},function(v,o,r){var c=r(283);v.exports=c},function(v,o,r){var c=r(284),d=r(303);function l(u){return function(){throw new Error("Function "+u+" is deprecated and cannot be used.")}}v.exports.Type=r(10),v.exports.Schema=r(39),v.exports.FAILSAFE_SCHEMA=r(113),v.exports.JSON_SCHEMA=r(182),v.exports.CORE_SCHEMA=r(181),v.exports.DEFAULT_SAFE_SCHEMA=r(54),v.exports.DEFAULT_FULL_SCHEMA=r(76),v.exports.load=c.load,v.exports.loadAll=c.loadAll,v.exports.safeLoad=c.safeLoad,v.exports.safeLoadAll=c.safeLoadAll,v.exports.dump=d.dump,v.exports.safeDump=d.safeDump,v.exports.YAMLException=r(53),v.exports.MINIMAL_SCHEMA=r(113),v.exports.SAFE_SCHEMA=r(54),v.exports.DEFAULT_SCHEMA=r(76),v.exports.scan=l("scan"),v.exports.parse=l("parse"),v.exports.compose=l("compose"),v.exports.addConstructor=l("addConstructor")},function(v,o,r){var c=r(38),d=r(53),l=r(285),u=r(54),n=r(76),h=Object.prototype.hasOwnProperty,t=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,a=/[\x85\u2028\u2029]/,f=/[,\[\]\{\}]/,p=/^(?:!|!!|![a-z\-]+!)$/i,m=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function y(E){return Object.prototype.toString.call(E)}function g(E){return E===10||E===13}function i(E){return E===9||E===32}function s(E){return E===9||E===32||E===10||E===13}function x(E){return E===44||E===91||E===93||E===123||E===125}function b(E){var P;return 48<=E&&E<=57?E-48:97<=(P=32|E)&&P<=102?P-97+10:-1}function w(E){return E===48?"\0":E===97?"\x07":E===98?"\b":E===116||E===9?"	":E===110?`
`:E===118?"\v":E===102?"\f":E===114?"\r":E===101?"\x1B":E===32?" ":E===34?'"':E===47?"/":E===92?"\\":E===78?"":E===95?" ":E===76?"\u2028":E===80?"\u2029":""}function S(E){return E<=65535?String.fromCharCode(E):String.fromCharCode(55296+(E-65536>>10),56320+(E-65536&1023))}for(var D=new Array(256),C=new Array(256),A=0;A<256;A++)D[A]=w(A)?1:0,C[A]=w(A);function T(E,P){this.input=E,this.filename=P.filename||null,this.schema=P.schema||n,this.onWarning=P.onWarning||null,this.legacy=P.legacy||!1,this.json=P.json||!1,this.listener=P.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=E.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function O(E,P){return new d(P,new l(E.filename,E.input,E.position,E.line,E.position-E.lineStart))}function I(E,P){throw O(E,P)}function k(E,P){E.onWarning&&E.onWarning.call(null,O(E,P))}var R={YAML:function(E,P,F){var M,B,U;E.version!==null&&I(E,"duplication of %YAML directive"),F.length!==1&&I(E,"YAML directive accepts exactly one argument"),(M=/^([0-9]+)\.([0-9]+)$/.exec(F[0]))===null&&I(E,"ill-formed argument of the YAML directive"),B=parseInt(M[1],10),U=parseInt(M[2],10),B!==1&&I(E,"unacceptable YAML version of the document"),E.version=F[0],E.checkLineBreaks=U<2,U!==1&&U!==2&&k(E,"unsupported YAML version of the document")},TAG:function(E,P,F){var M,B;F.length!==2&&I(E,"TAG directive accepts exactly two arguments"),M=F[0],B=F[1],p.test(M)||I(E,"ill-formed tag handle (first argument) of the TAG directive"),h.call(E.tagMap,M)&&I(E,'there is a previously declared suffix for "'+M+'" tag handle'),m.test(B)||I(E,"ill-formed tag prefix (second argument) of the TAG directive"),E.tagMap[M]=B}};function G(E,P,F,M){var B,U,$,J;if(P<F){if(J=E.input.slice(P,F),M)for(B=0,U=J.length;B<U;B+=1)($=J.charCodeAt(B))===9||32<=$&&$<=1114111||I(E,"expected valid JSON character");else t.test(J)&&I(E,"the stream contains non-printable characters");E.result+=J}}function W(E,P,F,M){var B,U,$,J;for(c.isObject(F)||I(E,"cannot merge mappings; the provided source object is unacceptable"),$=0,J=(B=Object.keys(F)).length;$<J;$+=1)U=B[$],h.call(P,U)||(P[U]=F[U],M[U]=!0)}function L(E,P,F,M,B,U,$,J){var ne,oe;if(Array.isArray(B))for(ne=0,oe=(B=Array.prototype.slice.call(B)).length;ne<oe;ne+=1)Array.isArray(B[ne])&&I(E,"nested arrays are not supported inside keys"),typeof B=="object"&&y(B[ne])==="[object Object]"&&(B[ne]="[object Object]");if(typeof B=="object"&&y(B)==="[object Object]"&&(B="[object Object]"),B=String(B),P===null&&(P={}),M==="tag:yaml.org,2002:merge")if(Array.isArray(U))for(ne=0,oe=U.length;ne<oe;ne+=1)W(E,P,U[ne],F);else W(E,P,U,F);else E.json||h.call(F,B)||!h.call(P,B)||(E.line=$||E.line,E.position=J||E.position,I(E,"duplicated mapping key")),P[B]=U,delete F[B];return P}function j(E){var P;(P=E.input.charCodeAt(E.position))===10?E.position++:P===13?(E.position++,E.input.charCodeAt(E.position)===10&&E.position++):I(E,"a line break is expected"),E.line+=1,E.lineStart=E.position}function z(E,P,F){for(var M=0,B=E.input.charCodeAt(E.position);B!==0;){for(;i(B);)B=E.input.charCodeAt(++E.position);if(P&&B===35)do B=E.input.charCodeAt(++E.position);while(B!==10&&B!==13&&B!==0);if(!g(B))break;for(j(E),B=E.input.charCodeAt(E.position),M++,E.lineIndent=0;B===32;)E.lineIndent++,B=E.input.charCodeAt(++E.position)}return F!==-1&&M!==0&&E.lineIndent<F&&k(E,"deficient indentation"),M}function H(E){var P,F=E.position;return!((P=E.input.charCodeAt(F))!==45&&P!==46||P!==E.input.charCodeAt(F+1)||P!==E.input.charCodeAt(F+2)||(F+=3,(P=E.input.charCodeAt(F))!==0&&!s(P)))}function X(E,P){P===1?E.result+=" ":P>1&&(E.result+=c.repeat(`
`,P-1))}function Y(E,P){var F,M,B=E.tag,U=E.anchor,$=[],J=!1;for(E.anchor!==null&&(E.anchorMap[E.anchor]=$),M=E.input.charCodeAt(E.position);M!==0&&M===45&&s(E.input.charCodeAt(E.position+1));)if(J=!0,E.position++,z(E,!0,-1)&&E.lineIndent<=P)$.push(null),M=E.input.charCodeAt(E.position);else if(F=E.line,ee(E,P,3,!1,!0),$.push(E.result),z(E,!0,-1),M=E.input.charCodeAt(E.position),(E.line===F||E.lineIndent>P)&&M!==0)I(E,"bad indentation of a sequence entry");else if(E.lineIndent<P)break;return!!J&&(E.tag=B,E.anchor=U,E.kind="sequence",E.result=$,!0)}function Z(E){var P,F,M,B,U=!1,$=!1;if((B=E.input.charCodeAt(E.position))!==33)return!1;if(E.tag!==null&&I(E,"duplication of a tag property"),(B=E.input.charCodeAt(++E.position))===60?(U=!0,B=E.input.charCodeAt(++E.position)):B===33?($=!0,F="!!",B=E.input.charCodeAt(++E.position)):F="!",P=E.position,U){do B=E.input.charCodeAt(++E.position);while(B!==0&&B!==62);E.position<E.length?(M=E.input.slice(P,E.position),B=E.input.charCodeAt(++E.position)):I(E,"unexpected end of the stream within a verbatim tag")}else{for(;B!==0&&!s(B);)B===33&&($?I(E,"tag suffix cannot contain exclamation marks"):(F=E.input.slice(P-1,E.position+1),p.test(F)||I(E,"named tag handle cannot contain such characters"),$=!0,P=E.position+1)),B=E.input.charCodeAt(++E.position);M=E.input.slice(P,E.position),f.test(M)&&I(E,"tag suffix cannot contain flow indicator characters")}return M&&!m.test(M)&&I(E,"tag name cannot contain such characters: "+M),U?E.tag=M:h.call(E.tagMap,F)?E.tag=E.tagMap[F]+M:F==="!"?E.tag="!"+M:F==="!!"?E.tag="tag:yaml.org,2002:"+M:I(E,'undeclared tag handle "'+F+'"'),!0}function q(E){var P,F;if((F=E.input.charCodeAt(E.position))!==38)return!1;for(E.anchor!==null&&I(E,"duplication of an anchor property"),F=E.input.charCodeAt(++E.position),P=E.position;F!==0&&!s(F)&&!x(F);)F=E.input.charCodeAt(++E.position);return E.position===P&&I(E,"name of an anchor node must contain at least one character"),E.anchor=E.input.slice(P,E.position),!0}function ee(E,P,F,M,B){var U,$,J,ne,oe,ge,de,Ce,we=1,fe=!1,Ae=!1;if(E.listener!==null&&E.listener("open",E),E.tag=null,E.anchor=null,E.kind=null,E.result=null,U=$=J=F===4||F===3,M&&z(E,!0,-1)&&(fe=!0,E.lineIndent>P?we=1:E.lineIndent===P?we=0:E.lineIndent<P&&(we=-1)),we===1)for(;Z(E)||q(E);)z(E,!0,-1)?(fe=!0,J=U,E.lineIndent>P?we=1:E.lineIndent===P?we=0:E.lineIndent<P&&(we=-1)):J=!1;if(J&&(J=fe||B),we!==1&&F!==4||(de=F===1||F===2?P:P+1,Ce=E.position-E.lineStart,we===1?J&&(Y(E,Ce)||function(V,ye,ve){var he,K,ie,ce,le,pe=V.tag,Se=V.anchor,me={},De={},Ee=null,Pe=null,Le=null,ke=!1,Ve=!1;for(V.anchor!==null&&(V.anchorMap[V.anchor]=me),le=V.input.charCodeAt(V.position);le!==0;){if(he=V.input.charCodeAt(V.position+1),ie=V.line,ce=V.position,le!==63&&le!==58||!s(he)){if(!ee(V,ve,2,!1,!0))break;if(V.line===ie){for(le=V.input.charCodeAt(V.position);i(le);)le=V.input.charCodeAt(++V.position);if(le===58)s(le=V.input.charCodeAt(++V.position))||I(V,"a whitespace character is expected after the key-value separator within a block mapping"),ke&&(L(V,me,De,Ee,Pe,null),Ee=Pe=Le=null),Ve=!0,ke=!1,K=!1,Ee=V.tag,Pe=V.result;else{if(!Ve)return V.tag=pe,V.anchor=Se,!0;I(V,"can not read an implicit mapping pair; a colon is missed")}}else{if(!Ve)return V.tag=pe,V.anchor=Se,!0;I(V,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else le===63?(ke&&(L(V,me,De,Ee,Pe,null),Ee=Pe=Le=null),Ve=!0,ke=!0,K=!0):ke?(ke=!1,K=!0):I(V,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),V.position+=1,le=he;if((V.line===ie||V.lineIndent>ye)&&(ee(V,ye,4,!0,K)&&(ke?Pe=V.result:Le=V.result),ke||(L(V,me,De,Ee,Pe,Le,ie,ce),Ee=Pe=Le=null),z(V,!0,-1),le=V.input.charCodeAt(V.position)),V.lineIndent>ye&&le!==0)I(V,"bad indentation of a mapping entry");else if(V.lineIndent<ye)break}return ke&&L(V,me,De,Ee,Pe,null),Ve&&(V.tag=pe,V.anchor=Se,V.kind="mapping",V.result=me),Ve}(E,Ce,de))||function(V,ye){var ve,he,K,ie,ce,le,pe,Se,me,De,Ee=!0,Pe=V.tag,Le=V.anchor,ke={};if((De=V.input.charCodeAt(V.position))===91)K=93,le=!1,he=[];else{if(De!==123)return!1;K=125,le=!0,he={}}for(V.anchor!==null&&(V.anchorMap[V.anchor]=he),De=V.input.charCodeAt(++V.position);De!==0;){if(z(V,!0,ye),(De=V.input.charCodeAt(V.position))===K)return V.position++,V.tag=Pe,V.anchor=Le,V.kind=le?"mapping":"sequence",V.result=he,!0;Ee||I(V,"missed comma between flow collection entries"),me=null,ie=ce=!1,De===63&&s(V.input.charCodeAt(V.position+1))&&(ie=ce=!0,V.position++,z(V,!0,ye)),ve=V.line,ee(V,ye,1,!1,!0),Se=V.tag,pe=V.result,z(V,!0,ye),De=V.input.charCodeAt(V.position),!ce&&V.line!==ve||De!==58||(ie=!0,De=V.input.charCodeAt(++V.position),z(V,!0,ye),ee(V,ye,1,!1,!0),me=V.result),le?L(V,he,ke,Se,pe,me):ie?he.push(L(V,null,ke,Se,pe,me)):he.push(pe),z(V,!0,ye),(De=V.input.charCodeAt(V.position))===44?(Ee=!0,De=V.input.charCodeAt(++V.position)):Ee=!1}I(V,"unexpected end of the stream within a flow collection")}(E,de)?Ae=!0:($&&function(V,ye){var ve,he,K,ie,ce,le=1,pe=!1,Se=!1,me=ye,De=0,Ee=!1;if((ie=V.input.charCodeAt(V.position))===124)he=!1;else{if(ie!==62)return!1;he=!0}for(V.kind="scalar",V.result="";ie!==0;)if((ie=V.input.charCodeAt(++V.position))===43||ie===45)le===1?le=ie===43?3:2:I(V,"repeat of a chomping mode identifier");else{if(!((K=48<=(ce=ie)&&ce<=57?ce-48:-1)>=0))break;K===0?I(V,"bad explicit indentation width of a block scalar; it cannot be less than one"):Se?I(V,"repeat of an indentation width identifier"):(me=ye+K-1,Se=!0)}if(i(ie)){do ie=V.input.charCodeAt(++V.position);while(i(ie));if(ie===35)do ie=V.input.charCodeAt(++V.position);while(!g(ie)&&ie!==0)}for(;ie!==0;){for(j(V),V.lineIndent=0,ie=V.input.charCodeAt(V.position);(!Se||V.lineIndent<me)&&ie===32;)V.lineIndent++,ie=V.input.charCodeAt(++V.position);if(!Se&&V.lineIndent>me&&(me=V.lineIndent),g(ie))De++;else{if(V.lineIndent<me){le===3?V.result+=c.repeat(`
`,pe?1+De:De):le===1&&pe&&(V.result+=`
`);break}for(he?i(ie)?(Ee=!0,V.result+=c.repeat(`
`,pe?1+De:De)):Ee?(Ee=!1,V.result+=c.repeat(`
`,De+1)):De===0?pe&&(V.result+=" "):V.result+=c.repeat(`
`,De):V.result+=c.repeat(`
`,pe?1+De:De),pe=!0,Se=!0,De=0,ve=V.position;!g(ie)&&ie!==0;)ie=V.input.charCodeAt(++V.position);G(V,ve,V.position,!1)}}return!0}(E,de)||function(V,ye){var ve,he,K;if((ve=V.input.charCodeAt(V.position))!==39)return!1;for(V.kind="scalar",V.result="",V.position++,he=K=V.position;(ve=V.input.charCodeAt(V.position))!==0;)if(ve===39){if(G(V,he,V.position,!0),(ve=V.input.charCodeAt(++V.position))!==39)return!0;he=V.position,V.position++,K=V.position}else g(ve)?(G(V,he,K,!0),X(V,z(V,!1,ye)),he=K=V.position):V.position===V.lineStart&&H(V)?I(V,"unexpected end of the document within a single quoted scalar"):(V.position++,K=V.position);I(V,"unexpected end of the stream within a single quoted scalar")}(E,de)||function(V,ye){var ve,he,K,ie,ce,le,pe;if((le=V.input.charCodeAt(V.position))!==34)return!1;for(V.kind="scalar",V.result="",V.position++,ve=he=V.position;(le=V.input.charCodeAt(V.position))!==0;){if(le===34)return G(V,ve,V.position,!0),V.position++,!0;if(le===92){if(G(V,ve,V.position,!0),g(le=V.input.charCodeAt(++V.position)))z(V,!1,ye);else if(le<256&&D[le])V.result+=C[le],V.position++;else if((ce=(pe=le)===120?2:pe===117?4:pe===85?8:0)>0){for(K=ce,ie=0;K>0;K--)(ce=b(le=V.input.charCodeAt(++V.position)))>=0?ie=(ie<<4)+ce:I(V,"expected hexadecimal character");V.result+=S(ie),V.position++}else I(V,"unknown escape sequence");ve=he=V.position}else g(le)?(G(V,ve,he,!0),X(V,z(V,!1,ye)),ve=he=V.position):V.position===V.lineStart&&H(V)?I(V,"unexpected end of the document within a double quoted scalar"):(V.position++,he=V.position)}I(V,"unexpected end of the stream within a double quoted scalar")}(E,de)?Ae=!0:function(V){var ye,ve,he;if((he=V.input.charCodeAt(V.position))!==42)return!1;for(he=V.input.charCodeAt(++V.position),ye=V.position;he!==0&&!s(he)&&!x(he);)he=V.input.charCodeAt(++V.position);return V.position===ye&&I(V,"name of an alias node must contain at least one character"),ve=V.input.slice(ye,V.position),V.anchorMap.hasOwnProperty(ve)||I(V,'unidentified alias "'+ve+'"'),V.result=V.anchorMap[ve],z(V,!0,-1),!0}(E)?(Ae=!0,E.tag===null&&E.anchor===null||I(E,"alias node should not have any properties")):function(V,ye,ve){var he,K,ie,ce,le,pe,Se,me,De=V.kind,Ee=V.result;if(s(me=V.input.charCodeAt(V.position))||x(me)||me===35||me===38||me===42||me===33||me===124||me===62||me===39||me===34||me===37||me===64||me===96||(me===63||me===45)&&(s(he=V.input.charCodeAt(V.position+1))||ve&&x(he)))return!1;for(V.kind="scalar",V.result="",K=ie=V.position,ce=!1;me!==0;){if(me===58){if(s(he=V.input.charCodeAt(V.position+1))||ve&&x(he))break}else if(me===35){if(s(V.input.charCodeAt(V.position-1)))break}else{if(V.position===V.lineStart&&H(V)||ve&&x(me))break;if(g(me)){if(le=V.line,pe=V.lineStart,Se=V.lineIndent,z(V,!1,-1),V.lineIndent>=ye){ce=!0,me=V.input.charCodeAt(V.position);continue}V.position=ie,V.line=le,V.lineStart=pe,V.lineIndent=Se;break}}ce&&(G(V,K,ie,!1),X(V,V.line-le),K=ie=V.position,ce=!1),i(me)||(ie=V.position+1),me=V.input.charCodeAt(++V.position)}return G(V,K,ie,!1),!!V.result||(V.kind=De,V.result=Ee,!1)}(E,de,F===1)&&(Ae=!0,E.tag===null&&(E.tag="?")),E.anchor!==null&&(E.anchorMap[E.anchor]=E.result)):we===0&&(Ae=J&&Y(E,Ce))),E.tag!==null&&E.tag!=="!")if(E.tag==="?"){for(E.result!==null&&E.kind!=="scalar"&&I(E,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+E.kind+'"'),ne=0,oe=E.implicitTypes.length;ne<oe;ne+=1)if((ge=E.implicitTypes[ne]).resolve(E.result)){E.result=ge.construct(E.result),E.tag=ge.tag,E.anchor!==null&&(E.anchorMap[E.anchor]=E.result);break}}else h.call(E.typeMap[E.kind||"fallback"],E.tag)?(ge=E.typeMap[E.kind||"fallback"][E.tag],E.result!==null&&ge.kind!==E.kind&&I(E,"unacceptable node kind for !<"+E.tag+'> tag; it should be "'+ge.kind+'", not "'+E.kind+'"'),ge.resolve(E.result)?(E.result=ge.construct(E.result),E.anchor!==null&&(E.anchorMap[E.anchor]=E.result)):I(E,"cannot resolve a node with !<"+E.tag+"> explicit tag")):I(E,"unknown tag !<"+E.tag+">");return E.listener!==null&&E.listener("close",E),E.tag!==null||E.anchor!==null||Ae}function re(E){var P,F,M,B,U=E.position,$=!1;for(E.version=null,E.checkLineBreaks=E.legacy,E.tagMap={},E.anchorMap={};(B=E.input.charCodeAt(E.position))!==0&&(z(E,!0,-1),B=E.input.charCodeAt(E.position),!(E.lineIndent>0||B!==37));){for($=!0,B=E.input.charCodeAt(++E.position),P=E.position;B!==0&&!s(B);)B=E.input.charCodeAt(++E.position);for(M=[],(F=E.input.slice(P,E.position)).length<1&&I(E,"directive name must not be less than one character in length");B!==0;){for(;i(B);)B=E.input.charCodeAt(++E.position);if(B===35){do B=E.input.charCodeAt(++E.position);while(B!==0&&!g(B));break}if(g(B))break;for(P=E.position;B!==0&&!s(B);)B=E.input.charCodeAt(++E.position);M.push(E.input.slice(P,E.position))}B!==0&&j(E),h.call(R,F)?R[F](E,F,M):k(E,'unknown document directive "'+F+'"')}z(E,!0,-1),E.lineIndent===0&&E.input.charCodeAt(E.position)===45&&E.input.charCodeAt(E.position+1)===45&&E.input.charCodeAt(E.position+2)===45?(E.position+=3,z(E,!0,-1)):$&&I(E,"directives end mark is expected"),ee(E,E.lineIndent-1,4,!1,!0),z(E,!0,-1),E.checkLineBreaks&&a.test(E.input.slice(U,E.position))&&k(E,"non-ASCII line breaks are interpreted as content"),E.documents.push(E.result),E.position===E.lineStart&&H(E)?E.input.charCodeAt(E.position)===46&&(E.position+=3,z(E,!0,-1)):E.position<E.length-1&&I(E,"end of the stream or a document separator is expected")}function ae(E,P){P=P||{},(E=String(E)).length!==0&&(E.charCodeAt(E.length-1)!==10&&E.charCodeAt(E.length-1)!==13&&(E+=`
`),E.charCodeAt(0)===65279&&(E=E.slice(1)));var F=new T(E,P),M=E.indexOf("\0");for(M!==-1&&(F.position=M,I(F,"null byte is not allowed in input")),F.input+="\0";F.input.charCodeAt(F.position)===32;)F.lineIndent+=1,F.position+=1;for(;F.position<F.length-1;)re(F);return F.documents}function Q(E,P,F){P!==null&&typeof P=="object"&&F===void 0&&(F=P,P=null);var M=ae(E,F);if(typeof P!="function")return M;for(var B=0,U=M.length;B<U;B+=1)P(M[B])}function N(E,P){var F=ae(E,P);if(F.length!==0){if(F.length===1)return F[0];throw new d("expected a single document in the stream, but found more")}}v.exports.loadAll=Q,v.exports.load=N,v.exports.safeLoadAll=function(E,P,F){return typeof P=="object"&&P!==null&&F===void 0&&(F=P,P=null),Q(E,P,c.extend({schema:u},F))},v.exports.safeLoad=function(E,P){return N(E,c.extend({schema:u},P))}},function(v,o,r){var c=r(38);function d(l,u,n,h,t){this.name=l,this.buffer=u,this.position=n,this.line=h,this.column=t}d.prototype.getSnippet=function(l,u){var n,h,t,a,f;if(!this.buffer)return null;for(l=l||4,u=u||75,n="",h=this.position;h>0&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(h-1))===-1;)if(h-=1,this.position-h>u/2-1){n=" ... ",h+=5;break}for(t="",a=this.position;a<this.buffer.length&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(a))===-1;)if((a+=1)-this.position>u/2-1){t=" ... ",a-=5;break}return f=this.buffer.slice(h,a),c.repeat(" ",l)+n+f+t+`
`+c.repeat(" ",l+this.position-h+n.length)+"^"},d.prototype.toString=function(l){var u,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),l||(u=this.getSnippet())&&(n+=`:
`+u),n},v.exports=d},function(v,o,r){var c=r(10);v.exports=new c("tag:yaml.org,2002:str",{kind:"scalar",construct:function(d){return d!==null?d:""}})},function(v,o,r){var c=r(10);v.exports=new c("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(d){return d!==null?d:[]}})},function(v,o,r){var c=r(10);v.exports=new c("tag:yaml.org,2002:map",{kind:"mapping",construct:function(d){return d!==null?d:{}}})},function(v,o,r){var c=r(10);v.exports=new c("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(d){if(d===null)return!0;var l=d.length;return l===1&&d==="~"||l===4&&(d==="null"||d==="Null"||d==="NULL")},construct:function(){return null},predicate:function(d){return d===null},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(v,o,r){var c=r(10);v.exports=new c("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(d){if(d===null)return!1;var l=d.length;return l===4&&(d==="true"||d==="True"||d==="TRUE")||l===5&&(d==="false"||d==="False"||d==="FALSE")},construct:function(d){return d==="true"||d==="True"||d==="TRUE"},predicate:function(d){return Object.prototype.toString.call(d)==="[object Boolean]"},represent:{lowercase:function(d){return d?"true":"false"},uppercase:function(d){return d?"TRUE":"FALSE"},camelcase:function(d){return d?"True":"False"}},defaultStyle:"lowercase"})},function(v,o,r){var c=r(38),d=r(10);function l(n){return 48<=n&&n<=55}function u(n){return 48<=n&&n<=57}v.exports=new d("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(n){if(n===null)return!1;var h,t,a=n.length,f=0,p=!1;if(!a)return!1;if((h=n[f])!=="-"&&h!=="+"||(h=n[++f]),h==="0"){if(f+1===a)return!0;if((h=n[++f])==="b"){for(f++;f<a;f++)if((h=n[f])!=="_"){if(h!=="0"&&h!=="1")return!1;p=!0}return p&&h!=="_"}if(h==="x"){for(f++;f<a;f++)if((h=n[f])!=="_"){if(!(48<=(t=n.charCodeAt(f))&&t<=57||65<=t&&t<=70||97<=t&&t<=102))return!1;p=!0}return p&&h!=="_"}for(;f<a;f++)if((h=n[f])!=="_"){if(!l(n.charCodeAt(f)))return!1;p=!0}return p&&h!=="_"}if(h==="_")return!1;for(;f<a;f++)if((h=n[f])!=="_"){if(h===":")break;if(!u(n.charCodeAt(f)))return!1;p=!0}return!(!p||h==="_")&&(h!==":"||/^(:[0-5]?[0-9])+$/.test(n.slice(f)))},construct:function(n){var h,t,a=n,f=1,p=[];return a.indexOf("_")!==-1&&(a=a.replace(/_/g,"")),(h=a[0])!=="-"&&h!=="+"||(h==="-"&&(f=-1),h=(a=a.slice(1))[0]),a==="0"?0:h==="0"?a[1]==="b"?f*parseInt(a.slice(2),2):a[1]==="x"?f*parseInt(a,16):f*parseInt(a,8):a.indexOf(":")!==-1?(a.split(":").forEach(function(m){p.unshift(parseInt(m,10))}),a=0,t=1,p.forEach(function(m){a+=m*t,t*=60}),f*a):f*parseInt(a,10)},predicate:function(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1==0&&!c.isNegativeZero(n)},represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0"+n.toString(8):"-0"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(v,o,r){var c=r(38),d=r(10),l=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),u=/^[-+]?[0-9]+e/;v.exports=new d("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(n){return n!==null&&!(!l.test(n)||n[n.length-1]==="_")},construct:function(n){var h,t,a,f;return t=(h=n.replace(/_/g,"").toLowerCase())[0]==="-"?-1:1,f=[],"+-".indexOf(h[0])>=0&&(h=h.slice(1)),h===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:h===".nan"?NaN:h.indexOf(":")>=0?(h.split(":").forEach(function(p){f.unshift(parseFloat(p,10))}),h=0,a=1,f.forEach(function(p){h+=p*a,a*=60}),t*h):t*parseFloat(h,10)},predicate:function(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!=0||c.isNegativeZero(n))},represent:function(n,h){var t;if(isNaN(n))switch(h){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(h){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(h){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(c.isNegativeZero(n))return"-0.0";return t=n.toString(10),u.test(t)?t.replace("e",".e"):t},defaultStyle:"lowercase"})},function(v,o,r){var c=r(10),d=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),l=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");v.exports=new c("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(u){return u!==null&&(d.exec(u)!==null||l.exec(u)!==null)},construct:function(u){var n,h,t,a,f,p,m,y,g=0,i=null;if((n=d.exec(u))===null&&(n=l.exec(u)),n===null)throw new Error("Date resolve error");if(h=+n[1],t=+n[2]-1,a=+n[3],!n[4])return new Date(Date.UTC(h,t,a));if(f=+n[4],p=+n[5],m=+n[6],n[7]){for(g=n[7].slice(0,3);g.length<3;)g+="0";g=+g}return n[9]&&(i=6e4*(60*+n[10]+ +(n[11]||0)),n[9]==="-"&&(i=-i)),y=new Date(Date.UTC(h,t,a,f,p,m,g)),i&&y.setTime(y.getTime()-i),y},instanceOf:Date,represent:function(u){return u.toISOString()}})},function(v,o,r){var c=r(10);v.exports=new c("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(d){return d==="<<"||d===null}})},function(v,o,r){var c;try{c=r(145).Buffer}catch{}var d=r(10),l=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;v.exports=new d("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(u){if(u===null)return!1;var n,h,t=0,a=u.length,f=l;for(h=0;h<a;h++)if(!((n=f.indexOf(u.charAt(h)))>64)){if(n<0)return!1;t+=6}return t%8==0},construct:function(u){var n,h,t=u.replace(/[\r\n=]/g,""),a=t.length,f=l,p=0,m=[];for(n=0;n<a;n++)n%4==0&&n&&(m.push(p>>16&255),m.push(p>>8&255),m.push(255&p)),p=p<<6|f.indexOf(t.charAt(n));return(h=a%4*6)===0?(m.push(p>>16&255),m.push(p>>8&255),m.push(255&p)):h===18?(m.push(p>>10&255),m.push(p>>2&255)):h===12&&m.push(p>>4&255),c?c.from?c.from(m):new c(m):m},predicate:function(u){return c&&c.isBuffer(u)},represent:function(u){var n,h,t="",a=0,f=u.length,p=l;for(n=0;n<f;n++)n%3==0&&n&&(t+=p[a>>18&63],t+=p[a>>12&63],t+=p[a>>6&63],t+=p[63&a]),a=(a<<8)+u[n];return(h=f%3)===0?(t+=p[a>>18&63],t+=p[a>>12&63],t+=p[a>>6&63],t+=p[63&a]):h===2?(t+=p[a>>10&63],t+=p[a>>4&63],t+=p[a<<2&63],t+=p[64]):h===1&&(t+=p[a>>2&63],t+=p[a<<4&63],t+=p[64],t+=p[64]),t}})},function(v,o,r){var c=r(10),d=Object.prototype.hasOwnProperty,l=Object.prototype.toString;v.exports=new c("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(u){if(u===null)return!0;var n,h,t,a,f,p=[],m=u;for(n=0,h=m.length;n<h;n+=1){if(t=m[n],f=!1,l.call(t)!=="[object Object]")return!1;for(a in t)if(d.call(t,a)){if(f)return!1;f=!0}if(!f||p.indexOf(a)!==-1)return!1;p.push(a)}return!0},construct:function(u){return u!==null?u:[]}})},function(v,o,r){var c=r(10),d=Object.prototype.toString;v.exports=new c("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(l){if(l===null)return!0;var u,n,h,t,a,f=l;for(a=new Array(f.length),u=0,n=f.length;u<n;u+=1){if(h=f[u],d.call(h)!=="[object Object]"||(t=Object.keys(h)).length!==1)return!1;a[u]=[t[0],h[t[0]]]}return!0},construct:function(l){if(l===null)return[];var u,n,h,t,a,f=l;for(a=new Array(f.length),u=0,n=f.length;u<n;u+=1)h=f[u],t=Object.keys(h),a[u]=[t[0],h[t[0]]];return a}})},function(v,o,r){var c=r(10),d=Object.prototype.hasOwnProperty;v.exports=new c("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(l){if(l===null)return!0;var u,n=l;for(u in n)if(d.call(n,u)&&n[u]!==null)return!1;return!0},construct:function(l){return l!==null?l:{}}})},function(v,o,r){var c=r(10);v.exports=new c("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(d){return d===void 0},represent:function(){return""}})},function(v,o,r){var c=r(10);v.exports=new c("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(d){if(d===null||d.length===0)return!1;var l=d,u=/\/([gim]*)$/.exec(d),n="";return!(l[0]==="/"&&(u&&(n=u[1]),n.length>3||l[l.length-n.length-1]!=="/"))},construct:function(d){var l=d,u=/\/([gim]*)$/.exec(d),n="";return l[0]==="/"&&(u&&(n=u[1]),l=l.slice(1,l.length-n.length-1)),new RegExp(l,n)},predicate:function(d){return Object.prototype.toString.call(d)==="[object RegExp]"},represent:function(d){var l="/"+d.source+"/";return d.global&&(l+="g"),d.multiline&&(l+="m"),d.ignoreCase&&(l+="i"),l}})},function(v,o,r){var c;try{c=r(302)}catch{typeof window<"u"&&(c=window.esprima)}var d=r(10);v.exports=new d("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(l){if(l===null)return!1;try{var u="("+l+")",n=c.parse(u,{range:!0});return n.type==="Program"&&n.body.length===1&&n.body[0].type==="ExpressionStatement"&&(n.body[0].expression.type==="ArrowFunctionExpression"||n.body[0].expression.type==="FunctionExpression")}catch{return!1}},construct:function(l){var u,n="("+l+")",h=c.parse(n,{range:!0}),t=[];if(h.type!=="Program"||h.body.length!==1||h.body[0].type!=="ExpressionStatement"||h.body[0].expression.type!=="ArrowFunctionExpression"&&h.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return h.body[0].expression.params.forEach(function(a){t.push(a.name)}),u=h.body[0].expression.body.range,h.body[0].expression.body.type==="BlockStatement"?new Function(t,n.slice(u[0]+1,u[1]-1)):new Function(t,"return "+n.slice(u[0],u[1]))},predicate:function(l){return Object.prototype.toString.call(l)==="[object Function]"},represent:function(l){return l.toString()}})},function(v,o,r){var c;c=function(){return function(d){var l={};function u(n){if(l[n])return l[n].exports;var h=l[n]={exports:{},id:n,loaded:!1};return d[n].call(h.exports,h,h.exports,u),h.loaded=!0,h.exports}return u.m=d,u.c=l,u.p="",u(0)}([function(d,l,u){Object.defineProperty(l,"__esModule",{value:!0});var n=u(1),h=u(3),t=u(8),a=u(15);function f(m,y,g){var i=null,s=function(A,T){g&&g(A,T),i&&i.visit(A,T)},x=typeof g=="function"?s:null,b=!1;if(y){b=typeof y.comment=="boolean"&&y.comment;var w=typeof y.attachComment=="boolean"&&y.attachComment;(b||w)&&((i=new n.CommentHandler).attach=w,y.comment=!0,x=s)}var S,D=!1;y&&typeof y.sourceType=="string"&&(D=y.sourceType==="module"),S=y&&typeof y.jsx=="boolean"&&y.jsx?new h.JSXParser(m,y,x):new t.Parser(m,y,x);var C=D?S.parseModule():S.parseScript();return b&&i&&(C.comments=i.comments),S.config.tokens&&(C.tokens=S.tokens),S.config.tolerant&&(C.errors=S.errorHandler.errors),C}l.parse=f,l.parseModule=function(m,y,g){var i=y||{};return i.sourceType="module",f(m,i,g)},l.parseScript=function(m,y,g){var i=y||{};return i.sourceType="script",f(m,i,g)},l.tokenize=function(m,y,g){var i,s=new a.Tokenizer(m,y);i=[];try{for(;;){var x=s.getNextToken();if(!x)break;g&&(x=g(x)),i.push(x)}}catch(b){s.errorHandler.tolerate(b)}return s.errorHandler.tolerant&&(i.errors=s.errors()),i};var p=u(2);l.Syntax=p.Syntax,l.version="4.0.1"},function(d,l,u){Object.defineProperty(l,"__esModule",{value:!0});var n=u(2),h=function(){function t(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return t.prototype.insertInnerComments=function(a,f){if(a.type===n.Syntax.BlockStatement&&a.body.length===0){for(var p=[],m=this.leading.length-1;m>=0;--m){var y=this.leading[m];f.end.offset>=y.start&&(p.unshift(y.comment),this.leading.splice(m,1),this.trailing.splice(m,1))}p.length&&(a.innerComments=p)}},t.prototype.findTrailingComments=function(a){var f=[];if(this.trailing.length>0){for(var p=this.trailing.length-1;p>=0;--p){var m=this.trailing[p];m.start>=a.end.offset&&f.unshift(m.comment)}return this.trailing.length=0,f}var y=this.stack[this.stack.length-1];if(y&&y.node.trailingComments){var g=y.node.trailingComments[0];g&&g.range[0]>=a.end.offset&&(f=y.node.trailingComments,delete y.node.trailingComments)}return f},t.prototype.findLeadingComments=function(a){for(var f,p=[];this.stack.length>0&&(g=this.stack[this.stack.length-1])&&g.start>=a.start.offset;)f=g.node,this.stack.pop();if(f){for(var m=(f.leadingComments?f.leadingComments.length:0)-1;m>=0;--m){var y=f.leadingComments[m];y.range[1]<=a.start.offset&&(p.unshift(y),f.leadingComments.splice(m,1))}return f.leadingComments&&f.leadingComments.length===0&&delete f.leadingComments,p}for(m=this.leading.length-1;m>=0;--m){var g;(g=this.leading[m]).start<=a.start.offset&&(p.unshift(g.comment),this.leading.splice(m,1))}return p},t.prototype.visitNode=function(a,f){if(!(a.type===n.Syntax.Program&&a.body.length>0)){this.insertInnerComments(a,f);var p=this.findTrailingComments(f),m=this.findLeadingComments(f);m.length>0&&(a.leadingComments=m),p.length>0&&(a.trailingComments=p),this.stack.push({node:a,start:f.start.offset})}},t.prototype.visitComment=function(a,f){var p=a.type[0]==="L"?"Line":"Block",m={type:p,value:a.value};if(a.range&&(m.range=a.range),a.loc&&(m.loc=a.loc),this.comments.push(m),this.attach){var y={comment:{type:p,value:a.value,range:[f.start.offset,f.end.offset]},start:f.start.offset};a.loc&&(y.comment.loc=a.loc),a.type=p,this.leading.push(y),this.trailing.push(y)}},t.prototype.visit=function(a,f){a.type==="LineComment"||a.type==="BlockComment"?this.visitComment(a,f):this.attach&&this.visitNode(a,f)},t}();l.CommentHandler=h},function(d,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(d,l,u){var n,h=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,b){x.__proto__=b}||function(x,b){for(var w in b)b.hasOwnProperty(w)&&(x[w]=b[w])},function(x,b){function w(){this.constructor=x}n(x,b),x.prototype=b===null?Object.create(b):(w.prototype=b.prototype,new w)});Object.defineProperty(l,"__esModule",{value:!0});var t=u(4),a=u(5),f=u(6),p=u(7),m=u(8),y=u(13),g=u(14);function i(x){var b;switch(x.type){case f.JSXSyntax.JSXIdentifier:b=x.name;break;case f.JSXSyntax.JSXNamespacedName:var w=x;b=i(w.namespace)+":"+i(w.name);break;case f.JSXSyntax.JSXMemberExpression:var S=x;b=i(S.object)+"."+i(S.property)}return b}y.TokenName[100]="JSXIdentifier",y.TokenName[101]="JSXText";var s=function(x){function b(w,S,D){return x.call(this,w,S,D)||this}return h(b,x),b.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():x.prototype.parsePrimaryExpression.call(this)},b.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},b.prototype.finishJSX=function(){this.nextToken()},b.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},b.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},b.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},b.prototype.scanXHTMLEntity=function(w){for(var S="&",D=!0,C=!1,A=!1,T=!1;!this.scanner.eof()&&D&&!C;){var O=this.scanner.source[this.scanner.index];if(O===w)break;if(C=O===";",S+=O,++this.scanner.index,!C)switch(S.length){case 2:A=O==="#";break;case 3:A&&(D=(T=O==="x")||t.Character.isDecimalDigit(O.charCodeAt(0)),A=A&&!T);break;default:D=(D=D&&!(A&&!t.Character.isDecimalDigit(O.charCodeAt(0))))&&!(T&&!t.Character.isHexDigit(O.charCodeAt(0)))}}if(D&&C&&S.length>2){var I=S.substr(1,S.length-2);A&&I.length>1?S=String.fromCharCode(parseInt(I.substr(1),10)):T&&I.length>2?S=String.fromCharCode(parseInt("0"+I.substr(1),16)):A||T||!g.XHTMLEntities[I]||(S=g.XHTMLEntities[I])}return S},b.prototype.lexJSX=function(){var w=this.scanner.source.charCodeAt(this.scanner.index);if(w===60||w===62||w===47||w===58||w===61||w===123||w===125)return{type:7,value:O=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(w===34||w===39){for(var S=this.scanner.index,D=this.scanner.source[this.scanner.index++],C="";!this.scanner.eof()&&(I=this.scanner.source[this.scanner.index++])!==D;)C+=I==="&"?this.scanXHTMLEntity(D):I;return{type:8,value:C,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:S,end:this.scanner.index}}if(w===46){var A=this.scanner.source.charCodeAt(this.scanner.index+1),T=this.scanner.source.charCodeAt(this.scanner.index+2),O=A===46&&T===46?"...":".";return S=this.scanner.index,this.scanner.index+=O.length,{type:7,value:O,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:S,end:this.scanner.index}}if(w===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(t.Character.isIdentifierStart(w)&&w!==92){for(S=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var I=this.scanner.source.charCodeAt(this.scanner.index);if(t.Character.isIdentifierPart(I)&&I!==92)++this.scanner.index;else{if(I!==45)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(S,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:S,end:this.scanner.index}}return this.scanner.lex()},b.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var w=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(w)),w},b.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var w=this.scanner.index,S="";!this.scanner.eof();){var D=this.scanner.source[this.scanner.index];if(D==="{"||D==="<")break;++this.scanner.index,S+=D,t.Character.isLineTerminator(D.charCodeAt(0))&&(++this.scanner.lineNumber,D==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var C={type:101,value:S,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:w,end:this.scanner.index};return S.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(C)),C},b.prototype.peekJSXToken=function(){var w=this.scanner.saveState();this.scanner.scanComments();var S=this.lexJSX();return this.scanner.restoreState(w),S},b.prototype.expectJSX=function(w){var S=this.nextJSXToken();S.type===7&&S.value===w||this.throwUnexpectedToken(S)},b.prototype.matchJSX=function(w){var S=this.peekJSXToken();return S.type===7&&S.value===w},b.prototype.parseJSXIdentifier=function(){var w=this.createJSXNode(),S=this.nextJSXToken();return S.type!==100&&this.throwUnexpectedToken(S),this.finalize(w,new a.JSXIdentifier(S.value))},b.prototype.parseJSXElementName=function(){var w=this.createJSXNode(),S=this.parseJSXIdentifier();if(this.matchJSX(":")){var D=S;this.expectJSX(":");var C=this.parseJSXIdentifier();S=this.finalize(w,new a.JSXNamespacedName(D,C))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var A=S;this.expectJSX(".");var T=this.parseJSXIdentifier();S=this.finalize(w,new a.JSXMemberExpression(A,T))}return S},b.prototype.parseJSXAttributeName=function(){var w,S=this.createJSXNode(),D=this.parseJSXIdentifier();if(this.matchJSX(":")){var C=D;this.expectJSX(":");var A=this.parseJSXIdentifier();w=this.finalize(S,new a.JSXNamespacedName(C,A))}else w=D;return w},b.prototype.parseJSXStringLiteralAttribute=function(){var w=this.createJSXNode(),S=this.nextJSXToken();S.type!==8&&this.throwUnexpectedToken(S);var D=this.getTokenRaw(S);return this.finalize(w,new p.Literal(S.value,D))},b.prototype.parseJSXExpressionAttribute=function(){var w=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var S=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(w,new a.JSXExpressionContainer(S))},b.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},b.prototype.parseJSXNameValueAttribute=function(){var w=this.createJSXNode(),S=this.parseJSXAttributeName(),D=null;return this.matchJSX("=")&&(this.expectJSX("="),D=this.parseJSXAttributeValue()),this.finalize(w,new a.JSXAttribute(S,D))},b.prototype.parseJSXSpreadAttribute=function(){var w=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var S=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(w,new a.JSXSpreadAttribute(S))},b.prototype.parseJSXAttributes=function(){for(var w=[];!this.matchJSX("/")&&!this.matchJSX(">");){var S=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();w.push(S)}return w},b.prototype.parseJSXOpeningElement=function(){var w=this.createJSXNode();this.expectJSX("<");var S=this.parseJSXElementName(),D=this.parseJSXAttributes(),C=this.matchJSX("/");return C&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(w,new a.JSXOpeningElement(S,C,D))},b.prototype.parseJSXBoundaryElement=function(){var w=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var S=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(w,new a.JSXClosingElement(S))}var D=this.parseJSXElementName(),C=this.parseJSXAttributes(),A=this.matchJSX("/");return A&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(w,new a.JSXOpeningElement(D,A,C))},b.prototype.parseJSXEmptyExpression=function(){var w=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(w,new a.JSXEmptyExpression)},b.prototype.parseJSXExpressionContainer=function(){var w,S=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(w=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),w=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(S,new a.JSXExpressionContainer(w))},b.prototype.parseJSXChildren=function(){for(var w=[];!this.scanner.eof();){var S=this.createJSXChildNode(),D=this.nextJSXText();if(D.start<D.end){var C=this.getTokenRaw(D),A=this.finalize(S,new a.JSXText(D.value,C));w.push(A)}if(this.scanner.source[this.scanner.index]!=="{")break;var T=this.parseJSXExpressionContainer();w.push(T)}return w},b.prototype.parseComplexJSXElement=function(w){for(var S=[];!this.scanner.eof();){w.children=w.children.concat(this.parseJSXChildren());var D=this.createJSXChildNode(),C=this.parseJSXBoundaryElement();if(C.type===f.JSXSyntax.JSXOpeningElement){var A=C;if(A.selfClosing){var T=this.finalize(D,new a.JSXElement(A,[],null));w.children.push(T)}else S.push(w),w={node:D,opening:A,closing:null,children:[]}}if(C.type===f.JSXSyntax.JSXClosingElement){w.closing=C;var O=i(w.opening.name);if(O!==i(w.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",O),!(S.length>0))break;T=this.finalize(w.node,new a.JSXElement(w.opening,w.children,w.closing)),(w=S[S.length-1]).children.push(T),S.pop()}}return w},b.prototype.parseJSXElement=function(){var w=this.createJSXNode(),S=this.parseJSXOpeningElement(),D=[],C=null;if(!S.selfClosing){var A=this.parseComplexJSXElement({node:w,opening:S,closing:C,children:D});D=A.children,C=A.closing}return this.finalize(w,new a.JSXElement(S,D,C))},b.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var w=this.parseJSXElement();return this.finishJSX(),w},b.prototype.isStartOfExpression=function(){return x.prototype.isStartOfExpression.call(this)||this.match("<")},b}(m.Parser);l.JSXParser=s},function(d,l){Object.defineProperty(l,"__esModule",{value:!0});var u={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};l.Character={fromCodePoint:function(n){return n<65536?String.fromCharCode(n):String.fromCharCode(55296+(n-65536>>10))+String.fromCharCode(56320+(n-65536&1023))},isWhiteSpace:function(n){return n===32||n===9||n===11||n===12||n===160||n>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(n)>=0},isLineTerminator:function(n){return n===10||n===13||n===8232||n===8233},isIdentifierStart:function(n){return n===36||n===95||n>=65&&n<=90||n>=97&&n<=122||n===92||n>=128&&u.NonAsciiIdentifierStart.test(l.Character.fromCodePoint(n))},isIdentifierPart:function(n){return n===36||n===95||n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57||n===92||n>=128&&u.NonAsciiIdentifierPart.test(l.Character.fromCodePoint(n))},isDecimalDigit:function(n){return n>=48&&n<=57},isHexDigit:function(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102},isOctalDigit:function(n){return n>=48&&n<=55}}},function(d,l,u){Object.defineProperty(l,"__esModule",{value:!0});var n=u(6),h=function(b){this.type=n.JSXSyntax.JSXClosingElement,this.name=b};l.JSXClosingElement=h;var t=function(b,w,S){this.type=n.JSXSyntax.JSXElement,this.openingElement=b,this.children=w,this.closingElement=S};l.JSXElement=t;var a=function(){this.type=n.JSXSyntax.JSXEmptyExpression};l.JSXEmptyExpression=a;var f=function(b){this.type=n.JSXSyntax.JSXExpressionContainer,this.expression=b};l.JSXExpressionContainer=f;var p=function(b){this.type=n.JSXSyntax.JSXIdentifier,this.name=b};l.JSXIdentifier=p;var m=function(b,w){this.type=n.JSXSyntax.JSXMemberExpression,this.object=b,this.property=w};l.JSXMemberExpression=m;var y=function(b,w){this.type=n.JSXSyntax.JSXAttribute,this.name=b,this.value=w};l.JSXAttribute=y;var g=function(b,w){this.type=n.JSXSyntax.JSXNamespacedName,this.namespace=b,this.name=w};l.JSXNamespacedName=g;var i=function(b,w,S){this.type=n.JSXSyntax.JSXOpeningElement,this.name=b,this.selfClosing=w,this.attributes=S};l.JSXOpeningElement=i;var s=function(b){this.type=n.JSXSyntax.JSXSpreadAttribute,this.argument=b};l.JSXSpreadAttribute=s;var x=function(b,w){this.type=n.JSXSyntax.JSXText,this.value=b,this.raw=w};l.JSXText=x},function(d,l){Object.defineProperty(l,"__esModule",{value:!0}),l.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(d,l,u){Object.defineProperty(l,"__esModule",{value:!0});var n=u(2),h=function(te){this.type=n.Syntax.ArrayExpression,this.elements=te};l.ArrayExpression=h;var t=function(te){this.type=n.Syntax.ArrayPattern,this.elements=te};l.ArrayPattern=t;var a=function(te,se,be){this.type=n.Syntax.ArrowFunctionExpression,this.id=null,this.params=te,this.body=se,this.generator=!1,this.expression=be,this.async=!1};l.ArrowFunctionExpression=a;var f=function(te,se,be){this.type=n.Syntax.AssignmentExpression,this.operator=te,this.left=se,this.right=be};l.AssignmentExpression=f;var p=function(te,se){this.type=n.Syntax.AssignmentPattern,this.left=te,this.right=se};l.AssignmentPattern=p;var m=function(te,se,be){this.type=n.Syntax.ArrowFunctionExpression,this.id=null,this.params=te,this.body=se,this.generator=!1,this.expression=be,this.async=!0};l.AsyncArrowFunctionExpression=m;var y=function(te,se,be){this.type=n.Syntax.FunctionDeclaration,this.id=te,this.params=se,this.body=be,this.generator=!1,this.expression=!1,this.async=!0};l.AsyncFunctionDeclaration=y;var g=function(te,se,be){this.type=n.Syntax.FunctionExpression,this.id=te,this.params=se,this.body=be,this.generator=!1,this.expression=!1,this.async=!0};l.AsyncFunctionExpression=g;var i=function(te){this.type=n.Syntax.AwaitExpression,this.argument=te};l.AwaitExpression=i;var s=function(te,se,be){var je=te==="||"||te==="&&";this.type=je?n.Syntax.LogicalExpression:n.Syntax.BinaryExpression,this.operator=te,this.left=se,this.right=be};l.BinaryExpression=s;var x=function(te){this.type=n.Syntax.BlockStatement,this.body=te};l.BlockStatement=x;var b=function(te){this.type=n.Syntax.BreakStatement,this.label=te};l.BreakStatement=b;var w=function(te,se){this.type=n.Syntax.CallExpression,this.callee=te,this.arguments=se};l.CallExpression=w;var S=function(te,se){this.type=n.Syntax.CatchClause,this.param=te,this.body=se};l.CatchClause=S;var D=function(te){this.type=n.Syntax.ClassBody,this.body=te};l.ClassBody=D;var C=function(te,se,be){this.type=n.Syntax.ClassDeclaration,this.id=te,this.superClass=se,this.body=be};l.ClassDeclaration=C;var A=function(te,se,be){this.type=n.Syntax.ClassExpression,this.id=te,this.superClass=se,this.body=be};l.ClassExpression=A;var T=function(te,se){this.type=n.Syntax.MemberExpression,this.computed=!0,this.object=te,this.property=se};l.ComputedMemberExpression=T;var O=function(te,se,be){this.type=n.Syntax.ConditionalExpression,this.test=te,this.consequent=se,this.alternate=be};l.ConditionalExpression=O;var I=function(te){this.type=n.Syntax.ContinueStatement,this.label=te};l.ContinueStatement=I;var k=function(){this.type=n.Syntax.DebuggerStatement};l.DebuggerStatement=k;var R=function(te,se){this.type=n.Syntax.ExpressionStatement,this.expression=te,this.directive=se};l.Directive=R;var G=function(te,se){this.type=n.Syntax.DoWhileStatement,this.body=te,this.test=se};l.DoWhileStatement=G;var W=function(){this.type=n.Syntax.EmptyStatement};l.EmptyStatement=W;var L=function(te){this.type=n.Syntax.ExportAllDeclaration,this.source=te};l.ExportAllDeclaration=L;var j=function(te){this.type=n.Syntax.ExportDefaultDeclaration,this.declaration=te};l.ExportDefaultDeclaration=j;var z=function(te,se,be){this.type=n.Syntax.ExportNamedDeclaration,this.declaration=te,this.specifiers=se,this.source=be};l.ExportNamedDeclaration=z;var H=function(te,se){this.type=n.Syntax.ExportSpecifier,this.exported=se,this.local=te};l.ExportSpecifier=H;var X=function(te){this.type=n.Syntax.ExpressionStatement,this.expression=te};l.ExpressionStatement=X;var Y=function(te,se,be){this.type=n.Syntax.ForInStatement,this.left=te,this.right=se,this.body=be,this.each=!1};l.ForInStatement=Y;var Z=function(te,se,be){this.type=n.Syntax.ForOfStatement,this.left=te,this.right=se,this.body=be};l.ForOfStatement=Z;var q=function(te,se,be,je){this.type=n.Syntax.ForStatement,this.init=te,this.test=se,this.update=be,this.body=je};l.ForStatement=q;var ee=function(te,se,be,je){this.type=n.Syntax.FunctionDeclaration,this.id=te,this.params=se,this.body=be,this.generator=je,this.expression=!1,this.async=!1};l.FunctionDeclaration=ee;var re=function(te,se,be,je){this.type=n.Syntax.FunctionExpression,this.id=te,this.params=se,this.body=be,this.generator=je,this.expression=!1,this.async=!1};l.FunctionExpression=re;var ae=function(te){this.type=n.Syntax.Identifier,this.name=te};l.Identifier=ae;var Q=function(te,se,be){this.type=n.Syntax.IfStatement,this.test=te,this.consequent=se,this.alternate=be};l.IfStatement=Q;var N=function(te,se){this.type=n.Syntax.ImportDeclaration,this.specifiers=te,this.source=se};l.ImportDeclaration=N;var E=function(te){this.type=n.Syntax.ImportDefaultSpecifier,this.local=te};l.ImportDefaultSpecifier=E;var P=function(te){this.type=n.Syntax.ImportNamespaceSpecifier,this.local=te};l.ImportNamespaceSpecifier=P;var F=function(te,se){this.type=n.Syntax.ImportSpecifier,this.local=te,this.imported=se};l.ImportSpecifier=F;var M=function(te,se){this.type=n.Syntax.LabeledStatement,this.label=te,this.body=se};l.LabeledStatement=M;var B=function(te,se){this.type=n.Syntax.Literal,this.value=te,this.raw=se};l.Literal=B;var U=function(te,se){this.type=n.Syntax.MetaProperty,this.meta=te,this.property=se};l.MetaProperty=U;var $=function(te,se,be,je,dr){this.type=n.Syntax.MethodDefinition,this.key=te,this.computed=se,this.value=be,this.kind=je,this.static=dr};l.MethodDefinition=$;var J=function(te){this.type=n.Syntax.Program,this.body=te,this.sourceType="module"};l.Module=J;var ne=function(te,se){this.type=n.Syntax.NewExpression,this.callee=te,this.arguments=se};l.NewExpression=ne;var oe=function(te){this.type=n.Syntax.ObjectExpression,this.properties=te};l.ObjectExpression=oe;var ge=function(te){this.type=n.Syntax.ObjectPattern,this.properties=te};l.ObjectPattern=ge;var de=function(te,se,be,je,dr,Ni){this.type=n.Syntax.Property,this.key=se,this.computed=be,this.value=je,this.kind=te,this.method=dr,this.shorthand=Ni};l.Property=de;var Ce=function(te,se,be,je){this.type=n.Syntax.Literal,this.value=te,this.raw=se,this.regex={pattern:be,flags:je}};l.RegexLiteral=Ce;var we=function(te){this.type=n.Syntax.RestElement,this.argument=te};l.RestElement=we;var fe=function(te){this.type=n.Syntax.ReturnStatement,this.argument=te};l.ReturnStatement=fe;var Ae=function(te){this.type=n.Syntax.Program,this.body=te,this.sourceType="script"};l.Script=Ae;var V=function(te){this.type=n.Syntax.SequenceExpression,this.expressions=te};l.SequenceExpression=V;var ye=function(te){this.type=n.Syntax.SpreadElement,this.argument=te};l.SpreadElement=ye;var ve=function(te,se){this.type=n.Syntax.MemberExpression,this.computed=!1,this.object=te,this.property=se};l.StaticMemberExpression=ve;var he=function(){this.type=n.Syntax.Super};l.Super=he;var K=function(te,se){this.type=n.Syntax.SwitchCase,this.test=te,this.consequent=se};l.SwitchCase=K;var ie=function(te,se){this.type=n.Syntax.SwitchStatement,this.discriminant=te,this.cases=se};l.SwitchStatement=ie;var ce=function(te,se){this.type=n.Syntax.TaggedTemplateExpression,this.tag=te,this.quasi=se};l.TaggedTemplateExpression=ce;var le=function(te,se){this.type=n.Syntax.TemplateElement,this.value=te,this.tail=se};l.TemplateElement=le;var pe=function(te,se){this.type=n.Syntax.TemplateLiteral,this.quasis=te,this.expressions=se};l.TemplateLiteral=pe;var Se=function(){this.type=n.Syntax.ThisExpression};l.ThisExpression=Se;var me=function(te){this.type=n.Syntax.ThrowStatement,this.argument=te};l.ThrowStatement=me;var De=function(te,se,be){this.type=n.Syntax.TryStatement,this.block=te,this.handler=se,this.finalizer=be};l.TryStatement=De;var Ee=function(te,se){this.type=n.Syntax.UnaryExpression,this.operator=te,this.argument=se,this.prefix=!0};l.UnaryExpression=Ee;var Pe=function(te,se,be){this.type=n.Syntax.UpdateExpression,this.operator=te,this.argument=se,this.prefix=be};l.UpdateExpression=Pe;var Le=function(te,se){this.type=n.Syntax.VariableDeclaration,this.declarations=te,this.kind=se};l.VariableDeclaration=Le;var ke=function(te,se){this.type=n.Syntax.VariableDeclarator,this.id=te,this.init=se};l.VariableDeclarator=ke;var Ve=function(te,se){this.type=n.Syntax.WhileStatement,this.test=te,this.body=se};l.WhileStatement=Ve;var Ti=function(te,se){this.type=n.Syntax.WithStatement,this.object=te,this.body=se};l.WithStatement=Ti;var Ai=function(te,se){this.type=n.Syntax.YieldExpression,this.argument=te,this.delegate=se};l.YieldExpression=Ai},function(d,l,u){Object.defineProperty(l,"__esModule",{value:!0});var n=u(9),h=u(10),t=u(11),a=u(7),f=u(12),p=u(2),m=u(13),y=function(){function g(i,s,x){s===void 0&&(s={}),this.config={range:typeof s.range=="boolean"&&s.range,loc:typeof s.loc=="boolean"&&s.loc,source:null,tokens:typeof s.tokens=="boolean"&&s.tokens,comment:typeof s.comment=="boolean"&&s.comment,tolerant:typeof s.tolerant=="boolean"&&s.tolerant},this.config.loc&&s.source&&s.source!==null&&(this.config.source=String(s.source)),this.delegate=x,this.errorHandler=new h.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new f.Scanner(i,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return g.prototype.throwError=function(i){for(var s=[],x=1;x<arguments.length;x++)s[x-1]=arguments[x];var b=Array.prototype.slice.call(arguments,1),w=i.replace(/%(\d)/g,function(A,T){return n.assert(T<b.length,"Message reference must be in range"),b[T]}),S=this.lastMarker.index,D=this.lastMarker.line,C=this.lastMarker.column+1;throw this.errorHandler.createError(S,D,C,w)},g.prototype.tolerateError=function(i){for(var s=[],x=1;x<arguments.length;x++)s[x-1]=arguments[x];var b=Array.prototype.slice.call(arguments,1),w=i.replace(/%(\d)/g,function(A,T){return n.assert(T<b.length,"Message reference must be in range"),b[T]}),S=this.lastMarker.index,D=this.scanner.lineNumber,C=this.lastMarker.column+1;this.errorHandler.tolerateError(S,D,C,w)},g.prototype.unexpectedTokenError=function(i,s){var x,b=s||t.Messages.UnexpectedToken;if(i?(s||(b=i.type===2?t.Messages.UnexpectedEOS:i.type===3?t.Messages.UnexpectedIdentifier:i.type===6?t.Messages.UnexpectedNumber:i.type===8?t.Messages.UnexpectedString:i.type===10?t.Messages.UnexpectedTemplate:t.Messages.UnexpectedToken,i.type===4&&(this.scanner.isFutureReservedWord(i.value)?b=t.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(i.value)&&(b=t.Messages.StrictReservedWord))),x=i.value):x="ILLEGAL",b=b.replace("%0",x),i&&typeof i.lineNumber=="number"){var w=i.start,S=i.lineNumber,D=this.lastMarker.index-this.lastMarker.column,C=i.start-D+1;return this.errorHandler.createError(w,S,C,b)}return w=this.lastMarker.index,S=this.lastMarker.line,C=this.lastMarker.column+1,this.errorHandler.createError(w,S,C,b)},g.prototype.throwUnexpectedToken=function(i,s){throw this.unexpectedTokenError(i,s)},g.prototype.tolerateUnexpectedToken=function(i,s){this.errorHandler.tolerate(this.unexpectedTokenError(i,s))},g.prototype.collectComments=function(){if(this.config.comment){var i=this.scanner.scanComments();if(i.length>0&&this.delegate)for(var s=0;s<i.length;++s){var x=i[s],b=void 0;b={type:x.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(x.slice[0],x.slice[1])},this.config.range&&(b.range=x.range),this.config.loc&&(b.loc=x.loc);var w={start:{line:x.loc.start.line,column:x.loc.start.column,offset:x.range[0]},end:{line:x.loc.end.line,column:x.loc.end.column,offset:x.range[1]}};this.delegate(b,w)}}else this.scanner.scanComments()},g.prototype.getTokenRaw=function(i){return this.scanner.source.slice(i.start,i.end)},g.prototype.convertToken=function(i){var s={type:m.TokenName[i.type],value:this.getTokenRaw(i)};if(this.config.range&&(s.range=[i.start,i.end]),this.config.loc&&(s.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),i.type===9){var x=i.pattern,b=i.flags;s.regex={pattern:x,flags:b}}return s},g.prototype.nextToken=function(){var i=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var s=this.scanner.lex();return this.hasLineTerminator=i.lineNumber!==s.lineNumber,s&&this.context.strict&&s.type===3&&this.scanner.isStrictModeReservedWord(s.value)&&(s.type=4),this.lookahead=s,this.config.tokens&&s.type!==2&&this.tokens.push(this.convertToken(s)),i},g.prototype.nextRegexToken=function(){this.collectComments();var i=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(i))),this.lookahead=i,this.nextToken(),i},g.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},g.prototype.startNode=function(i,s){s===void 0&&(s=0);var x=i.start-i.lineStart,b=i.lineNumber;return x<0&&(x+=s,b--),{index:i.start,line:b,column:x}},g.prototype.finalize=function(i,s){if(this.config.range&&(s.range=[i.index,this.lastMarker.index]),this.config.loc&&(s.loc={start:{line:i.line,column:i.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(s.loc.source=this.config.source)),this.delegate){var x={start:{line:i.line,column:i.column,offset:i.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(s,x)}return s},g.prototype.expect=function(i){var s=this.nextToken();s.type===7&&s.value===i||this.throwUnexpectedToken(s)},g.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var i=this.lookahead;i.type===7&&i.value===","?this.nextToken():i.type===7&&i.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(i)):this.tolerateUnexpectedToken(i,t.Messages.UnexpectedToken)}else this.expect(",")},g.prototype.expectKeyword=function(i){var s=this.nextToken();s.type===4&&s.value===i||this.throwUnexpectedToken(s)},g.prototype.match=function(i){return this.lookahead.type===7&&this.lookahead.value===i},g.prototype.matchKeyword=function(i){return this.lookahead.type===4&&this.lookahead.value===i},g.prototype.matchContextualKeyword=function(i){return this.lookahead.type===3&&this.lookahead.value===i},g.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var i=this.lookahead.value;return i==="="||i==="*="||i==="**="||i==="/="||i==="%="||i==="+="||i==="-="||i==="<<="||i===">>="||i===">>>="||i==="&="||i==="^="||i==="|="},g.prototype.isolateCoverGrammar=function(i){var s=this.context.isBindingElement,x=this.context.isAssignmentTarget,b=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var w=i.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=s,this.context.isAssignmentTarget=x,this.context.firstCoverInitializedNameError=b,w},g.prototype.inheritCoverGrammar=function(i){var s=this.context.isBindingElement,x=this.context.isAssignmentTarget,b=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var w=i.call(this);return this.context.isBindingElement=this.context.isBindingElement&&s,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&x,this.context.firstCoverInitializedNameError=b||this.context.firstCoverInitializedNameError,w},g.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===2||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},g.prototype.parsePrimaryExpression=function(){var i,s,x,b=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),i=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(b,new a.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,t.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,s=this.nextToken(),x=this.getTokenRaw(s),i=this.finalize(b,new a.Literal(s.value,x));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,s=this.nextToken(),x=this.getTokenRaw(s),i=this.finalize(b,new a.Literal(s.value==="true",x));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,s=this.nextToken(),x=this.getTokenRaw(s),i=this.finalize(b,new a.Literal(null,x));break;case 10:i=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,i=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":i=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":i=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,s=this.nextRegexToken(),x=this.getTokenRaw(s),i=this.finalize(b,new a.RegexLiteral(s.regex,x,s.pattern,s.flags));break;default:i=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?i=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?i=this.finalize(b,new a.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?i=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),i=this.finalize(b,new a.ThisExpression)):i=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:i=this.throwUnexpectedToken(this.nextToken())}return i},g.prototype.parseSpreadElement=function(){var i=this.createNode();this.expect("...");var s=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(i,new a.SpreadElement(s))},g.prototype.parseArrayInitializer=function(){var i=this.createNode(),s=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),s.push(null);else if(this.match("...")){var x=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),s.push(x)}else s.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(i,new a.ArrayExpression(s))},g.prototype.parsePropertyMethod=function(i){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var s=this.context.strict,x=this.context.allowStrictDirective;this.context.allowStrictDirective=i.simple;var b=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&i.firstRestricted&&this.tolerateUnexpectedToken(i.firstRestricted,i.message),this.context.strict&&i.stricted&&this.tolerateUnexpectedToken(i.stricted,i.message),this.context.strict=s,this.context.allowStrictDirective=x,b},g.prototype.parsePropertyMethodFunction=function(){var i=this.createNode(),s=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters(),b=this.parsePropertyMethod(x);return this.context.allowYield=s,this.finalize(i,new a.FunctionExpression(null,x.params,b,!1))},g.prototype.parsePropertyMethodAsyncFunction=function(){var i=this.createNode(),s=this.context.allowYield,x=this.context.await;this.context.allowYield=!1,this.context.await=!0;var b=this.parseFormalParameters(),w=this.parsePropertyMethod(b);return this.context.allowYield=s,this.context.await=x,this.finalize(i,new a.AsyncFunctionExpression(null,b.params,w))},g.prototype.parseObjectPropertyKey=function(){var i,s=this.createNode(),x=this.nextToken();switch(x.type){case 8:case 6:this.context.strict&&x.octal&&this.tolerateUnexpectedToken(x,t.Messages.StrictOctalLiteral);var b=this.getTokenRaw(x);i=this.finalize(s,new a.Literal(x.value,b));break;case 3:case 1:case 5:case 4:i=this.finalize(s,new a.Identifier(x.value));break;case 7:x.value==="["?(i=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):i=this.throwUnexpectedToken(x);break;default:i=this.throwUnexpectedToken(x)}return i},g.prototype.isPropertyKey=function(i,s){return i.type===p.Syntax.Identifier&&i.name===s||i.type===p.Syntax.Literal&&i.value===s},g.prototype.parseObjectProperty=function(i){var s,x=this.createNode(),b=this.lookahead,w=null,S=null,D=!1,C=!1,A=!1,T=!1;if(b.type===3){var O=b.value;this.nextToken(),D=this.match("["),w=(T=!(this.hasLineTerminator||O!=="async"||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(x,new a.Identifier(O))}else this.match("*")?this.nextToken():(D=this.match("["),w=this.parseObjectPropertyKey());var I=this.qualifiedPropertyName(this.lookahead);if(b.type===3&&!T&&b.value==="get"&&I)s="get",D=this.match("["),w=this.parseObjectPropertyKey(),this.context.allowYield=!1,S=this.parseGetterMethod();else if(b.type===3&&!T&&b.value==="set"&&I)s="set",D=this.match("["),w=this.parseObjectPropertyKey(),S=this.parseSetterMethod();else if(b.type===7&&b.value==="*"&&I)s="init",D=this.match("["),w=this.parseObjectPropertyKey(),S=this.parseGeneratorMethod(),C=!0;else if(w||this.throwUnexpectedToken(this.lookahead),s="init",this.match(":")&&!T)!D&&this.isPropertyKey(w,"__proto__")&&(i.value&&this.tolerateError(t.Messages.DuplicateProtoProperty),i.value=!0),this.nextToken(),S=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))S=T?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),C=!0;else if(b.type===3)if(O=this.finalize(x,new a.Identifier(b.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),A=!0;var k=this.isolateCoverGrammar(this.parseAssignmentExpression);S=this.finalize(x,new a.AssignmentPattern(O,k))}else A=!0,S=O;else this.throwUnexpectedToken(this.nextToken());return this.finalize(x,new a.Property(s,w,D,S,C,A))},g.prototype.parseObjectInitializer=function(){var i=this.createNode();this.expect("{");for(var s=[],x={value:!1};!this.match("}");)s.push(this.parseObjectProperty(x)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(i,new a.ObjectExpression(s))},g.prototype.parseTemplateHead=function(){n.assert(this.lookahead.head,"Template literal must start with a template head");var i=this.createNode(),s=this.nextToken(),x=s.value,b=s.cooked;return this.finalize(i,new a.TemplateElement({raw:x,cooked:b},s.tail))},g.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var i=this.createNode(),s=this.nextToken(),x=s.value,b=s.cooked;return this.finalize(i,new a.TemplateElement({raw:x,cooked:b},s.tail))},g.prototype.parseTemplateLiteral=function(){var i=this.createNode(),s=[],x=[],b=this.parseTemplateHead();for(x.push(b);!b.tail;)s.push(this.parseExpression()),b=this.parseTemplateElement(),x.push(b);return this.finalize(i,new a.TemplateLiteral(x,s))},g.prototype.reinterpretExpressionAsPattern=function(i){switch(i.type){case p.Syntax.Identifier:case p.Syntax.MemberExpression:case p.Syntax.RestElement:case p.Syntax.AssignmentPattern:break;case p.Syntax.SpreadElement:i.type=p.Syntax.RestElement,this.reinterpretExpressionAsPattern(i.argument);break;case p.Syntax.ArrayExpression:i.type=p.Syntax.ArrayPattern;for(var s=0;s<i.elements.length;s++)i.elements[s]!==null&&this.reinterpretExpressionAsPattern(i.elements[s]);break;case p.Syntax.ObjectExpression:for(i.type=p.Syntax.ObjectPattern,s=0;s<i.properties.length;s++)this.reinterpretExpressionAsPattern(i.properties[s].value);break;case p.Syntax.AssignmentExpression:i.type=p.Syntax.AssignmentPattern,delete i.operator,this.reinterpretExpressionAsPattern(i.left)}},g.prototype.parseGroupExpression=function(){var i;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),i={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var s=this.lookahead,x=[];if(this.match("..."))i=this.parseRestElement(x),this.expect(")"),this.match("=>")||this.expect("=>"),i={type:"ArrowParameterPlaceHolder",params:[i],async:!1};else{var b=!1;if(this.context.isBindingElement=!0,i=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var w=[];for(this.context.isAssignmentTarget=!1,w.push(i);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var S=0;S<w.length;S++)this.reinterpretExpressionAsPattern(w[S]);b=!0,i={type:"ArrowParameterPlaceHolder",params:w,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),w.push(this.parseRestElement(x)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,S=0;S<w.length;S++)this.reinterpretExpressionAsPattern(w[S]);b=!0,i={type:"ArrowParameterPlaceHolder",params:w,async:!1}}else w.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(b)break}b||(i=this.finalize(this.startNode(s),new a.SequenceExpression(w)))}if(!b){if(this.expect(")"),this.match("=>")&&(i.type===p.Syntax.Identifier&&i.name==="yield"&&(b=!0,i={type:"ArrowParameterPlaceHolder",params:[i],async:!1}),!b)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),i.type===p.Syntax.SequenceExpression)for(S=0;S<i.expressions.length;S++)this.reinterpretExpressionAsPattern(i.expressions[S]);else this.reinterpretExpressionAsPattern(i);i={type:"ArrowParameterPlaceHolder",params:i.type===p.Syntax.SequenceExpression?i.expressions:[i],async:!1}}this.context.isBindingElement=!1}}}return i},g.prototype.parseArguments=function(){this.expect("(");var i=[];if(!this.match(")"))for(;;){var s=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(i.push(s),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),i},g.prototype.isIdentifierName=function(i){return i.type===3||i.type===4||i.type===1||i.type===5},g.prototype.parseIdentifierName=function(){var i=this.createNode(),s=this.nextToken();return this.isIdentifierName(s)||this.throwUnexpectedToken(s),this.finalize(i,new a.Identifier(s.value))},g.prototype.parseNewExpression=function(){var i,s=this.createNode(),x=this.parseIdentifierName();if(n.assert(x.name==="new","New expression must start with `new`"),this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var b=this.parseIdentifierName();i=new a.MetaProperty(x,b)}else this.throwUnexpectedToken(this.lookahead);else{var w=this.isolateCoverGrammar(this.parseLeftHandSideExpression),S=this.match("(")?this.parseArguments():[];i=new a.NewExpression(w,S),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(s,i)},g.prototype.parseAsyncArgument=function(){var i=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,i},g.prototype.parseAsyncArguments=function(){this.expect("(");var i=[];if(!this.match(")"))for(;;){var s=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(i.push(s),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),i},g.prototype.parseLeftHandSideExpressionAllowCall=function(){var i,s=this.lookahead,x=this.matchContextualKeyword("async"),b=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(i=this.createNode(),this.nextToken(),i=this.finalize(i,new a.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):i=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var w=this.parseIdentifierName();i=this.finalize(this.startNode(s),new a.StaticMemberExpression(i,w))}else if(this.match("(")){var S=x&&s.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var D=S?this.parseAsyncArguments():this.parseArguments();if(i=this.finalize(this.startNode(s),new a.CallExpression(i,D)),S&&this.match("=>")){for(var C=0;C<D.length;++C)this.reinterpretExpressionAsPattern(D[C]);i={type:"ArrowParameterPlaceHolder",params:D,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),w=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),i=this.finalize(this.startNode(s),new a.ComputedMemberExpression(i,w));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var A=this.parseTemplateLiteral();i=this.finalize(this.startNode(s),new a.TaggedTemplateExpression(i,A))}return this.context.allowIn=b,i},g.prototype.parseSuper=function(){var i=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(i,new a.Super)},g.prototype.parseLeftHandSideExpression=function(){n.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var i=this.startNode(this.lookahead),s=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var x=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),s=this.finalize(i,new a.ComputedMemberExpression(s,x))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),x=this.parseIdentifierName(),s=this.finalize(i,new a.StaticMemberExpression(s,x));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var b=this.parseTemplateLiteral();s=this.finalize(i,new a.TaggedTemplateExpression(s,b))}return s},g.prototype.parseUpdateExpression=function(){var i,s=this.lookahead;if(this.match("++")||this.match("--")){var x=this.startNode(s),b=this.nextToken();i=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&i.type===p.Syntax.Identifier&&this.scanner.isRestrictedWord(i.name)&&this.tolerateError(t.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(t.Messages.InvalidLHSInAssignment);var w=!0;i=this.finalize(x,new a.UpdateExpression(b.value,i,w)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(i=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&i.type===p.Syntax.Identifier&&this.scanner.isRestrictedWord(i.name)&&this.tolerateError(t.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(t.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var S=this.nextToken().value;w=!1,i=this.finalize(this.startNode(s),new a.UpdateExpression(S,i,w))}return i},g.prototype.parseAwaitExpression=function(){var i=this.createNode();this.nextToken();var s=this.parseUnaryExpression();return this.finalize(i,new a.AwaitExpression(s))},g.prototype.parseUnaryExpression=function(){var i;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var s=this.startNode(this.lookahead),x=this.nextToken();i=this.inheritCoverGrammar(this.parseUnaryExpression),i=this.finalize(s,new a.UnaryExpression(x.value,i)),this.context.strict&&i.operator==="delete"&&i.argument.type===p.Syntax.Identifier&&this.tolerateError(t.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else i=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return i},g.prototype.parseExponentiationExpression=function(){var i=this.lookahead,s=this.inheritCoverGrammar(this.parseUnaryExpression);if(s.type!==p.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var x=s,b=this.isolateCoverGrammar(this.parseExponentiationExpression);s=this.finalize(this.startNode(i),new a.BinaryExpression("**",x,b))}return s},g.prototype.binaryPrecedence=function(i){var s=i.value;return i.type===7?this.operatorPrecedence[s]||0:i.type===4&&(s==="instanceof"||this.context.allowIn&&s==="in")?7:0},g.prototype.parseBinaryExpression=function(){var i=this.lookahead,s=this.inheritCoverGrammar(this.parseExponentiationExpression),x=this.lookahead,b=this.binaryPrecedence(x);if(b>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var w=[i,this.lookahead],S=s,D=this.isolateCoverGrammar(this.parseExponentiationExpression),C=[S,x.value,D],A=[b];!((b=this.binaryPrecedence(this.lookahead))<=0);){for(;C.length>2&&b<=A[A.length-1];){D=C.pop();var T=C.pop();A.pop(),S=C.pop(),w.pop();var O=this.startNode(w[w.length-1]);C.push(this.finalize(O,new a.BinaryExpression(T,S,D)))}C.push(this.nextToken().value),A.push(b),w.push(this.lookahead),C.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var I=C.length-1;s=C[I];for(var k=w.pop();I>1;){var R=w.pop(),G=k&&k.lineStart;O=this.startNode(R,G),T=C[I-1],s=this.finalize(O,new a.BinaryExpression(T,C[I-2],s)),I-=2,k=R}}return s},g.prototype.parseConditionalExpression=function(){var i=this.lookahead,s=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var x=this.context.allowIn;this.context.allowIn=!0;var b=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=x,this.expect(":");var w=this.isolateCoverGrammar(this.parseAssignmentExpression);s=this.finalize(this.startNode(i),new a.ConditionalExpression(s,b,w)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return s},g.prototype.checkPatternParam=function(i,s){switch(s.type){case p.Syntax.Identifier:this.validateParam(i,s,s.name);break;case p.Syntax.RestElement:this.checkPatternParam(i,s.argument);break;case p.Syntax.AssignmentPattern:this.checkPatternParam(i,s.left);break;case p.Syntax.ArrayPattern:for(var x=0;x<s.elements.length;x++)s.elements[x]!==null&&this.checkPatternParam(i,s.elements[x]);break;case p.Syntax.ObjectPattern:for(x=0;x<s.properties.length;x++)this.checkPatternParam(i,s.properties[x].value)}i.simple=i.simple&&s instanceof a.Identifier},g.prototype.reinterpretAsCoverFormalsList=function(i){var s,x=[i],b=!1;switch(i.type){case p.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":x=i.params,b=i.async;break;default:return null}s={simple:!0,paramSet:{}};for(var w=0;w<x.length;++w)(S=x[w]).type===p.Syntax.AssignmentPattern?S.right.type===p.Syntax.YieldExpression&&(S.right.argument&&this.throwUnexpectedToken(this.lookahead),S.right.type=p.Syntax.Identifier,S.right.name="yield",delete S.right.argument,delete S.right.delegate):b&&S.type===p.Syntax.Identifier&&S.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(s,S),x[w]=S;if(this.context.strict||!this.context.allowYield)for(w=0;w<x.length;++w){var S;(S=x[w]).type===p.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(s.message===t.Messages.StrictParamDupe){var D=this.context.strict?s.stricted:s.firstRestricted;this.throwUnexpectedToken(D,s.message)}return{simple:s.simple,params:x,stricted:s.stricted,firstRestricted:s.firstRestricted,message:s.message}},g.prototype.parseAssignmentExpression=function(){var i;if(!this.context.allowYield&&this.matchKeyword("yield"))i=this.parseYieldExpression();else{var s=this.lookahead,x=s;if(i=this.parseConditionalExpression(),x.type===3&&x.lineNumber===this.lookahead.lineNumber&&x.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var b=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(b),i={type:"ArrowParameterPlaceHolder",params:[b],async:!0}}if(i.type==="ArrowParameterPlaceHolder"||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var w=i.async,S=this.reinterpretAsCoverFormalsList(i);if(S){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var D=this.context.strict,C=this.context.allowStrictDirective;this.context.allowStrictDirective=S.simple;var A=this.context.allowYield,T=this.context.await;this.context.allowYield=!0,this.context.await=w;var O=this.startNode(s);this.expect("=>");var I=void 0;if(this.match("{")){var k=this.context.allowIn;this.context.allowIn=!0,I=this.parseFunctionSourceElements(),this.context.allowIn=k}else I=this.isolateCoverGrammar(this.parseAssignmentExpression);var R=I.type!==p.Syntax.BlockStatement;this.context.strict&&S.firstRestricted&&this.throwUnexpectedToken(S.firstRestricted,S.message),this.context.strict&&S.stricted&&this.tolerateUnexpectedToken(S.stricted,S.message),i=w?this.finalize(O,new a.AsyncArrowFunctionExpression(S.params,I,R)):this.finalize(O,new a.ArrowFunctionExpression(S.params,I,R)),this.context.strict=D,this.context.allowStrictDirective=C,this.context.allowYield=A,this.context.await=T}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(t.Messages.InvalidLHSInAssignment),this.context.strict&&i.type===p.Syntax.Identifier){var G=i;this.scanner.isRestrictedWord(G.name)&&this.tolerateUnexpectedToken(x,t.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(G.name)&&this.tolerateUnexpectedToken(x,t.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(i):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var W=(x=this.nextToken()).value,L=this.isolateCoverGrammar(this.parseAssignmentExpression);i=this.finalize(this.startNode(s),new a.AssignmentExpression(W,i,L)),this.context.firstCoverInitializedNameError=null}}return i},g.prototype.parseExpression=function(){var i=this.lookahead,s=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var x=[];for(x.push(s);this.lookahead.type!==2&&this.match(",");)this.nextToken(),x.push(this.isolateCoverGrammar(this.parseAssignmentExpression));s=this.finalize(this.startNode(i),new a.SequenceExpression(x))}return s},g.prototype.parseStatementListItem=function(){var i;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,t.Messages.IllegalExportDeclaration),i=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,t.Messages.IllegalImportDeclaration),i=this.parseImportDeclaration();break;case"const":i=this.parseLexicalDeclaration({inFor:!1});break;case"function":i=this.parseFunctionDeclaration();break;case"class":i=this.parseClassDeclaration();break;case"let":i=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:i=this.parseStatement()}else i=this.parseStatement();return i},g.prototype.parseBlock=function(){var i=this.createNode();this.expect("{");for(var s=[];!this.match("}");)s.push(this.parseStatementListItem());return this.expect("}"),this.finalize(i,new a.BlockStatement(s))},g.prototype.parseLexicalBinding=function(i,s){var x=this.createNode(),b=this.parsePattern([],i);this.context.strict&&b.type===p.Syntax.Identifier&&this.scanner.isRestrictedWord(b.name)&&this.tolerateError(t.Messages.StrictVarName);var w=null;return i==="const"?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),w=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(t.Messages.DeclarationMissingInitializer,"const")):(!s.inFor&&b.type!==p.Syntax.Identifier||this.match("="))&&(this.expect("="),w=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(x,new a.VariableDeclarator(b,w))},g.prototype.parseBindingList=function(i,s){for(var x=[this.parseLexicalBinding(i,s)];this.match(",");)this.nextToken(),x.push(this.parseLexicalBinding(i,s));return x},g.prototype.isLexicalDeclaration=function(){var i=this.scanner.saveState();this.scanner.scanComments();var s=this.scanner.lex();return this.scanner.restoreState(i),s.type===3||s.type===7&&s.value==="["||s.type===7&&s.value==="{"||s.type===4&&s.value==="let"||s.type===4&&s.value==="yield"},g.prototype.parseLexicalDeclaration=function(i){var s=this.createNode(),x=this.nextToken().value;n.assert(x==="let"||x==="const","Lexical declaration must be either let or const");var b=this.parseBindingList(x,i);return this.consumeSemicolon(),this.finalize(s,new a.VariableDeclaration(b,x))},g.prototype.parseBindingRestElement=function(i,s){var x=this.createNode();this.expect("...");var b=this.parsePattern(i,s);return this.finalize(x,new a.RestElement(b))},g.prototype.parseArrayPattern=function(i,s){var x=this.createNode();this.expect("[");for(var b=[];!this.match("]");)if(this.match(","))this.nextToken(),b.push(null);else{if(this.match("...")){b.push(this.parseBindingRestElement(i,s));break}b.push(this.parsePatternWithDefault(i,s)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(x,new a.ArrayPattern(b))},g.prototype.parsePropertyPattern=function(i,s){var x,b,w=this.createNode(),S=!1,D=!1;if(this.lookahead.type===3){var C=this.lookahead;x=this.parseVariableIdentifier();var A=this.finalize(w,new a.Identifier(C.value));if(this.match("=")){i.push(C),D=!0,this.nextToken();var T=this.parseAssignmentExpression();b=this.finalize(this.startNode(C),new a.AssignmentPattern(A,T))}else this.match(":")?(this.expect(":"),b=this.parsePatternWithDefault(i,s)):(i.push(C),D=!0,b=A)}else S=this.match("["),x=this.parseObjectPropertyKey(),this.expect(":"),b=this.parsePatternWithDefault(i,s);return this.finalize(w,new a.Property("init",x,S,b,!1,D))},g.prototype.parseObjectPattern=function(i,s){var x=this.createNode(),b=[];for(this.expect("{");!this.match("}");)b.push(this.parsePropertyPattern(i,s)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(x,new a.ObjectPattern(b))},g.prototype.parsePattern=function(i,s){var x;return this.match("[")?x=this.parseArrayPattern(i,s):this.match("{")?x=this.parseObjectPattern(i,s):(!this.matchKeyword("let")||s!=="const"&&s!=="let"||this.tolerateUnexpectedToken(this.lookahead,t.Messages.LetInLexicalBinding),i.push(this.lookahead),x=this.parseVariableIdentifier(s)),x},g.prototype.parsePatternWithDefault=function(i,s){var x=this.lookahead,b=this.parsePattern(i,s);if(this.match("=")){this.nextToken();var w=this.context.allowYield;this.context.allowYield=!0;var S=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=w,b=this.finalize(this.startNode(x),new a.AssignmentPattern(b,S))}return b},g.prototype.parseVariableIdentifier=function(i){var s=this.createNode(),x=this.nextToken();return x.type===4&&x.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(x,t.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(x):x.type!==3?this.context.strict&&x.type===4&&this.scanner.isStrictModeReservedWord(x.value)?this.tolerateUnexpectedToken(x,t.Messages.StrictReservedWord):(this.context.strict||x.value!=="let"||i!=="var")&&this.throwUnexpectedToken(x):(this.context.isModule||this.context.await)&&x.type===3&&x.value==="await"&&this.tolerateUnexpectedToken(x),this.finalize(s,new a.Identifier(x.value))},g.prototype.parseVariableDeclaration=function(i){var s=this.createNode(),x=this.parsePattern([],"var");this.context.strict&&x.type===p.Syntax.Identifier&&this.scanner.isRestrictedWord(x.name)&&this.tolerateError(t.Messages.StrictVarName);var b=null;return this.match("=")?(this.nextToken(),b=this.isolateCoverGrammar(this.parseAssignmentExpression)):x.type===p.Syntax.Identifier||i.inFor||this.expect("="),this.finalize(s,new a.VariableDeclarator(x,b))},g.prototype.parseVariableDeclarationList=function(i){var s={inFor:i.inFor},x=[];for(x.push(this.parseVariableDeclaration(s));this.match(",");)this.nextToken(),x.push(this.parseVariableDeclaration(s));return x},g.prototype.parseVariableStatement=function(){var i=this.createNode();this.expectKeyword("var");var s=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(i,new a.VariableDeclaration(s,"var"))},g.prototype.parseEmptyStatement=function(){var i=this.createNode();return this.expect(";"),this.finalize(i,new a.EmptyStatement)},g.prototype.parseExpressionStatement=function(){var i=this.createNode(),s=this.parseExpression();return this.consumeSemicolon(),this.finalize(i,new a.ExpressionStatement(s))},g.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(t.Messages.StrictFunction),this.parseStatement()},g.prototype.parseIfStatement=function(){var i,s=this.createNode(),x=null;this.expectKeyword("if"),this.expect("(");var b=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),i=this.finalize(this.createNode(),new a.EmptyStatement)):(this.expect(")"),i=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),x=this.parseIfClause())),this.finalize(s,new a.IfStatement(b,i,x))},g.prototype.parseDoWhileStatement=function(){var i=this.createNode();this.expectKeyword("do");var s=this.context.inIteration;this.context.inIteration=!0;var x=this.parseStatement();this.context.inIteration=s,this.expectKeyword("while"),this.expect("(");var b=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(i,new a.DoWhileStatement(x,b))},g.prototype.parseWhileStatement=function(){var i,s=this.createNode();this.expectKeyword("while"),this.expect("(");var x=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),i=this.finalize(this.createNode(),new a.EmptyStatement);else{this.expect(")");var b=this.context.inIteration;this.context.inIteration=!0,i=this.parseStatement(),this.context.inIteration=b}return this.finalize(s,new a.WhileStatement(x,i))},g.prototype.parseForStatement=function(){var i,s,x,b=null,w=null,S=null,D=!0,C=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){b=this.createNode(),this.nextToken();var A=this.context.allowIn;this.context.allowIn=!1;var T=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=A,T.length===1&&this.matchKeyword("in")){var O=T[0];O.init&&(O.id.type===p.Syntax.ArrayPattern||O.id.type===p.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(t.Messages.ForInOfLoopInitializer,"for-in"),b=this.finalize(b,new a.VariableDeclaration(T,"var")),this.nextToken(),i=b,s=this.parseExpression(),b=null}else T.length===1&&T[0].init===null&&this.matchContextualKeyword("of")?(b=this.finalize(b,new a.VariableDeclaration(T,"var")),this.nextToken(),i=b,s=this.parseAssignmentExpression(),b=null,D=!1):(b=this.finalize(b,new a.VariableDeclaration(T,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){b=this.createNode();var I=this.nextToken().value;this.context.strict||this.lookahead.value!=="in"?(A=this.context.allowIn,this.context.allowIn=!1,T=this.parseBindingList(I,{inFor:!0}),this.context.allowIn=A,T.length===1&&T[0].init===null&&this.matchKeyword("in")?(b=this.finalize(b,new a.VariableDeclaration(T,I)),this.nextToken(),i=b,s=this.parseExpression(),b=null):T.length===1&&T[0].init===null&&this.matchContextualKeyword("of")?(b=this.finalize(b,new a.VariableDeclaration(T,I)),this.nextToken(),i=b,s=this.parseAssignmentExpression(),b=null,D=!1):(this.consumeSemicolon(),b=this.finalize(b,new a.VariableDeclaration(T,I)))):(b=this.finalize(b,new a.Identifier(I)),this.nextToken(),i=b,s=this.parseExpression(),b=null)}else{var k=this.lookahead;if(A=this.context.allowIn,this.context.allowIn=!1,b=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=A,this.matchKeyword("in"))this.context.isAssignmentTarget&&b.type!==p.Syntax.AssignmentExpression||this.tolerateError(t.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(b),i=b,s=this.parseExpression(),b=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&b.type!==p.Syntax.AssignmentExpression||this.tolerateError(t.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(b),i=b,s=this.parseAssignmentExpression(),b=null,D=!1;else{if(this.match(",")){for(var R=[b];this.match(",");)this.nextToken(),R.push(this.isolateCoverGrammar(this.parseAssignmentExpression));b=this.finalize(this.startNode(k),new a.SequenceExpression(R))}this.expect(";")}}if(i===void 0&&(this.match(";")||(w=this.parseExpression()),this.expect(";"),this.match(")")||(S=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),x=this.finalize(this.createNode(),new a.EmptyStatement);else{this.expect(")");var G=this.context.inIteration;this.context.inIteration=!0,x=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=G}return i===void 0?this.finalize(C,new a.ForStatement(b,w,S,x)):D?this.finalize(C,new a.ForInStatement(i,s,x)):this.finalize(C,new a.ForOfStatement(i,s,x))},g.prototype.parseContinueStatement=function(){var i=this.createNode();this.expectKeyword("continue");var s=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var x=this.parseVariableIdentifier();s=x;var b="$"+x.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,b)||this.throwError(t.Messages.UnknownLabel,x.name)}return this.consumeSemicolon(),s!==null||this.context.inIteration||this.throwError(t.Messages.IllegalContinue),this.finalize(i,new a.ContinueStatement(s))},g.prototype.parseBreakStatement=function(){var i=this.createNode();this.expectKeyword("break");var s=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var x=this.parseVariableIdentifier(),b="$"+x.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,b)||this.throwError(t.Messages.UnknownLabel,x.name),s=x}return this.consumeSemicolon(),s!==null||this.context.inIteration||this.context.inSwitch||this.throwError(t.Messages.IllegalBreak),this.finalize(i,new a.BreakStatement(s))},g.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(t.Messages.IllegalReturn);var i=this.createNode();this.expectKeyword("return");var s=(this.match(";")||this.match("}")||this.hasLineTerminator||this.lookahead.type===2)&&this.lookahead.type!==8&&this.lookahead.type!==10?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(i,new a.ReturnStatement(s))},g.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(t.Messages.StrictModeWith);var i,s=this.createNode();this.expectKeyword("with"),this.expect("(");var x=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),i=this.finalize(this.createNode(),new a.EmptyStatement)):(this.expect(")"),i=this.parseStatement()),this.finalize(s,new a.WithStatement(x,i))},g.prototype.parseSwitchCase=function(){var i,s=this.createNode();this.matchKeyword("default")?(this.nextToken(),i=null):(this.expectKeyword("case"),i=this.parseExpression()),this.expect(":");for(var x=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)x.push(this.parseStatementListItem());return this.finalize(s,new a.SwitchCase(i,x))},g.prototype.parseSwitchStatement=function(){var i=this.createNode();this.expectKeyword("switch"),this.expect("(");var s=this.parseExpression();this.expect(")");var x=this.context.inSwitch;this.context.inSwitch=!0;var b=[],w=!1;for(this.expect("{");!this.match("}");){var S=this.parseSwitchCase();S.test===null&&(w&&this.throwError(t.Messages.MultipleDefaultsInSwitch),w=!0),b.push(S)}return this.expect("}"),this.context.inSwitch=x,this.finalize(i,new a.SwitchStatement(s,b))},g.prototype.parseLabelledStatement=function(){var i,s=this.createNode(),x=this.parseExpression();if(x.type===p.Syntax.Identifier&&this.match(":")){this.nextToken();var b=x,w="$"+b.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,w)&&this.throwError(t.Messages.Redeclaration,"Label",b.name),this.context.labelSet[w]=!0;var S=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),S=this.parseClassDeclaration();else if(this.matchKeyword("function")){var D=this.lookahead,C=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(D,t.Messages.StrictFunction):C.generator&&this.tolerateUnexpectedToken(D,t.Messages.GeneratorInLegacyContext),S=C}else S=this.parseStatement();delete this.context.labelSet[w],i=new a.LabeledStatement(b,S)}else this.consumeSemicolon(),i=new a.ExpressionStatement(x);return this.finalize(s,i)},g.prototype.parseThrowStatement=function(){var i=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(t.Messages.NewlineAfterThrow);var s=this.parseExpression();return this.consumeSemicolon(),this.finalize(i,new a.ThrowStatement(s))},g.prototype.parseCatchClause=function(){var i=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var s=[],x=this.parsePattern(s),b={},w=0;w<s.length;w++){var S="$"+s[w].value;Object.prototype.hasOwnProperty.call(b,S)&&this.tolerateError(t.Messages.DuplicateBinding,s[w].value),b[S]=!0}this.context.strict&&x.type===p.Syntax.Identifier&&this.scanner.isRestrictedWord(x.name)&&this.tolerateError(t.Messages.StrictCatchVariable),this.expect(")");var D=this.parseBlock();return this.finalize(i,new a.CatchClause(x,D))},g.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},g.prototype.parseTryStatement=function(){var i=this.createNode();this.expectKeyword("try");var s=this.parseBlock(),x=this.matchKeyword("catch")?this.parseCatchClause():null,b=this.matchKeyword("finally")?this.parseFinallyClause():null;return x||b||this.throwError(t.Messages.NoCatchOrFinally),this.finalize(i,new a.TryStatement(s,x,b))},g.prototype.parseDebuggerStatement=function(){var i=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(i,new a.DebuggerStatement)},g.prototype.parseStatement=function(){var i;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:i=this.parseExpressionStatement();break;case 7:var s=this.lookahead.value;i=s==="{"?this.parseBlock():s==="("?this.parseExpressionStatement():s===";"?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:i=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":i=this.parseBreakStatement();break;case"continue":i=this.parseContinueStatement();break;case"debugger":i=this.parseDebuggerStatement();break;case"do":i=this.parseDoWhileStatement();break;case"for":i=this.parseForStatement();break;case"function":i=this.parseFunctionDeclaration();break;case"if":i=this.parseIfStatement();break;case"return":i=this.parseReturnStatement();break;case"switch":i=this.parseSwitchStatement();break;case"throw":i=this.parseThrowStatement();break;case"try":i=this.parseTryStatement();break;case"var":i=this.parseVariableStatement();break;case"while":i=this.parseWhileStatement();break;case"with":i=this.parseWithStatement();break;default:i=this.parseExpressionStatement()}break;default:i=this.throwUnexpectedToken(this.lookahead)}return i},g.prototype.parseFunctionSourceElements=function(){var i=this.createNode();this.expect("{");var s=this.parseDirectivePrologues(),x=this.context.labelSet,b=this.context.inIteration,w=this.context.inSwitch,S=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)s.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=x,this.context.inIteration=b,this.context.inSwitch=w,this.context.inFunctionBody=S,this.finalize(i,new a.BlockStatement(s))},g.prototype.validateParam=function(i,s,x){var b="$"+x;this.context.strict?(this.scanner.isRestrictedWord(x)&&(i.stricted=s,i.message=t.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(i.paramSet,b)&&(i.stricted=s,i.message=t.Messages.StrictParamDupe)):i.firstRestricted||(this.scanner.isRestrictedWord(x)?(i.firstRestricted=s,i.message=t.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(x)?(i.firstRestricted=s,i.message=t.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(i.paramSet,b)&&(i.stricted=s,i.message=t.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(i.paramSet,b,{value:!0,enumerable:!0,writable:!0,configurable:!0}):i.paramSet[b]=!0},g.prototype.parseRestElement=function(i){var s=this.createNode();this.expect("...");var x=this.parsePattern(i);return this.match("=")&&this.throwError(t.Messages.DefaultRestParameter),this.match(")")||this.throwError(t.Messages.ParameterAfterRestParameter),this.finalize(s,new a.RestElement(x))},g.prototype.parseFormalParameter=function(i){for(var s=[],x=this.match("...")?this.parseRestElement(s):this.parsePatternWithDefault(s),b=0;b<s.length;b++)this.validateParam(i,s[b],s[b].value);i.simple=i.simple&&x instanceof a.Identifier,i.params.push(x)},g.prototype.parseFormalParameters=function(i){var s;if(s={simple:!0,params:[],firstRestricted:i},this.expect("("),!this.match(")"))for(s.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(s),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:s.simple,params:s.params,stricted:s.stricted,firstRestricted:s.firstRestricted,message:s.message}},g.prototype.matchAsyncFunction=function(){var i=this.matchContextualKeyword("async");if(i){var s=this.scanner.saveState();this.scanner.scanComments();var x=this.scanner.lex();this.scanner.restoreState(s),i=s.lineNumber===x.lineNumber&&x.type===4&&x.value==="function"}return i},g.prototype.parseFunctionDeclaration=function(i){var s=this.createNode(),x=this.matchContextualKeyword("async");x&&this.nextToken(),this.expectKeyword("function");var b,w=!x&&this.match("*");w&&this.nextToken();var S=null,D=null;if(!i||!this.match("(")){var C=this.lookahead;S=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(C.value)&&this.tolerateUnexpectedToken(C,t.Messages.StrictFunctionName):this.scanner.isRestrictedWord(C.value)?(D=C,b=t.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(C.value)&&(D=C,b=t.Messages.StrictReservedWord)}var A=this.context.await,T=this.context.allowYield;this.context.await=x,this.context.allowYield=!w;var O=this.parseFormalParameters(D),I=O.params,k=O.stricted;D=O.firstRestricted,O.message&&(b=O.message);var R=this.context.strict,G=this.context.allowStrictDirective;this.context.allowStrictDirective=O.simple;var W=this.parseFunctionSourceElements();return this.context.strict&&D&&this.throwUnexpectedToken(D,b),this.context.strict&&k&&this.tolerateUnexpectedToken(k,b),this.context.strict=R,this.context.allowStrictDirective=G,this.context.await=A,this.context.allowYield=T,x?this.finalize(s,new a.AsyncFunctionDeclaration(S,I,W)):this.finalize(s,new a.FunctionDeclaration(S,I,W,w))},g.prototype.parseFunctionExpression=function(){var i=this.createNode(),s=this.matchContextualKeyword("async");s&&this.nextToken(),this.expectKeyword("function");var x,b=!s&&this.match("*");b&&this.nextToken();var w,S=null,D=this.context.await,C=this.context.allowYield;if(this.context.await=s,this.context.allowYield=!b,!this.match("(")){var A=this.lookahead;S=this.context.strict||b||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(A.value)&&this.tolerateUnexpectedToken(A,t.Messages.StrictFunctionName):this.scanner.isRestrictedWord(A.value)?(w=A,x=t.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(A.value)&&(w=A,x=t.Messages.StrictReservedWord)}var T=this.parseFormalParameters(w),O=T.params,I=T.stricted;w=T.firstRestricted,T.message&&(x=T.message);var k=this.context.strict,R=this.context.allowStrictDirective;this.context.allowStrictDirective=T.simple;var G=this.parseFunctionSourceElements();return this.context.strict&&w&&this.throwUnexpectedToken(w,x),this.context.strict&&I&&this.tolerateUnexpectedToken(I,x),this.context.strict=k,this.context.allowStrictDirective=R,this.context.await=D,this.context.allowYield=C,s?this.finalize(i,new a.AsyncFunctionExpression(S,O,G)):this.finalize(i,new a.FunctionExpression(S,O,G,b))},g.prototype.parseDirective=function(){var i=this.lookahead,s=this.createNode(),x=this.parseExpression(),b=x.type===p.Syntax.Literal?this.getTokenRaw(i).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(s,b?new a.Directive(x,b):new a.ExpressionStatement(x))},g.prototype.parseDirectivePrologues=function(){for(var i=null,s=[];;){var x=this.lookahead;if(x.type!==8)break;var b=this.parseDirective();s.push(b);var w=b.directive;if(typeof w!="string")break;w==="use strict"?(this.context.strict=!0,i&&this.tolerateUnexpectedToken(i,t.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(x,t.Messages.IllegalLanguageModeDirective)):!i&&x.octal&&(i=x)}return s},g.prototype.qualifiedPropertyName=function(i){switch(i.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return i.value==="["}return!1},g.prototype.parseGetterMethod=function(){var i=this.createNode(),s=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters();x.params.length>0&&this.tolerateError(t.Messages.BadGetterArity);var b=this.parsePropertyMethod(x);return this.context.allowYield=s,this.finalize(i,new a.FunctionExpression(null,x.params,b,!1))},g.prototype.parseSetterMethod=function(){var i=this.createNode(),s=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters();x.params.length!==1?this.tolerateError(t.Messages.BadSetterArity):x.params[0]instanceof a.RestElement&&this.tolerateError(t.Messages.BadSetterRestParameter);var b=this.parsePropertyMethod(x);return this.context.allowYield=s,this.finalize(i,new a.FunctionExpression(null,x.params,b,!1))},g.prototype.parseGeneratorMethod=function(){var i=this.createNode(),s=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters();this.context.allowYield=!1;var b=this.parsePropertyMethod(x);return this.context.allowYield=s,this.finalize(i,new a.FunctionExpression(null,x.params,b,!0))},g.prototype.isStartOfExpression=function(){var i=!0,s=this.lookahead.value;switch(this.lookahead.type){case 7:i=s==="["||s==="("||s==="{"||s==="+"||s==="-"||s==="!"||s==="~"||s==="++"||s==="--"||s==="/"||s==="/=";break;case 4:i=s==="class"||s==="delete"||s==="function"||s==="let"||s==="new"||s==="super"||s==="this"||s==="typeof"||s==="void"||s==="yield"}return i},g.prototype.parseYieldExpression=function(){var i=this.createNode();this.expectKeyword("yield");var s=null,x=!1;if(!this.hasLineTerminator){var b=this.context.allowYield;this.context.allowYield=!1,(x=this.match("*"))?(this.nextToken(),s=this.parseAssignmentExpression()):this.isStartOfExpression()&&(s=this.parseAssignmentExpression()),this.context.allowYield=b}return this.finalize(i,new a.YieldExpression(s,x))},g.prototype.parseClassElement=function(i){var s=this.lookahead,x=this.createNode(),b="",w=null,S=null,D=!1,C=!1,A=!1,T=!1;if(this.match("*"))this.nextToken();else if(D=this.match("["),(w=this.parseObjectPropertyKey()).name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(s=this.lookahead,A=!0,D=this.match("["),this.match("*")?this.nextToken():w=this.parseObjectPropertyKey()),s.type===3&&!this.hasLineTerminator&&s.value==="async"){var O=this.lookahead.value;O!==":"&&O!=="("&&O!=="*"&&(T=!0,s=this.lookahead,w=this.parseObjectPropertyKey(),s.type===3&&s.value==="constructor"&&this.tolerateUnexpectedToken(s,t.Messages.ConstructorIsAsync))}var I=this.qualifiedPropertyName(this.lookahead);return s.type===3?s.value==="get"&&I?(b="get",D=this.match("["),w=this.parseObjectPropertyKey(),this.context.allowYield=!1,S=this.parseGetterMethod()):s.value==="set"&&I&&(b="set",D=this.match("["),w=this.parseObjectPropertyKey(),S=this.parseSetterMethod()):s.type===7&&s.value==="*"&&I&&(b="init",D=this.match("["),w=this.parseObjectPropertyKey(),S=this.parseGeneratorMethod(),C=!0),!b&&w&&this.match("(")&&(b="init",S=T?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),C=!0),b||this.throwUnexpectedToken(this.lookahead),b==="init"&&(b="method"),D||(A&&this.isPropertyKey(w,"prototype")&&this.throwUnexpectedToken(s,t.Messages.StaticPrototype),!A&&this.isPropertyKey(w,"constructor")&&((b!=="method"||!C||S&&S.generator)&&this.throwUnexpectedToken(s,t.Messages.ConstructorSpecialMethod),i.value?this.throwUnexpectedToken(s,t.Messages.DuplicateConstructor):i.value=!0,b="constructor")),this.finalize(x,new a.MethodDefinition(w,D,S,b,A))},g.prototype.parseClassElementList=function(){var i=[],s={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():i.push(this.parseClassElement(s));return this.expect("}"),i},g.prototype.parseClassBody=function(){var i=this.createNode(),s=this.parseClassElementList();return this.finalize(i,new a.ClassBody(s))},g.prototype.parseClassDeclaration=function(i){var s=this.createNode(),x=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var b=i&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),w=null;this.matchKeyword("extends")&&(this.nextToken(),w=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var S=this.parseClassBody();return this.context.strict=x,this.finalize(s,new a.ClassDeclaration(b,w,S))},g.prototype.parseClassExpression=function(){var i=this.createNode(),s=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var x=this.lookahead.type===3?this.parseVariableIdentifier():null,b=null;this.matchKeyword("extends")&&(this.nextToken(),b=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var w=this.parseClassBody();return this.context.strict=s,this.finalize(i,new a.ClassExpression(x,b,w))},g.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var i=this.createNode(),s=this.parseDirectivePrologues();this.lookahead.type!==2;)s.push(this.parseStatementListItem());return this.finalize(i,new a.Module(s))},g.prototype.parseScript=function(){for(var i=this.createNode(),s=this.parseDirectivePrologues();this.lookahead.type!==2;)s.push(this.parseStatementListItem());return this.finalize(i,new a.Script(s))},g.prototype.parseModuleSpecifier=function(){var i=this.createNode();this.lookahead.type!==8&&this.throwError(t.Messages.InvalidModuleSpecifier);var s=this.nextToken(),x=this.getTokenRaw(s);return this.finalize(i,new a.Literal(s.value,x))},g.prototype.parseImportSpecifier=function(){var i,s,x=this.createNode();return this.lookahead.type===3?(s=i=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),s=this.parseVariableIdentifier())):(s=i=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),s=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(x,new a.ImportSpecifier(s,i))},g.prototype.parseNamedImports=function(){this.expect("{");for(var i=[];!this.match("}");)i.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),i},g.prototype.parseImportDefaultSpecifier=function(){var i=this.createNode(),s=this.parseIdentifierName();return this.finalize(i,new a.ImportDefaultSpecifier(s))},g.prototype.parseImportNamespaceSpecifier=function(){var i=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(t.Messages.NoAsAfterImportNamespace),this.nextToken();var s=this.parseIdentifierName();return this.finalize(i,new a.ImportNamespaceSpecifier(s))},g.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(t.Messages.IllegalImportDeclaration);var i,s=this.createNode();this.expectKeyword("import");var x=[];if(this.lookahead.type===8)i=this.parseModuleSpecifier();else{if(this.match("{")?x=x.concat(this.parseNamedImports()):this.match("*")?x.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(x.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?x.push(this.parseImportNamespaceSpecifier()):this.match("{")?x=x.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var b=this.lookahead.value?t.Messages.UnexpectedToken:t.Messages.MissingFromClause;this.throwError(b,this.lookahead.value)}this.nextToken(),i=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(s,new a.ImportDeclaration(x,i))},g.prototype.parseExportSpecifier=function(){var i=this.createNode(),s=this.parseIdentifierName(),x=s;return this.matchContextualKeyword("as")&&(this.nextToken(),x=this.parseIdentifierName()),this.finalize(i,new a.ExportSpecifier(s,x))},g.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(t.Messages.IllegalExportDeclaration);var i,s=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var x=this.parseFunctionDeclaration(!0);i=this.finalize(s,new a.ExportDefaultDeclaration(x))}else this.matchKeyword("class")?(x=this.parseClassDeclaration(!0),i=this.finalize(s,new a.ExportDefaultDeclaration(x))):this.matchContextualKeyword("async")?(x=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),i=this.finalize(s,new a.ExportDefaultDeclaration(x))):(this.matchContextualKeyword("from")&&this.throwError(t.Messages.UnexpectedToken,this.lookahead.value),x=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),i=this.finalize(s,new a.ExportDefaultDeclaration(x)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var b=this.lookahead.value?t.Messages.UnexpectedToken:t.Messages.MissingFromClause;this.throwError(b,this.lookahead.value)}this.nextToken();var w=this.parseModuleSpecifier();this.consumeSemicolon(),i=this.finalize(s,new a.ExportAllDeclaration(w))}else if(this.lookahead.type===4){switch(x=void 0,this.lookahead.value){case"let":case"const":x=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":x=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}i=this.finalize(s,new a.ExportNamedDeclaration(x,[],null))}else if(this.matchAsyncFunction())x=this.parseFunctionDeclaration(),i=this.finalize(s,new a.ExportNamedDeclaration(x,[],null));else{var S=[],D=null,C=!1;for(this.expect("{");!this.match("}");)C=C||this.matchKeyword("default"),S.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),D=this.parseModuleSpecifier(),this.consumeSemicolon()):C?(b=this.lookahead.value?t.Messages.UnexpectedToken:t.Messages.MissingFromClause,this.throwError(b,this.lookahead.value)):this.consumeSemicolon(),i=this.finalize(s,new a.ExportNamedDeclaration(null,S,D))}return i},g}();l.Parser=y},function(d,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assert=function(u,n){if(!u)throw new Error("ASSERT: "+n)}},function(d,l){Object.defineProperty(l,"__esModule",{value:!0});var u=function(){function n(){this.errors=[],this.tolerant=!1}return n.prototype.recordError=function(h){this.errors.push(h)},n.prototype.tolerate=function(h){if(!this.tolerant)throw h;this.recordError(h)},n.prototype.constructError=function(h,t){var a=new Error(h);try{throw a}catch(f){Object.create&&Object.defineProperty&&(a=Object.create(f),Object.defineProperty(a,"column",{value:t}))}return a},n.prototype.createError=function(h,t,a,f){var p="Line "+t+": "+f,m=this.constructError(p,a);return m.index=h,m.lineNumber=t,m.description=f,m},n.prototype.throwError=function(h,t,a,f){throw this.createError(h,t,a,f)},n.prototype.tolerateError=function(h,t,a,f){var p=this.createError(h,t,a,f);if(!this.tolerant)throw p;this.recordError(p)},n}();l.ErrorHandler=u},function(d,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(d,l,u){Object.defineProperty(l,"__esModule",{value:!0});var n=u(9),h=u(4),t=u(11);function a(m){return"0123456789abcdef".indexOf(m.toLowerCase())}function f(m){return"01234567".indexOf(m)}var p=function(){function m(y,g){this.source=y,this.errorHandler=g,this.trackComment=!1,this.isModule=!1,this.length=y.length,this.index=0,this.lineNumber=y.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return m.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},m.prototype.restoreState=function(y){this.index=y.index,this.lineNumber=y.lineNumber,this.lineStart=y.lineStart},m.prototype.eof=function(){return this.index>=this.length},m.prototype.throwUnexpectedToken=function(y){return y===void 0&&(y=t.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,y)},m.prototype.tolerateUnexpectedToken=function(y){y===void 0&&(y=t.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,y)},m.prototype.skipSingleLineComment=function(y){var g,i,s=[];for(this.trackComment&&(s=[],g=this.index-y,i={start:{line:this.lineNumber,column:this.index-this.lineStart-y},end:{}});!this.eof();){var x=this.source.charCodeAt(this.index);if(++this.index,h.Character.isLineTerminator(x)){if(this.trackComment){i.end={line:this.lineNumber,column:this.index-this.lineStart-1};var b={multiLine:!1,slice:[g+y,this.index-1],range:[g,this.index-1],loc:i};s.push(b)}return x===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,s}}return this.trackComment&&(i.end={line:this.lineNumber,column:this.index-this.lineStart},b={multiLine:!1,slice:[g+y,this.index],range:[g,this.index],loc:i},s.push(b)),s},m.prototype.skipMultiLineComment=function(){var y,g,i=[];for(this.trackComment&&(i=[],y=this.index-2,g={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var s=this.source.charCodeAt(this.index);if(h.Character.isLineTerminator(s))s===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(s===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){g.end={line:this.lineNumber,column:this.index-this.lineStart};var x={multiLine:!0,slice:[y+2,this.index-2],range:[y,this.index],loc:g};i.push(x)}return i}++this.index}else++this.index}return this.trackComment&&(g.end={line:this.lineNumber,column:this.index-this.lineStart},x={multiLine:!0,slice:[y+2,this.index],range:[y,this.index],loc:g},i.push(x)),this.tolerateUnexpectedToken(),i},m.prototype.scanComments=function(){var y;this.trackComment&&(y=[]);for(var g=this.index===0;!this.eof();){var i=this.source.charCodeAt(this.index);if(h.Character.isWhiteSpace(i))++this.index;else if(h.Character.isLineTerminator(i))++this.index,i===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,g=!0;else if(i===47)if((i=this.source.charCodeAt(this.index+1))===47){this.index+=2;var s=this.skipSingleLineComment(2);this.trackComment&&(y=y.concat(s)),g=!0}else{if(i!==42)break;this.index+=2,s=this.skipMultiLineComment(),this.trackComment&&(y=y.concat(s))}else if(g&&i===45){if(this.source.charCodeAt(this.index+1)!==45||this.source.charCodeAt(this.index+2)!==62)break;this.index+=3,s=this.skipSingleLineComment(3),this.trackComment&&(y=y.concat(s))}else{if(i!==60||this.isModule||this.source.slice(this.index+1,this.index+4)!=="!--")break;this.index+=4,s=this.skipSingleLineComment(4),this.trackComment&&(y=y.concat(s))}}return y},m.prototype.isFutureReservedWord=function(y){switch(y){case"enum":case"export":case"import":case"super":return!0;default:return!1}},m.prototype.isStrictModeReservedWord=function(y){switch(y){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},m.prototype.isRestrictedWord=function(y){return y==="eval"||y==="arguments"},m.prototype.isKeyword=function(y){switch(y.length){case 2:return y==="if"||y==="in"||y==="do";case 3:return y==="var"||y==="for"||y==="new"||y==="try"||y==="let";case 4:return y==="this"||y==="else"||y==="case"||y==="void"||y==="with"||y==="enum";case 5:return y==="while"||y==="break"||y==="catch"||y==="throw"||y==="const"||y==="yield"||y==="class"||y==="super";case 6:return y==="return"||y==="typeof"||y==="delete"||y==="switch"||y==="export"||y==="import";case 7:return y==="default"||y==="finally"||y==="extends";case 8:return y==="function"||y==="continue"||y==="debugger";case 10:return y==="instanceof";default:return!1}},m.prototype.codePointAt=function(y){var g=this.source.charCodeAt(y);if(g>=55296&&g<=56319){var i=this.source.charCodeAt(y+1);i>=56320&&i<=57343&&(g=1024*(g-55296)+i-56320+65536)}return g},m.prototype.scanHexEscape=function(y){for(var g=y==="u"?4:2,i=0,s=0;s<g;++s){if(this.eof()||!h.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;i=16*i+a(this.source[this.index++])}return String.fromCharCode(i)},m.prototype.scanUnicodeCodePointEscape=function(){var y=this.source[this.index],g=0;for(y==="}"&&this.throwUnexpectedToken();!this.eof()&&(y=this.source[this.index++],h.Character.isHexDigit(y.charCodeAt(0)));)g=16*g+a(y);return(g>1114111||y!=="}")&&this.throwUnexpectedToken(),h.Character.fromCodePoint(g)},m.prototype.getIdentifier=function(){for(var y=this.index++;!this.eof();){var g=this.source.charCodeAt(this.index);if(g===92)return this.index=y,this.getComplexIdentifier();if(g>=55296&&g<57343)return this.index=y,this.getComplexIdentifier();if(!h.Character.isIdentifierPart(g))break;++this.index}return this.source.slice(y,this.index)},m.prototype.getComplexIdentifier=function(){var y,g=this.codePointAt(this.index),i=h.Character.fromCodePoint(g);for(this.index+=i.length,g===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,y=this.scanUnicodeCodePointEscape()):(y=this.scanHexEscape("u"))!==null&&y!=="\\"&&h.Character.isIdentifierStart(y.charCodeAt(0))||this.throwUnexpectedToken(),i=y);!this.eof()&&(g=this.codePointAt(this.index),h.Character.isIdentifierPart(g));)i+=y=h.Character.fromCodePoint(g),this.index+=y.length,g===92&&(i=i.substr(0,i.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,y=this.scanUnicodeCodePointEscape()):(y=this.scanHexEscape("u"))!==null&&y!=="\\"&&h.Character.isIdentifierPart(y.charCodeAt(0))||this.throwUnexpectedToken(),i+=y);return i},m.prototype.octalToDecimal=function(y){var g=y!=="0",i=f(y);return!this.eof()&&h.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(g=!0,i=8*i+f(this.source[this.index++]),"0123".indexOf(y)>=0&&!this.eof()&&h.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(i=8*i+f(this.source[this.index++]))),{code:i,octal:g}},m.prototype.scanIdentifier=function(){var y,g=this.index,i=this.source.charCodeAt(g)===92?this.getComplexIdentifier():this.getIdentifier();if((y=i.length===1?3:this.isKeyword(i)?4:i==="null"?5:i==="true"||i==="false"?1:3)!=3&&g+i.length!==this.index){var s=this.index;this.index=g,this.tolerateUnexpectedToken(t.Messages.InvalidEscapedReservedWord),this.index=s}return{type:y,value:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}},m.prototype.scanPunctuator=function(){var y=this.index,g=this.source[this.index];switch(g){case"(":case"{":g==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,g="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:(g=this.source.substr(this.index,4))===">>>="?this.index+=4:(g=g.substr(0,3))==="==="||g==="!=="||g===">>>"||g==="<<="||g===">>="||g==="**="?this.index+=3:(g=g.substr(0,2))==="&&"||g==="||"||g==="=="||g==="!="||g==="+="||g==="-="||g==="*="||g==="/="||g==="++"||g==="--"||g==="<<"||g===">>"||g==="&="||g==="|="||g==="^="||g==="%="||g==="<="||g===">="||g==="=>"||g==="**"?this.index+=2:(g=this.source[this.index],"<>=!+-*%&|^/".indexOf(g)>=0&&++this.index)}return this.index===y&&this.throwUnexpectedToken(),{type:7,value:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},m.prototype.scanHexLiteral=function(y){for(var g="";!this.eof()&&h.Character.isHexDigit(this.source.charCodeAt(this.index));)g+=this.source[this.index++];return g.length===0&&this.throwUnexpectedToken(),h.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+g,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},m.prototype.scanBinaryLiteral=function(y){for(var g,i="";!this.eof()&&((g=this.source[this.index])==="0"||g==="1");)i+=this.source[this.index++];return i.length===0&&this.throwUnexpectedToken(),this.eof()||(g=this.source.charCodeAt(this.index),(h.Character.isIdentifierStart(g)||h.Character.isDecimalDigit(g))&&this.throwUnexpectedToken()),{type:6,value:parseInt(i,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},m.prototype.scanOctalLiteral=function(y,g){var i="",s=!1;for(h.Character.isOctalDigit(y.charCodeAt(0))?(s=!0,i="0"+this.source[this.index++]):++this.index;!this.eof()&&h.Character.isOctalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];return s||i.length!==0||this.throwUnexpectedToken(),(h.Character.isIdentifierStart(this.source.charCodeAt(this.index))||h.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(i,8),octal:s,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}},m.prototype.isImplicitOctalLiteral=function(){for(var y=this.index+1;y<this.length;++y){var g=this.source[y];if(g==="8"||g==="9")return!1;if(!h.Character.isOctalDigit(g.charCodeAt(0)))return!0}return!0},m.prototype.scanNumericLiteral=function(){var y=this.index,g=this.source[y];n.assert(h.Character.isDecimalDigit(g.charCodeAt(0))||g===".","Numeric literal must start with a decimal digit or a decimal point");var i="";if(g!=="."){if(i=this.source[this.index++],g=this.source[this.index],i==="0"){if(g==="x"||g==="X")return++this.index,this.scanHexLiteral(y);if(g==="b"||g==="B")return++this.index,this.scanBinaryLiteral(y);if(g==="o"||g==="O")return this.scanOctalLiteral(g,y);if(g&&h.Character.isOctalDigit(g.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(g,y)}for(;h.Character.isDecimalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];g=this.source[this.index]}if(g==="."){for(i+=this.source[this.index++];h.Character.isDecimalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];g=this.source[this.index]}if(g==="e"||g==="E")if(i+=this.source[this.index++],(g=this.source[this.index])!=="+"&&g!=="-"||(i+=this.source[this.index++]),h.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;h.Character.isDecimalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];else this.throwUnexpectedToken();return h.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(i),lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},m.prototype.scanStringLiteral=function(){var y=this.index,g=this.source[y];n.assert(g==="'"||g==='"',"String literal must starts with a quote"),++this.index;for(var i=!1,s="";!this.eof();){var x=this.source[this.index++];if(x===g){g="";break}if(x==="\\")if((x=this.source[this.index++])&&h.Character.isLineTerminator(x.charCodeAt(0)))++this.lineNumber,x==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(x){case"u":if(this.source[this.index]==="{")++this.index,s+=this.scanUnicodeCodePointEscape();else{var b=this.scanHexEscape(x);b===null&&this.throwUnexpectedToken(),s+=b}break;case"x":var w=this.scanHexEscape(x);w===null&&this.throwUnexpectedToken(t.Messages.InvalidHexEscapeSequence),s+=w;break;case"n":s+=`
`;break;case"r":s+="\r";break;case"t":s+="	";break;case"b":s+="\b";break;case"f":s+="\f";break;case"v":s+="\v";break;case"8":case"9":s+=x,this.tolerateUnexpectedToken();break;default:if(x&&h.Character.isOctalDigit(x.charCodeAt(0))){var S=this.octalToDecimal(x);i=S.octal||i,s+=String.fromCharCode(S.code)}else s+=x}else{if(h.Character.isLineTerminator(x.charCodeAt(0)))break;s+=x}}return g!==""&&(this.index=y,this.throwUnexpectedToken()),{type:8,value:s,octal:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},m.prototype.scanTemplate=function(){var y="",g=!1,i=this.index,s=this.source[i]==="`",x=!1,b=2;for(++this.index;!this.eof();){var w=this.source[this.index++];if(w==="`"){b=1,x=!0,g=!0;break}if(w==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,g=!0;break}y+=w}else if(w==="\\")if(w=this.source[this.index++],h.Character.isLineTerminator(w.charCodeAt(0)))++this.lineNumber,w==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(w){case"n":y+=`
`;break;case"r":y+="\r";break;case"t":y+="	";break;case"u":if(this.source[this.index]==="{")++this.index,y+=this.scanUnicodeCodePointEscape();else{var S=this.index,D=this.scanHexEscape(w);D!==null?y+=D:(this.index=S,y+=w)}break;case"x":var C=this.scanHexEscape(w);C===null&&this.throwUnexpectedToken(t.Messages.InvalidHexEscapeSequence),y+=C;break;case"b":y+="\b";break;case"f":y+="\f";break;case"v":y+="\v";break;default:w==="0"?(h.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(t.Messages.TemplateOctalLiteral),y+="\0"):h.Character.isOctalDigit(w.charCodeAt(0))?this.throwUnexpectedToken(t.Messages.TemplateOctalLiteral):y+=w}else h.Character.isLineTerminator(w.charCodeAt(0))?(++this.lineNumber,w==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,y+=`
`):y+=w}return g||this.throwUnexpectedToken(),s||this.curlyStack.pop(),{type:10,value:this.source.slice(i+1,this.index-b),cooked:y,head:s,tail:x,lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}},m.prototype.testRegExp=function(y,g){var i=y,s=this;g.indexOf("u")>=0&&(i=i.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(x,b,w){var S=parseInt(b||w,16);return S>1114111&&s.throwUnexpectedToken(t.Messages.InvalidRegExp),S<=65535?String.fromCharCode(S):"￿"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"￿"));try{RegExp(i)}catch{this.throwUnexpectedToken(t.Messages.InvalidRegExp)}try{return new RegExp(y,g)}catch{return null}},m.prototype.scanRegExpBody=function(){var y=this.source[this.index];n.assert(y==="/","Regular expression literal must start with a slash");for(var g=this.source[this.index++],i=!1,s=!1;!this.eof();)if(g+=y=this.source[this.index++],y==="\\")y=this.source[this.index++],h.Character.isLineTerminator(y.charCodeAt(0))&&this.throwUnexpectedToken(t.Messages.UnterminatedRegExp),g+=y;else if(h.Character.isLineTerminator(y.charCodeAt(0)))this.throwUnexpectedToken(t.Messages.UnterminatedRegExp);else if(i)y==="]"&&(i=!1);else{if(y==="/"){s=!0;break}y==="["&&(i=!0)}return s||this.throwUnexpectedToken(t.Messages.UnterminatedRegExp),g.substr(1,g.length-2)},m.prototype.scanRegExpFlags=function(){for(var y="";!this.eof();){var g=this.source[this.index];if(!h.Character.isIdentifierPart(g.charCodeAt(0)))break;if(++this.index,g!=="\\"||this.eof())y+=g;else if((g=this.source[this.index])==="u"){++this.index;var i=this.index,s=this.scanHexEscape("u");if(s!==null)for(y+=s;i<this.index;++i)this.source[i];else this.index=i,y+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return y},m.prototype.scanRegExp=function(){var y=this.index,g=this.scanRegExpBody(),i=this.scanRegExpFlags();return{type:9,value:"",pattern:g,flags:i,regex:this.testRegExp(g,i),lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},m.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var y=this.source.charCodeAt(this.index);return h.Character.isIdentifierStart(y)?this.scanIdentifier():y===40||y===41||y===59?this.scanPunctuator():y===39||y===34?this.scanStringLiteral():y===46?h.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():h.Character.isDecimalDigit(y)?this.scanNumericLiteral():y===96||y===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():y>=55296&&y<57343&&h.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},m}();l.Scanner=p},function(d,l){Object.defineProperty(l,"__esModule",{value:!0}),l.TokenName={},l.TokenName[1]="Boolean",l.TokenName[2]="<end>",l.TokenName[3]="Identifier",l.TokenName[4]="Keyword",l.TokenName[5]="Null",l.TokenName[6]="Numeric",l.TokenName[7]="Punctuator",l.TokenName[8]="String",l.TokenName[9]="RegularExpression",l.TokenName[10]="Template"},function(d,l){Object.defineProperty(l,"__esModule",{value:!0}),l.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",lang:"⟨",rang:"⟩"}},function(d,l,u){Object.defineProperty(l,"__esModule",{value:!0});var n=u(10),h=u(12),t=u(13),a=function(){function p(){this.values=[],this.curly=this.paren=-1}return p.prototype.beforeFunctionExpression=function(m){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(m)>=0},p.prototype.isRegexStart=function(){var m=this.values[this.values.length-1],y=m!==null;switch(m){case"this":case"]":y=!1;break;case")":var g=this.values[this.paren-1];y=g==="if"||g==="while"||g==="for"||g==="with";break;case"}":if(y=!1,this.values[this.curly-3]==="function")y=!!(i=this.values[this.curly-4])&&!this.beforeFunctionExpression(i);else if(this.values[this.curly-4]==="function"){var i;y=!(i=this.values[this.curly-5])||!this.beforeFunctionExpression(i)}}return y},p.prototype.push=function(m){m.type===7||m.type===4?(m.value==="{"?this.curly=this.values.length:m.value==="("&&(this.paren=this.values.length),this.values.push(m.value)):this.values.push(null)},p}(),f=function(){function p(m,y){this.errorHandler=new n.ErrorHandler,this.errorHandler.tolerant=!!y&&typeof y.tolerant=="boolean"&&y.tolerant,this.scanner=new h.Scanner(m,this.errorHandler),this.scanner.trackComment=!!y&&typeof y.comment=="boolean"&&y.comment,this.trackRange=!!y&&typeof y.range=="boolean"&&y.range,this.trackLoc=!!y&&typeof y.loc=="boolean"&&y.loc,this.buffer=[],this.reader=new a}return p.prototype.errors=function(){return this.errorHandler.errors},p.prototype.getNextToken=function(){if(this.buffer.length===0){var m=this.scanner.scanComments();if(this.scanner.trackComment)for(var y=0;y<m.length;++y){var g=m[y],i=this.scanner.source.slice(g.slice[0],g.slice[1]),s={type:g.multiLine?"BlockComment":"LineComment",value:i};this.trackRange&&(s.range=g.range),this.trackLoc&&(s.loc=g.loc),this.buffer.push(s)}if(!this.scanner.eof()){var x=void 0;this.trackLoc&&(x={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var b=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(b);var w={type:t.TokenName[b.type],value:this.scanner.source.slice(b.start,b.end)};if(this.trackRange&&(w.range=[b.start,b.end]),this.trackLoc&&(x.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},w.loc=x),b.type===9){var S=b.pattern,D=b.flags;w.regex={pattern:S,flags:D}}this.buffer.push(w)}}return this.buffer.shift()},p}();l.Tokenizer=f}])},v.exports=c()},function(v,o,r){var c=r(38),d=r(53),l=r(76),u=r(54),n=Object.prototype.toString,h=Object.prototype.hasOwnProperty,t={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},a=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function f(k){var R,G,W;if(R=k.toString(16).toUpperCase(),k<=255)G="x",W=2;else if(k<=65535)G="u",W=4;else{if(!(k<=4294967295))throw new d("code point within a string may not be greater than 0xFFFFFFFF");G="U",W=8}return"\\"+G+c.repeat("0",W-R.length)+R}function p(k){this.schema=k.schema||l,this.indent=Math.max(1,k.indent||2),this.noArrayIndent=k.noArrayIndent||!1,this.skipInvalid=k.skipInvalid||!1,this.flowLevel=c.isNothing(k.flowLevel)?-1:k.flowLevel,this.styleMap=function(R,G){var W,L,j,z,H,X,Y;if(G===null)return{};for(W={},j=0,z=(L=Object.keys(G)).length;j<z;j+=1)H=L[j],X=String(G[H]),H.slice(0,2)==="!!"&&(H="tag:yaml.org,2002:"+H.slice(2)),(Y=R.compiledTypeMap.fallback[H])&&h.call(Y.styleAliases,X)&&(X=Y.styleAliases[X]),W[H]=X;return W}(this.schema,k.styles||null),this.sortKeys=k.sortKeys||!1,this.lineWidth=k.lineWidth||80,this.noRefs=k.noRefs||!1,this.noCompatMode=k.noCompatMode||!1,this.condenseFlow=k.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function m(k,R){for(var G,W=c.repeat(" ",R),L=0,j=-1,z="",H=k.length;L<H;)(j=k.indexOf(`
`,L))===-1?(G=k.slice(L),L=H):(G=k.slice(L,j+1),L=j+1),G.length&&G!==`
`&&(z+=W),z+=G;return z}function y(k,R){return`
`+c.repeat(" ",k.indent*R)}function g(k){return k===32||k===9}function i(k){return 32<=k&&k<=126||161<=k&&k<=55295&&k!==8232&&k!==8233||57344<=k&&k<=65533&&k!==65279||65536<=k&&k<=1114111}function s(k,R){return i(k)&&k!==65279&&k!==44&&k!==91&&k!==93&&k!==123&&k!==125&&k!==58&&(k!==35||R&&function(G){return i(G)&&!g(G)&&G!==65279&&G!==13&&G!==10}(R))}function x(k){return/^\n* /.test(k)}function b(k,R,G,W,L){var j,z,H,X,Y=!1,Z=!1,q=W!==-1,ee=-1,re=i(X=k.charCodeAt(0))&&X!==65279&&!g(X)&&X!==45&&X!==63&&X!==58&&X!==44&&X!==91&&X!==93&&X!==123&&X!==125&&X!==35&&X!==38&&X!==42&&X!==33&&X!==124&&X!==61&&X!==62&&X!==39&&X!==34&&X!==37&&X!==64&&X!==96&&!g(k.charCodeAt(k.length-1));if(R)for(j=0;j<k.length;j++){if(!i(z=k.charCodeAt(j)))return 5;H=j>0?k.charCodeAt(j-1):null,re=re&&s(z,H)}else{for(j=0;j<k.length;j++){if((z=k.charCodeAt(j))===10)Y=!0,q&&(Z=Z||j-ee-1>W&&k[ee+1]!==" ",ee=j);else if(!i(z))return 5;H=j>0?k.charCodeAt(j-1):null,re=re&&s(z,H)}Z=Z||q&&j-ee-1>W&&k[ee+1]!==" "}return Y||Z?G>9&&x(k)?5:Z?4:3:re&&!L(k)?1:2}function w(k,R,G,W){k.dump=function(){if(R.length===0)return"''";if(!k.noCompatMode&&a.indexOf(R)!==-1)return"'"+R+"'";var L=k.indent*Math.max(1,G),j=k.lineWidth===-1?-1:Math.max(Math.min(k.lineWidth,40),k.lineWidth-L),z=W||k.flowLevel>-1&&G>=k.flowLevel;switch(b(R,z,k.indent,j,function(H){return function(X,Y){var Z,q;for(Z=0,q=X.implicitTypes.length;Z<q;Z+=1)if(X.implicitTypes[Z].resolve(Y))return!0;return!1}(k,H)})){case 1:return R;case 2:return"'"+R.replace(/'/g,"''")+"'";case 3:return"|"+S(R,k.indent)+D(m(R,L));case 4:return">"+S(R,k.indent)+D(m(function(H,X){for(var Y,Z,q=/(\n+)([^\n]*)/g,ee=(ae=H.indexOf(`
`),ae=ae!==-1?ae:H.length,q.lastIndex=ae,C(H.slice(0,ae),X)),re=H[0]===`
`||H[0]===" ",ae;Z=q.exec(H);){var Q=Z[1],N=Z[2];Y=N[0]===" ",ee+=Q+(re||Y||N===""?"":`
`)+C(N,X),re=Y}return ee}(R,j),L));case 5:return'"'+function(H){for(var X,Y,Z,q="",ee=0;ee<H.length;ee++)(X=H.charCodeAt(ee))>=55296&&X<=56319&&(Y=H.charCodeAt(ee+1))>=56320&&Y<=57343?(q+=f(1024*(X-55296)+Y-56320+65536),ee++):(Z=t[X],q+=!Z&&i(X)?H[ee]:Z||f(X));return q}(R)+'"';default:throw new d("impossible error: invalid scalar style")}}()}function S(k,R){var G=x(k)?String(R):"",W=k[k.length-1]===`
`;return G+(W&&(k[k.length-2]===`
`||k===`
`)?"+":W?"":"-")+`
`}function D(k){return k[k.length-1]===`
`?k.slice(0,-1):k}function C(k,R){if(k===""||k[0]===" ")return k;for(var G,W,L=/ [^ ]/g,j=0,z=0,H=0,X="";G=L.exec(k);)(H=G.index)-j>R&&(W=z>j?z:H,X+=`
`+k.slice(j,W),j=W+1),z=H;return X+=`
`,k.length-j>R&&z>j?X+=k.slice(j,z)+`
`+k.slice(z+1):X+=k.slice(j),X.slice(1)}function A(k,R,G){var W,L,j,z,H,X;for(j=0,z=(L=G?k.explicitTypes:k.implicitTypes).length;j<z;j+=1)if(((H=L[j]).instanceOf||H.predicate)&&(!H.instanceOf||typeof R=="object"&&R instanceof H.instanceOf)&&(!H.predicate||H.predicate(R))){if(k.tag=G?H.tag:"?",H.represent){if(X=k.styleMap[H.tag]||H.defaultStyle,n.call(H.represent)==="[object Function]")W=H.represent(R,X);else{if(!h.call(H.represent,X))throw new d("!<"+H.tag+'> tag resolver accepts not "'+X+'" style');W=H.represent[X](R,X)}k.dump=W}return!0}return!1}function T(k,R,G,W,L,j){k.tag=null,k.dump=G,A(k,G,!1)||A(k,G,!0);var z=n.call(k.dump);W&&(W=k.flowLevel<0||k.flowLevel>R);var H,X,Y=z==="[object Object]"||z==="[object Array]";if(Y&&(X=(H=k.duplicates.indexOf(G))!==-1),(k.tag!==null&&k.tag!=="?"||X||k.indent!==2&&R>0)&&(L=!1),X&&k.usedDuplicates[H])k.dump="*ref_"+H;else{if(Y&&X&&!k.usedDuplicates[H]&&(k.usedDuplicates[H]=!0),z==="[object Object]")W&&Object.keys(k.dump).length!==0?(function(q,ee,re,ae){var Q,N,E,P,F,M,B="",U=q.tag,$=Object.keys(re);if(q.sortKeys===!0)$.sort();else if(typeof q.sortKeys=="function")$.sort(q.sortKeys);else if(q.sortKeys)throw new d("sortKeys must be a boolean or a function");for(Q=0,N=$.length;Q<N;Q+=1)M="",ae&&Q===0||(M+=y(q,ee)),P=re[E=$[Q]],T(q,ee+1,E,!0,!0,!0)&&((F=q.tag!==null&&q.tag!=="?"||q.dump&&q.dump.length>1024)&&(q.dump&&q.dump.charCodeAt(0)===10?M+="?":M+="? "),M+=q.dump,F&&(M+=y(q,ee)),T(q,ee+1,P,!0,F)&&(q.dump&&q.dump.charCodeAt(0)===10?M+=":":M+=": ",B+=M+=q.dump));q.tag=U,q.dump=B||"{}"}(k,R,k.dump,L),X&&(k.dump="&ref_"+H+k.dump)):(function(q,ee,re){var ae,Q,N,E,P,F="",M=q.tag,B=Object.keys(re);for(ae=0,Q=B.length;ae<Q;ae+=1)P="",ae!==0&&(P+=", "),q.condenseFlow&&(P+='"'),E=re[N=B[ae]],T(q,ee,N,!1,!1)&&(q.dump.length>1024&&(P+="? "),P+=q.dump+(q.condenseFlow?'"':"")+":"+(q.condenseFlow?"":" "),T(q,ee,E,!1,!1)&&(F+=P+=q.dump));q.tag=M,q.dump="{"+F+"}"}(k,R,k.dump),X&&(k.dump="&ref_"+H+" "+k.dump));else if(z==="[object Array]"){var Z=k.noArrayIndent&&R>0?R-1:R;W&&k.dump.length!==0?(function(q,ee,re,ae){var Q,N,E="",P=q.tag;for(Q=0,N=re.length;Q<N;Q+=1)T(q,ee+1,re[Q],!0,!0)&&(ae&&Q===0||(E+=y(q,ee)),q.dump&&q.dump.charCodeAt(0)===10?E+="-":E+="- ",E+=q.dump);q.tag=P,q.dump=E||"[]"}(k,Z,k.dump,L),X&&(k.dump="&ref_"+H+k.dump)):(function(q,ee,re){var ae,Q,N="",E=q.tag;for(ae=0,Q=re.length;ae<Q;ae+=1)T(q,ee,re[ae],!1,!1)&&(ae!==0&&(N+=","+(q.condenseFlow?"":" ")),N+=q.dump);q.tag=E,q.dump="["+N+"]"}(k,Z,k.dump),X&&(k.dump="&ref_"+H+" "+k.dump))}else{if(z!=="[object String]"){if(k.skipInvalid)return!1;throw new d("unacceptable kind of an object to dump "+z)}k.tag!=="?"&&w(k,k.dump,R,j)}k.tag!==null&&k.tag!=="?"&&(k.dump="!<"+k.tag+"> "+k.dump)}return!0}function O(k,R){var G,W,L=[],j=[];for(function z(H,X,Y){var Z,q,ee;if(H!==null&&typeof H=="object")if((q=X.indexOf(H))!==-1)Y.indexOf(q)===-1&&Y.push(q);else if(X.push(H),Array.isArray(H))for(q=0,ee=H.length;q<ee;q+=1)z(H[q],X,Y);else for(Z=Object.keys(H),q=0,ee=Z.length;q<ee;q+=1)z(H[Z[q]],X,Y)}(k,L,j),G=0,W=j.length;G<W;G+=1)R.duplicates.push(L[j[G]]);R.usedDuplicates=new Array(W)}function I(k,R){var G=new p(R=R||{});return G.noRefs||O(k,G),T(G,0,k,!0,!0)?G.dump+`
`:""}v.exports.dump=I,v.exports.safeDump=function(k,R){return I(k,c.extend({schema:u},R))}},function(v,o,r){r(31),r(32),r(33),r(64),r(19),r(65),r(20),r(68),r(92),r(144),r(22),r(94),r(23);var c,d=this&&this.__extends||(c=function(b,w){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,D){S.__proto__=D}||function(S,D){for(var C in D)D.hasOwnProperty(C)&&(S[C]=D[C])})(b,w)},function(b,w){function S(){this.constructor=b}c(b,w),b.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)}),l=this&&this.__values||function(b){var w=typeof Symbol=="function"&&Symbol.iterator,S=w&&b[w],D=0;if(S)return S.call(b);if(b&&typeof b.length=="number")return{next:function(){return b&&D>=b.length&&(b=void 0),{value:b&&b[D++],done:!b}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(b,w){var S=typeof Symbol=="function"&&b[Symbol.iterator];if(!S)return b;var D,C,A=S.call(b),T=[];try{for(;(w===void 0||w-- >0)&&!(D=A.next()).done;)T.push(D.value)}catch(O){C={error:O}}finally{try{D&&!D.done&&(S=A.return)&&S.call(A)}finally{if(C)throw C.error}}return T};Object.defineProperty(o,"__esModule",{value:!0});var n=r(91),h=r(1),t=r(183),a=r(0),f=r(7),p=r(95),m=r(69),y=r(3),g=r(305),i=r(306),s=r(307),x=function(b){function w(S,D){D===void 0&&(D=!1);var C=b.call(this)||this;return C._hasDeclaration=!1,C._docTypeName="",C._hasDocumentElement=!1,C._currentElementSerialized=!1,C._openTags=[],C._ended=!1,C._fragment=D,C._options=h.applyDefaults(S||{},n.DefaultXMLBuilderCBOptions),C._builderOptions={defaultNamespace:C._options.defaultNamespace,namespaceAlias:C._options.namespaceAlias},C._options.format==="json"?C._writer=new i.JSONCBWriter(C._options):C._options.format==="yaml"?C._writer=new s.YAMLCBWriter(C._options):C._writer=new g.XMLCBWriter(C._options),C._options.data!==void 0&&C.on("data",C._options.data),C._options.end!==void 0&&C.on("end",C._options.end),C._options.error!==void 0&&C.on("error",C._options.error),C._prefixMap=new p.NamespacePrefixMap,C._prefixMap.set("xml",f.namespace.XML),C._prefixIndex={value:1},C._push(C._writer.frontMatter()),C}return d(w,b),w.prototype.ele=function(S,D,C){var A,T;if(h.isObject(S)||h.isString(S)&&(/^\s*</.test(S)||/^\s*[\{\[]/.test(S)||/^(\s*|(#.*)|(%.*))*---/.test(S))){var O=t.fragment().set(this._options);try{O.ele(S)}catch(G){return this.emit("error",G),this}try{for(var I=l(O.node.childNodes),k=I.next();!k.done;k=I.next()){var R=k.value;this._fromNode(R)}}catch(G){A={error:G}}finally{try{k&&!k.done&&(T=I.return)&&T.call(I)}finally{if(A)throw A.error}}return this}if(this._serializeOpenTag(!0),!this._fragment&&this._hasDocumentElement&&this._writer.level===0)return this.emit("error",new Error("Document cannot have multiple document element nodes.")),this;try{this._currentElement=t.fragment(this._builderOptions).ele(S,D,C)}catch(G){return this.emit("error",G),this}return this._fragment||this._hasDocumentElement||this._docTypeName===""||this._currentElement.node._qualifiedName===this._docTypeName?(this._currentElementSerialized=!1,this._fragment||(this._hasDocumentElement=!0),this):(this.emit("error",new Error("Document element name does not match DocType declaration name.")),this)},w.prototype.att=function(S,D,C){if(this._currentElement===void 0)return this.emit("error",new Error("Cannot insert an attribute node as child of a document node.")),this;try{this._currentElement.att(S,D,C)}catch(A){return this.emit("error",A),this}return this},w.prototype.com=function(S){var D;this._serializeOpenTag(!0);try{D=t.fragment(this._builderOptions).com(S).first().node}catch(C){return this.emit("error",C),this}return!this._options.wellFormed||a.xml_isLegalChar(D.data)&&D.data.indexOf("--")===-1&&!D.data.endsWith("-")?(this._push(this._writer.comment(D.data)),this):(this.emit("error",new Error("Comment data contains invalid characters (well-formed required).")),this)},w.prototype.txt=function(S){if(!this._fragment&&this._currentElement===void 0)return this.emit("error",new Error("Cannot insert a text node as child of a document node.")),this;var D;this._serializeOpenTag(!0);try{D=t.fragment(this._builderOptions).txt(S).first().node}catch(A){return this.emit("error",A),this}if(this._options.wellFormed&&!a.xml_isLegalChar(D.data))return this.emit("error",new Error("Text data contains invalid characters (well-formed required).")),this;var C=D.data.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return this._push(this._writer.text(C)),this},w.prototype.ins=function(S,D){var C;D===void 0&&(D=""),this._serializeOpenTag(!0);try{C=t.fragment(this._builderOptions).ins(S,D).first().node}catch(A){return this.emit("error",A),this}return this._options.wellFormed&&(C.target.indexOf(":")!==-1||/^xml$/i.test(C.target))?(this.emit("error",new Error("Processing instruction target contains invalid characters (well-formed required).")),this):this._options.wellFormed&&!a.xml_isLegalChar(C.data)?(this.emit("error",Error("Processing instruction data contains invalid characters (well-formed required).")),this):(this._push(this._writer.instruction(C.target,C.data)),this)},w.prototype.dat=function(S){var D;this._serializeOpenTag(!0);try{D=t.fragment(this._builderOptions).dat(S).first().node}catch(C){return this.emit("error",C),this}return this._push(this._writer.cdata(D.data)),this},w.prototype.dec=function(S){return S===void 0&&(S={version:"1.0"}),this._fragment?(this.emit("error",Error("Cannot insert an XML declaration into a document fragment.")),this):this._hasDeclaration?(this.emit("error",Error("XML declaration is already inserted.")),this):(this._push(this._writer.declaration(S.version||"1.0",S.encoding,S.standalone)),this._hasDeclaration=!0,this)},w.prototype.dtd=function(S){if(this._fragment)return this.emit("error",Error("Cannot insert a DocType declaration into a document fragment.")),this;if(this._docTypeName!=="")return this.emit("error",new Error("DocType declaration is already inserted.")),this;if(this._hasDocumentElement)return this.emit("error",new Error("Cannot insert DocType declaration after document element.")),this;var D;try{D=t.create().dtd(S).first().node}catch(C){return this.emit("error",C),this}return this._options.wellFormed&&!a.xml_isPubidChar(D.publicId)?(this.emit("error",new Error("DocType public identifier does not match PubidChar construct (well-formed required).")),this):this._options.wellFormed&&(!a.xml_isLegalChar(D.systemId)||D.systemId.indexOf('"')!==-1&&D.systemId.indexOf("'")!==-1)?(this.emit("error",new Error("DocType system identifier contains invalid characters (well-formed required).")),this):(this._docTypeName=S.name,this._push(this._writer.docType(S.name,D.publicId,D.systemId)),this)},w.prototype.import=function(S){var D,C,A=t.fragment().set(this._options);try{A.import(S)}catch(k){return this.emit("error",k),this}try{for(var T=l(A.node.childNodes),O=T.next();!O.done;O=T.next()){var I=O.value;this._fromNode(I)}}catch(k){D={error:k}}finally{try{O&&!O.done&&(C=T.return)&&C.call(T)}finally{if(D)throw D.error}}return this},w.prototype.up=function(){return this._serializeOpenTag(!1),this._serializeCloseTag(),this},w.prototype.end=function(){for(this._serializeOpenTag(!1);this._openTags.length>0;)this._serializeCloseTag();return this._push(null),this},w.prototype._serializeOpenTag=function(S){if(!this._currentElementSerialized&&this._currentElement!==void 0){var D=this._currentElement.node;if(!this._options.wellFormed||D.localName.indexOf(":")===-1&&a.xml_isName(D.localName)){var C="",A=!1,T=this._prefixMap.copy(),O={},I=this._recordNamespaceInformation(D,T,O),k=this._openTags.length===0?null:this._openTags[this._openTags.length-1][1],R=D.namespaceURI;if(R===null&&(R=k),k===R)I!==null&&(A=!0),C=R===f.namespace.XML?"xml:"+D.localName:D.localName,this._writer.beginElement(C),this._push(this._writer.openTagBegin(C));else{var G=D.prefix,W=null;if(G===null&&R===I||(W=T.get(G,R)),G==="xmlns"){if(this._options.wellFormed)return void this.emit("error",new Error("An element cannot have the 'xmlns' prefix (well-formed required)."));W=G}W!==null?(C=W+":"+D.localName,I!==null&&I!==f.namespace.XML&&(k=I||null),this._writer.beginElement(C),this._push(this._writer.openTagBegin(C))):G!==null?(G in O&&(G=this._generatePrefix(R,T,this._prefixIndex)),T.set(G,R),C+=G+":"+D.localName,this._writer.beginElement(C),this._push(this._writer.openTagBegin(C)),this._push(this._writer.attribute("xmlns:"+G,this._serializeAttributeValue(R,this._options.wellFormed))),I!==null&&(k=I||null)):I===null||I!==null&&I!==R?(A=!0,C+=D.localName,k=R,this._writer.beginElement(C),this._push(this._writer.openTagBegin(C)),this._push(this._writer.attribute("xmlns",this._serializeAttributeValue(R,this._options.wellFormed)))):(C+=D.localName,k=R,this._writer.beginElement(C),this._push(this._writer.openTagBegin(C)))}this._serializeAttributes(D,T,this._prefixIndex,O,A,this._options.wellFormed);var L=R===f.namespace.HTML;L&&!S&&w._VoidElementNames.has(D.localName)?(this._push(this._writer.openTagEnd(C,!0,!0)),this._writer.endElement(C)):L||S?this._push(this._writer.openTagEnd(C,!1,!1)):(this._push(this._writer.openTagEnd(C,!0,!1)),this._writer.endElement(C)),this._currentElementSerialized=!0,this._openTags.push([C,k,this._prefixMap,S]),this._isPrefixMapModified(this._prefixMap,T)&&(this._prefixMap=T),this._writer.level++}else this.emit("error",new Error("Node local name contains invalid characters (well-formed required)."))}},w.prototype._serializeCloseTag=function(){this._writer.level--;var S=this._openTags.pop();if(S!==void 0){var D=u(S,4),C=D[0],A=(D[1],D[2]),T=D[3];this._prefixMap=A,T&&(this._push(this._writer.closeTag(C)),this._writer.endElement(C))}else this.emit("error",new Error("Last element is undefined."))},w.prototype._push=function(S){S===null?(this._ended=!0,this.emit("end")):this._ended?this.emit("error",new Error("Cannot push to ended stream.")):S.length!==0&&(this._writer.hasData=!0,this.emit("data",S,this._writer.level))},w.prototype._fromNode=function(S){var D,C,A,T;if(y.Guard.isElementNode(S)){var O=S.prefix?S.prefix+":"+S.localName:S.localName;S.namespaceURI!==null?this.ele(S.namespaceURI,O):this.ele(O);try{for(var I=l(S.attributes),k=I.next();!k.done;k=I.next()){var R=k.value,G=R.prefix?R.prefix+":"+R.localName:R.localName;R.namespaceURI!==null?this.att(R.namespaceURI,G,R.value):this.att(G,R.value)}}catch(z){D={error:z}}finally{try{k&&!k.done&&(C=I.return)&&C.call(I)}finally{if(D)throw D.error}}try{for(var W=l(S.childNodes),L=W.next();!L.done;L=W.next()){var j=L.value;this._fromNode(j)}}catch(z){A={error:z}}finally{try{L&&!L.done&&(T=W.return)&&T.call(W)}finally{if(A)throw A.error}}this.up()}else y.Guard.isExclusiveTextNode(S)&&S.data?this.txt(S.data):y.Guard.isCommentNode(S)?this.com(S.data):y.Guard.isCDATASectionNode(S)?this.dat(S.data):y.Guard.isProcessingInstructionNode(S)&&this.ins(S.target,S.data)},w.prototype._serializeAttributes=function(S,D,C,A,T,O){var I,k,R=O?new m.LocalNameSet:void 0;try{for(var G=l(S.attributes),W=G.next();!W.done;W=G.next()){var L=W.value;if(O||T||L.namespaceURI!==null){if(O&&R&&R.has(L.namespaceURI,L.localName))return void this.emit("error",new Error("Element contains duplicate attributes (well-formed required)."));O&&R&&R.set(L.namespaceURI,L.localName);var j=L.namespaceURI,z=null;if(j!==null)if(z=D.get(L.prefix,j),j===f.namespace.XMLNS){if(L.value===f.namespace.XML||L.prefix===null&&T||L.prefix!==null&&(!(L.localName in A)||A[L.localName]!==L.value)&&D.has(L.localName,L.value))continue;if(O&&L.value===f.namespace.XMLNS)return void this.emit("error",new Error("XMLNS namespace is reserved (well-formed required)."));if(O&&L.value==="")return void this.emit("error",new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required)."));L.prefix==="xmlns"&&(z="xmlns")}else z===null&&(z=L.prefix===null||D.hasPrefix(L.prefix)&&!D.has(L.prefix,j)?this._generatePrefix(j,D,C):L.prefix,this._push(this._writer.attribute("xmlns:"+z,this._serializeAttributeValue(j,this._options.wellFormed))));if(O&&(L.localName.indexOf(":")!==-1||!a.xml_isName(L.localName)||L.localName==="xmlns"&&j===null))return void this.emit("error",new Error("Attribute local name contains invalid characters (well-formed required)."));this._push(this._writer.attribute((z!==null?z+":":"")+L.localName,this._serializeAttributeValue(L.value,this._options.wellFormed)))}else this._push(this._writer.attribute(L.localName,this._serializeAttributeValue(L.value,this._options.wellFormed)))}}catch(H){I={error:H}}finally{try{W&&!W.done&&(k=G.return)&&k.call(G)}finally{if(I)throw I.error}}},w.prototype._serializeAttributeValue=function(S,D){return D&&S!==null&&!a.xml_isLegalChar(S)?(this.emit("error",new Error("Invalid characters in attribute value.")),""):S===null?"":S.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},w.prototype._recordNamespaceInformation=function(S,D,C){var A,T,O=null;try{for(var I=l(S.attributes),k=I.next();!k.done;k=I.next()){var R=k.value,G=R.namespaceURI,W=R.prefix;if(G===f.namespace.XMLNS){if(W===null){O=R.value;continue}var L=R.localName,j=R.value;if(j===f.namespace.XML||(j===""&&(j=null),D.has(L,j)))continue;D.set(L,j),C[L]=j||""}}}catch(z){A={error:z}}finally{try{k&&!k.done&&(T=I.return)&&T.call(I)}finally{if(A)throw A.error}}return O},w.prototype._generatePrefix=function(S,D,C){var A="ns"+C.value;return C.value++,D.set(A,S),A},w.prototype._isPrefixMapModified=function(S,D){var C=S._items,A=D._items,T=S._nullItems,O=D._nullItems;for(var I in A){var k=C[I];if(k===void 0)return!0;var R=A[I];if(k.length!==R.length)return!0;for(var G=0;G<k.length;G++)if(k[G]!==R[G])return!0}if(T.length!==O.length)return!0;for(G=0;G<T.length;G++)if(T[G]!==O[G])return!0;return!1},w._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),w}(r(308).EventEmitter);o.XMLBuilderCBImpl=x},function(v,o,r){r(74);var c,d=this&&this.__extends||(c=function(u,n){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,t){h.__proto__=t}||function(h,t){for(var a in t)t.hasOwnProperty(a)&&(h[a]=t[a])})(u,n)},function(u,n){function h(){this.constructor=u}c(u,n),u.prototype=n===null?Object.create(n):(h.prototype=n.prototype,new h)});Object.defineProperty(o,"__esModule",{value:!0});var l=function(u){function n(h){var t=u.call(this,h)||this;return t._lineLength=0,t}return d(n,u),n.prototype.frontMatter=function(){return""},n.prototype.declaration=function(h,t,a){var f=this._beginLine()+"<?xml";return f+=' version="'+h+'"',t!==void 0&&(f+=' encoding="'+t+'"'),a!==void 0&&(f+=' standalone="'+(a?"yes":"no")+'"'),f+="?>"},n.prototype.docType=function(h,t,a){var f=this._beginLine();return f+=t&&a?"<!DOCTYPE "+h+' PUBLIC "'+t+'" "'+a+'">':t?"<!DOCTYPE "+h+' PUBLIC "'+t+'">':a?"<!DOCTYPE "+h+' SYSTEM "'+a+'">':"<!DOCTYPE "+h+">"},n.prototype.comment=function(h){return this._beginLine()+"<!--"+h+"-->"},n.prototype.text=function(h){return this._beginLine()+h},n.prototype.instruction=function(h,t){return t?this._beginLine()+"<?"+h+" "+t+"?>":this._beginLine()+"<?"+h+"?>"},n.prototype.cdata=function(h){return this._beginLine()+"<![CDATA["+h+"]]>"},n.prototype.openTagBegin=function(h){return this._lineLength+=1+h.length,this._beginLine()+"<"+h},n.prototype.openTagEnd=function(h,t,a){return a?" />":t?this._writerOptions.allowEmptyTags?"></"+h+">":this._writerOptions.spaceBeforeSlash?" />":"/>":">"},n.prototype.closeTag=function(h){return this._beginLine()+"</"+h+">"},n.prototype.attribute=function(h,t){var a=h+'="'+t+'"';return this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._lineLength+1+a.length>this._writerOptions.width?(a=this._beginLine()+this._indent(1)+a,this._lineLength=a.length,a):(this._lineLength+=1+a.length," "+a)},n.prototype.beginElement=function(h){},n.prototype.endElement=function(h){},n.prototype._beginLine=function(){if(this._writerOptions.prettyPrint){var h=(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level);return this._lineLength=h.length,h}return""},n.prototype._indent=function(h){return h<=0?"":this._writerOptions.indent.repeat(h)},n}(r(114).BaseCBWriter);o.XMLCBWriter=l},function(v,o,r){r(74);var c,d=this&&this.__extends||(c=function(u,n){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,t){h.__proto__=t}||function(h,t){for(var a in t)t.hasOwnProperty(a)&&(h[a]=t[a])})(u,n)},function(u,n){function h(){this.constructor=u}c(u,n),u.prototype=n===null?Object.create(n):(h.prototype=n.prototype,new h)});Object.defineProperty(o,"__esModule",{value:!0});var l=function(u){function n(h){var t=u.call(this,h)||this;return t._hasChildren=[],t._additionalLevel=0,t}return d(n,u),n.prototype.frontMatter=function(){return""},n.prototype.declaration=function(h,t,a){return""},n.prototype.docType=function(h,t,a){return""},n.prototype.comment=function(h){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.comment)+this._sep()+this._val(h)+this._sep()+"}"},n.prototype.text=function(h){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.text)+this._sep()+this._val(h)+this._sep()+"}"},n.prototype.instruction=function(h,t){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.ins)+this._sep()+this._val(t?h+" "+t:h)+this._sep()+"}"},n.prototype.cdata=function(h){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.cdata)+this._sep()+this._val(h)+this._sep()+"}"},n.prototype.attribute=function(h,t){return this._comma()+this._beginLine(1)+"{"+this._sep()+this._key(this._builderOptions.convert.att+h)+this._sep()+this._val(t)+this._sep()+"}"},n.prototype.openTagBegin=function(h){var t=this._comma()+this._beginLine()+"{"+this._sep()+this._key(h)+this._sep()+"{";return this._additionalLevel++,this.hasData=!0,t+=this._beginLine()+this._key(this._builderOptions.convert.text)+this._sep()+"[",this._hasChildren.push(!1),t},n.prototype.openTagEnd=function(h,t,a){if(t){var f=this._sep()+"]";return this._additionalLevel--,f+=this._beginLine()+"}"+this._sep()+"}"}return""},n.prototype.closeTag=function(h){var t=this._beginLine()+"]";return this._additionalLevel--,t+=this._beginLine()+"}"+this._sep()+"}"},n.prototype.beginElement=function(h){},n.prototype.endElement=function(h){this._hasChildren.pop()},n.prototype._beginLine=function(h){return h===void 0&&(h=0),this._writerOptions.prettyPrint?(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level+h):""},n.prototype._indent=function(h){return h+this._additionalLevel<=0?"":this._writerOptions.indent.repeat(h+this._additionalLevel)},n.prototype._comma=function(){var h=this._hasChildren[this._hasChildren.length-1]?",":"";return this._hasChildren.length>0&&(this._hasChildren[this._hasChildren.length-1]=!0),h},n.prototype._sep=function(){return this._writerOptions.prettyPrint?" ":""},n.prototype._key=function(h){return'"'+h+'":'},n.prototype._val=function(h){return JSON.stringify(h)},n}(r(114).BaseCBWriter);o.JSONCBWriter=l},function(v,o,r){r(74);var c,d=this&&this.__extends||(c=function(u,n){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,t){h.__proto__=t}||function(h,t){for(var a in t)t.hasOwnProperty(a)&&(h[a]=t[a])})(u,n)},function(u,n){function h(){this.constructor=u}c(u,n),u.prototype=n===null?Object.create(n):(h.prototype=n.prototype,new h)});Object.defineProperty(o,"__esModule",{value:!0});var l=function(u){function n(h){var t=u.call(this,h)||this;if(t._rootWritten=!1,t._additionalLevel=0,h.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(h.offset<0)throw new Error("YAML offset should be zero or a positive number.");return t}return d(n,u),n.prototype.frontMatter=function(){return this._beginLine()+"---"},n.prototype.declaration=function(h,t,a){return""},n.prototype.docType=function(h,t,a){return""},n.prototype.comment=function(h){return this._beginLine()+this._key(this._builderOptions.convert.comment)+" "+this._val(h)},n.prototype.text=function(h){return this._beginLine()+this._key(this._builderOptions.convert.text)+" "+this._val(h)},n.prototype.instruction=function(h,t){return this._beginLine()+this._key(this._builderOptions.convert.ins)+" "+this._val(t?h+" "+t:h)},n.prototype.cdata=function(h){return this._beginLine()+this._key(this._builderOptions.convert.cdata)+" "+this._val(h)},n.prototype.attribute=function(h,t){this._additionalLevel++;var a=this._beginLine()+this._key(this._builderOptions.convert.att+h)+" "+this._val(t);return this._additionalLevel--,a},n.prototype.openTagBegin=function(h){var t=this._beginLine()+this._key(h);return this._rootWritten||(this._rootWritten=!0),this.hasData=!0,this._additionalLevel++,t+=this._beginLine(!0)+this._key(this._builderOptions.convert.text)},n.prototype.openTagEnd=function(h,t,a){return t?" "+this._val(""):""},n.prototype.closeTag=function(h){return this._additionalLevel--,""},n.prototype.beginElement=function(h){},n.prototype.endElement=function(h){},n.prototype._beginLine=function(h){return h===void 0&&(h=!1),(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level,h)},n.prototype._indent=function(h,t){if(h+this._additionalLevel<=0)return"";var a=this._writerOptions.indent.repeat(h+this._additionalLevel);return!t&&this._rootWritten?a.substr(0,a.length-2)+"-"+a.substr(-1,1):a},n.prototype._key=function(h){return'"'+h+'":'},n.prototype._val=function(h){return JSON.stringify(h)},n}(r(114).BaseCBWriter);o.YAMLCBWriter=l},function(v,o,r){var c,d=typeof Reflect=="object"?Reflect:null,l=d&&typeof d.apply=="function"?d.apply:function(s,x,b){return Function.prototype.apply.call(s,x,b)};c=d&&typeof d.ownKeys=="function"?d.ownKeys:Object.getOwnPropertySymbols?function(s){return Object.getOwnPropertyNames(s).concat(Object.getOwnPropertySymbols(s))}:function(s){return Object.getOwnPropertyNames(s)};var u=Number.isNaN||function(s){return s!=s};function n(){n.init.call(this)}v.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var h=10;function t(s){if(typeof s!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof s)}function a(s){return s._maxListeners===void 0?n.defaultMaxListeners:s._maxListeners}function f(s,x,b,w){var S,D,C,A;if(t(b),(D=s._events)===void 0?(D=s._events=Object.create(null),s._eventsCount=0):(D.newListener!==void 0&&(s.emit("newListener",x,b.listener?b.listener:b),D=s._events),C=D[x]),C===void 0)C=D[x]=b,++s._eventsCount;else if(typeof C=="function"?C=D[x]=w?[b,C]:[C,b]:w?C.unshift(b):C.push(b),(S=a(s))>0&&C.length>S&&!C.warned){C.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+C.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=s,T.type=x,T.count=C.length,A=T,console&&console.warn&&console.warn(A)}return s}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(s,x,b){var w={fired:!1,wrapFn:void 0,target:s,type:x,listener:b},S=p.bind(w);return S.listener=b,w.wrapFn=S,S}function y(s,x,b){var w=s._events;if(w===void 0)return[];var S=w[x];return S===void 0?[]:typeof S=="function"?b?[S.listener||S]:[S]:b?function(D){for(var C=new Array(D.length),A=0;A<C.length;++A)C[A]=D[A].listener||D[A];return C}(S):i(S,S.length)}function g(s){var x=this._events;if(x!==void 0){var b=x[s];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}function i(s,x){for(var b=new Array(x),w=0;w<x;++w)b[w]=s[w];return b}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(s){if(typeof s!="number"||s<0||u(s))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+s+".");h=s}}),n.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(s){if(typeof s!="number"||s<0||u(s))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+s+".");return this._maxListeners=s,this},n.prototype.getMaxListeners=function(){return a(this)},n.prototype.emit=function(s){for(var x=[],b=1;b<arguments.length;b++)x.push(arguments[b]);var w=s==="error",S=this._events;if(S!==void 0)w=w&&S.error===void 0;else if(!w)return!1;if(w){var D;if(x.length>0&&(D=x[0]),D instanceof Error)throw D;var C=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw C.context=D,C}var A=S[s];if(A===void 0)return!1;if(typeof A=="function")l(A,this,x);else{var T=A.length,O=i(A,T);for(b=0;b<T;++b)l(O[b],this,x)}return!0},n.prototype.addListener=function(s,x){return f(this,s,x,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(s,x){return f(this,s,x,!0)},n.prototype.once=function(s,x){return t(x),this.on(s,m(this,s,x)),this},n.prototype.prependOnceListener=function(s,x){return t(x),this.prependListener(s,m(this,s,x)),this},n.prototype.removeListener=function(s,x){var b,w,S,D,C;if(t(x),(w=this._events)===void 0)return this;if((b=w[s])===void 0)return this;if(b===x||b.listener===x)--this._eventsCount==0?this._events=Object.create(null):(delete w[s],w.removeListener&&this.emit("removeListener",s,b.listener||x));else if(typeof b!="function"){for(S=-1,D=b.length-1;D>=0;D--)if(b[D]===x||b[D].listener===x){C=b[D].listener,S=D;break}if(S<0)return this;S===0?b.shift():function(A,T){for(;T+1<A.length;T++)A[T]=A[T+1];A.pop()}(b,S),b.length===1&&(w[s]=b[0]),w.removeListener!==void 0&&this.emit("removeListener",s,C||x)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(s){var x,b,w;if((b=this._events)===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[s]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete b[s]),this;if(arguments.length===0){var S,D=Object.keys(b);for(w=0;w<D.length;++w)(S=D[w])!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(x=b[s])=="function")this.removeListener(s,x);else if(x!==void 0)for(w=x.length-1;w>=0;w--)this.removeListener(s,x[w]);return this},n.prototype.listeners=function(s){return y(this,s,!0)},n.prototype.rawListeners=function(s){return y(this,s,!1)},n.listenerCount=function(s,x){return typeof s.listenerCount=="function"?s.listenerCount(x):g.call(s,x)},n.prototype.listenerCount=g,n.prototype.eventNames=function(){return this._eventsCount>0?c(this._events):[]}},function(v,o,r){Object.defineProperty(o,"__esModule",{value:!0});var c=r(77);o.createCB=function(d){return new c.XMLBuilderCBImpl(d)},o.fragmentCB=function(d){return new c.XMLBuilderCBImpl(d,!0)}}])})}(tr)),tr.exports}var Aa=Ta(),Ge=Uint8Array,ft=Uint16Array,Wn=Uint32Array,Hn=new Ge([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Xn=new Ge([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Na=new Ge([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qn=function(_,e){for(var v=new ft(31),o=0;o<31;++o)v[o]=e+=1<<_[o-1];for(var r=new Wn(v[30]),o=1;o<30;++o)for(var c=v[o];c<v[o+1];++c)r[c]=c-v[o]<<5|o;return[v,r]},$n=qn(Hn,2),Kn=$n[0],Oa=$n[1];Kn[28]=258,Oa[258]=28;var ka=qn(Xn,0),Fa=ka[0],kr=new ft(32768);for(var Oe=0;Oe<32768;++Oe){var tt=(Oe&43690)>>>1|(Oe&21845)<<1;tt=(tt&52428)>>>2|(tt&13107)<<2,tt=(tt&61680)>>>4|(tt&3855)<<4,kr[Oe]=((tt&65280)>>>8|(tt&255)<<8)>>>1}var Tt=function(_,e,v){for(var o=_.length,r=0,c=new ft(e);r<o;++r)_[r]&&++c[_[r]-1];var d=new ft(e);for(r=0;r<e;++r)d[r]=d[r-1]+c[r-1]<<1;var l;if(v){l=new ft(1<<e);var u=15-e;for(r=0;r<o;++r)if(_[r])for(var n=r<<4|_[r],h=e-_[r],t=d[_[r]-1]++<<h,a=t|(1<<h)-1;t<=a;++t)l[kr[t]>>>u]=n}else for(l=new ft(o),r=0;r<o;++r)_[r]&&(l[r]=kr[d[_[r]-1]++]>>>15-_[r]);return l},Rt=new Ge(288);for(var Oe=0;Oe<144;++Oe)Rt[Oe]=8;for(var Oe=144;Oe<256;++Oe)Rt[Oe]=9;for(var Oe=256;Oe<280;++Oe)Rt[Oe]=7;for(var Oe=280;Oe<288;++Oe)Rt[Oe]=8;var Jn=new Ge(32);for(var Oe=0;Oe<32;++Oe)Jn[Oe]=5;var Pa=Tt(Rt,9,1),Ia=Tt(Jn,5,1),xr=function(_){for(var e=_[0],v=1;v<_.length;++v)_[v]>e&&(e=_[v]);return e},He=function(_,e,v){var o=e/8|0;return(_[o]|_[o+1]<<8)>>(e&7)&v},br=function(_,e){var v=e/8|0;return(_[v]|_[v+1]<<8|_[v+2]<<16)>>(e&7)},Ma=function(_){return(_+7)/8|0},Ba=function(_,e,v){(v==null||v>_.length)&&(v=_.length);var o=new(_.BYTES_PER_ELEMENT==2?ft:_.BYTES_PER_ELEMENT==4?Wn:Ge)(v-e);return o.set(_.subarray(e,v)),o},La=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],qe=function(_,e,v){var o=new Error(e||La[_]);if(o.code=_,Error.captureStackTrace&&Error.captureStackTrace(o,qe),!v)throw o;return o},Wr=function(_,e,v){var o=_.length;if(!o||v&&v.f&&!v.l)return e||new Ge(0);var r=!e||v,c=!v||v.i;v||(v={}),e||(e=new Ge(o*3));var d=function(ee){var re=e.length;if(ee>re){var ae=new Ge(Math.max(re*2,ee));ae.set(e),e=ae}},l=v.f||0,u=v.p||0,n=v.b||0,h=v.l,t=v.d,a=v.m,f=v.n,p=o*8;do{if(!h){l=He(_,u,1);var m=He(_,u+1,3);if(u+=3,m)if(m==1)h=Pa,t=Ia,a=9,f=5;else if(m==2){var s=He(_,u,31)+257,x=He(_,u+10,15)+4,b=s+He(_,u+5,31)+1;u+=14;for(var w=new Ge(b),S=new Ge(19),D=0;D<x;++D)S[Na[D]]=He(_,u+D*3,7);u+=x*3;for(var C=xr(S),A=(1<<C)-1,T=Tt(S,C,1),D=0;D<b;){var O=T[He(_,u,A)];u+=O&15;var y=O>>>4;if(y<16)w[D++]=y;else{var I=0,k=0;for(y==16?(k=3+He(_,u,3),u+=2,I=w[D-1]):y==17?(k=3+He(_,u,7),u+=3):y==18&&(k=11+He(_,u,127),u+=7);k--;)w[D++]=I}}var R=w.subarray(0,s),G=w.subarray(s);a=xr(R),f=xr(G),h=Tt(R,a,1),t=Tt(G,f,1)}else qe(1);else{var y=Ma(u)+4,g=_[y-4]|_[y-3]<<8,i=y+g;if(i>o){c&&qe(0);break}r&&d(n+g),e.set(_.subarray(y,i),n),v.b=n+=g,v.p=u=i*8,v.f=l;continue}if(u>p){c&&qe(0);break}}r&&d(n+131072);for(var W=(1<<a)-1,L=(1<<f)-1,j=u;;j=u){var I=h[br(_,u)&W],z=I>>>4;if(u+=I&15,u>p){c&&qe(0);break}if(I||qe(2),z<256)e[n++]=z;else if(z==256){j=u,h=null;break}else{var H=z-254;if(z>264){var D=z-257,X=Hn[D];H=He(_,u,(1<<X)-1)+Kn[D],u+=X}var Y=t[br(_,u)&L],Z=Y>>>4;Y||qe(3),u+=Y&15;var G=Fa[Z];if(Z>3){var X=Xn[Z];G+=br(_,u)&(1<<X)-1,u+=X}if(u>p){c&&qe(0);break}r&&d(n+131072);for(var q=n+H;n<q;n+=4)e[n]=e[n-G],e[n+1]=e[n+1-G],e[n+2]=e[n+2-G],e[n+3]=e[n+3-G];n=q}}v.l=h,v.p=j,v.b=n,v.f=l,h&&(l=1,v.m=a,v.d=t,v.n=f)}while(!l);return n==e.length?e:Ba(e,0,n)},Ua=new Ge(0),Ra=function(_){(_[0]!=31||_[1]!=139||_[2]!=8)&&qe(6,"invalid gzip data");var e=_[3],v=10;e&4&&(v+=_[10]|(_[11]<<8)+2);for(var o=(e>>3&1)+(e>>4&1);o>0;o-=!_[v++]);return v+(e&2)},ja=function(_){var e=_.length;return(_[e-4]|_[e-3]<<8|_[e-2]<<16|_[e-1]<<24)>>>0},za=function(_){((_[0]&15)!=8||_[0]>>>4>7||(_[0]<<8|_[1])%31)&&qe(6,"invalid zlib data"),_[1]&32&&qe(6,"invalid zlib data: preset dictionaries not supported")};function Ga(_,e){return Wr(_,e)}function Va(_,e){return Wr(_.subarray(Ra(_),-8),new Ge(ja(_)))}function Wa(_,e){return Wr((za(_),_.subarray(2,-4)),e)}function Ha(_,e){return _[0]==31&&_[1]==139&&_[2]==8?Va(_):(_[0]&15)!=8||_[0]>>4>7||(_[0]<<8|_[1])%31?Ga(_,e):Wa(_,e)}var Xa=typeof TextDecoder<"u"&&new TextDecoder,qa=0;try{Xa.decode(Ua,{stream:!0}),qa=1}catch{}const ze=[];ze[45]=62;ze[95]=63;const gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(let _=0;_<gt.length;_++)ze[gt.charCodeAt(_)]=_;function Ke(_){return ze[_.charCodeAt(0)]!==void 0}function $a(_){const e=_.length,v=[];let o=null;for(let r=0;r<e;r++)Ke(_[r])?(o||(o={start:r,count:0}),o.count++,o.end=r):_[r]==="="&&o&&(v.push(o),o=null);return o&&v.push(o),v}function Ka(_,e,v,o){const{start:r,count:c}=e,d=c%4,l=Math.floor(c/4);let u=r,n=null,h=v;for(let t=0;t<l;t++){for(;!Ke(_[u]);)u++;for(n=ze[_.charCodeAt(u++)]<<18;!Ke(_[u]);)u++;for(n|=ze[_.charCodeAt(u++)]<<12;!Ke(_[u]);)u++;for(n|=ze[_.charCodeAt(u++)]<<6;!Ke(_[u]);)u++;n|=ze[_.charCodeAt(u++)],o[h++]=n>>16&255,o[h++]=n>>8&255,o[h++]=n&255}switch(d){case 3:for(;!Ke(_[u]);)u++;for(n=ze[_.charCodeAt(u++)]<<10;!Ke(_[u]);)u++;for(n|=ze[_.charCodeAt(u++)]<<4;!Ke(_[u]);)u++;n|=ze[_.charCodeAt(u++)]>>2,o[h++]=n>>8&255,o[h++]=n&255;break;case 2:for(;!Ke(_[u]);)u++;for(n=ze[_.charCodeAt(u++)]<<2;!Ke(_[u]);)u++;n|=ze[_.charCodeAt(u++)]>>4,o[h++]=n&255;break;case 1:throw new Error("BASE64: remain 1 should not happen")}return h}function Ja(_){const e=$a(_),v=e[e.length-1].end+1,o=(4-v%4)%4,r=(v+o)*3/4-o,c=new ArrayBuffer(r),d=new Uint8Array(c);let l=0;for(let u=0;u<e.length;u++)l+=Ka(_,e[u],l,d),l+=(4-e[u].count%4)%4;return c}function sn(_,e,v){const o=(_<<16)+(e<<8)+v;return gt[o>>18]+gt[o>>12&63]+gt[o>>6&63]+gt[o&63]}function Ya(_){const e=new Uint8Array(_),v=_.byteLength%3,o=_.byteLength-v,r=Array(o/3);for(let c=0;c<r.length;c++){const d=c*3;r[c]=sn(e[d],e[d+1],e[d+2])}if(v>0){const c=sn(e[o],e[o+1]||0,e[o+2]||0);v===1?r.push(`${c.substr(0,2)}==`):v===2&&r.push(`${c.substr(0,3)}=`)}return r.join("")}var Hr={toArrayBuffer:Ja,fromArrayBuffer:Ya};function Qa(_,e){e.classHierarchy.push("vtkStringArray"),_.getComponent=function(v){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.values[v*e.numberOfComponents+o]},_.setComponent=(v,o,r)=>{r!==e.values[v*e.numberOfComponents+o]&&(e.values[v*e.numberOfComponents+o]=r,_.modified())},_.getData=()=>e.values,_.getTuple=function(v){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=e.numberOfComponents||1;o.length&&(o.length=r);const c=v*r;for(let d=0;d<r;d++)o[d]=e.values[c+d];return o},_.getTupleLocation=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:1)*e.numberOfComponents},_.getNumberOfComponents=()=>e.numberOfComponents,_.getNumberOfValues=()=>e.values.length,_.getNumberOfTuples=()=>e.values.length/e.numberOfComponents,_.getDataType=()=>e.dataType,_.newClone=()=>Qn({name:e.name,numberOfComponents:e.numberOfComponents,empty:!0}),_.getName=()=>(e.name||_.setName(`vtkStringArray${_.getMTime()}`),e.name),_.setData=(v,o)=>{e.values=v,e.size=v.length,o&&(e.numberOfComponents=o),e.size%e.numberOfComponents!==0&&(e.numberOfComponents=1),_.modified()}}const Za={name:"",numberOfComponents:1,size:0,dataType:"string"};function Yn(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,Za,v),!e.empty&&!e.values&&!e.size)throw new TypeError("Cannot create vtkStringArray object without: size > 0, values");e.values?Array.isArray(e.values)&&(e.values=[...e.values]):e.values=[],e.values&&(e.size=e.values.length),ue.obj(_,e),ue.set(_,e,["name"]),Qa(_,e)}const Qn=ue.newInstance(Yn,"vtkStringArray");var eo={newInstance:Qn,extend:Yn};function to(_,e){return[..._.getElementsByTagName(e)]}function un(_,e){return to(_,e)[0]}function ro(_){return Aa.create(_)}function no(_){const e=/^\s*<AppendedData\s+encoding="raw">\s*_/m,v=/\n\s*<\/AppendedData>/m;return kt.extractBinary(_,e,v)}const rt={Int8:Int8Array,UInt8:Uint8Array,Int16:Int16Array,UInt16:Uint16Array,Int32:Int32Array,UInt32:Uint32Array,Int64:Int32Array,UInt64:Uint32Array,Float32:Float32Array,Float64:Float64Array},Ft={Int8:1,UInt8:1,Int16:2,UInt16:2,Int32:4,UInt32:4,Int64:8,UInt64:8,Float32:4,Float64:8};function Fr(_){const e=_.length-1;return _.filter((v,o)=>o<e&&o%2===0)}function Pr(_,e,v){if(!["UInt64","UInt32"].includes(v))throw new Error(`Cannot handle a header type of ${v}`);let o=rt[v],r=rt[e],c=!1;v==="UInt64"&&(o=rt.UInt32),/^U?Int64$/.test(e)&&(c=!0,r=rt[e.replace("64","32")]);const{byteOffset:d}=_,l=Ft[e],u=Ft[v];let n;d%u===0?n=new o(_.buffer,d,1):n=new o(_.buffer.slice(d,d+u));const h=Number(n[0]);let t,a=h/l;c&&(a*=2);const f=d+u;return f%l===0?t=new r(_.buffer,f,a):t=new r(_.buffer.slice(f,f+h)),c&&(t=Fr(t)),t}function io(_,e){if(e==="UInt64"){let n=new Uint32Array(_.buffer,0,6);const h=n[0],t=n[2],a=n[4],f=[8,h,t,a];n=new Uint32Array(_.buffer,3*8,h*2);for(let p=0;p<h;p++)f.push(n[p*2]);return f}let v=new Uint32Array(_.buffer,0,3);const o=4,r=v[0],c=v[1],d=v[2],l=[o,r,c,d];v=new Uint32Array(_.buffer,3*4,r);for(let u=0;u<r;u++)l.push(v[u]);return l}function ao(_,e){const[v]=_;return(_.length-1)*v}function oo(_,e){const v=Ha(_);e.uint8.set(v,e.offset),e.offset+=v.length}function Xr(_,e){const v=io(_,e),o=v[1],r=v[2],c=v[3];let d=0;o>0&&(c===0?d=o*r:d=(o-1)*r+c);const l=new ArrayBuffer(d),u={offset:0,uint8:new Uint8Array(l)};let n=ao(v);for(;n<_.length&&_[n]!==120;)n++;for(let h=0;h<o;h++){const t=v[4+h],a=new Uint8Array(_.buffer,n,t);oo(a,u),n+=t}return u.uint8}function Pt(_,e,v,o,r,c){const d=e.getAttribute("type"),l=e.getAttribute("Name"),u=e.getAttribute("format"),n=Number(e.getAttribute("NumberOfComponents")||"1");let h=null;if(u==="ascii"){h=new rt[d](_*n);let t=0;e.firstChild.nodeValue.split(/[\\t \\n]+/).forEach(a=>{a.trim().length&&(h[t++]=Number(a))})}else if(u==="binary"){const t=new Uint8Array(Hr.toArrayBuffer(e.firstChild.nodeValue.trim()));if(v==="vtkZLibDataCompressor"){const a=Xr(t,r);h=new rt[d](a.buffer),/^U?Int64$/.test(d)&&(h=Fr(h))}else h=new rt[d](t.buffer,Ft[r]),d.indexOf("Int64")!==-1&&(h=Fr(h))}else if(u==="appended"){const t=Number(e.getAttribute("offset"));h=Pr(new Uint8Array(c,t),d,r)}else console.error("Format not supported",u);return{name:l,values:h,numberOfComponents:n}}function wr(_){return new TextDecoder().decode(_).split("\0").slice(0,-1)}function so(_,e,v,o,r){const c=_.getAttribute("Name"),d=_.getAttribute("format"),l=Number(_.getAttribute("NumberOfComponents")||"1"),n=Number(_.getAttribute("NumberOfTuples")||"1")*l,h=[];if(d==="ascii"){const t=_.firstChild.nodeValue.trim().split(/\s+/);let a=0;const f=[];for(;h.length<n;){const p=Number(t[a++]);p===0?(h.push(f.join("")),f.length=0):f.push(String.fromCharCode(p))}}else if(d==="binary"){const t=new Uint8Array(Hr.toArrayBuffer(_.firstChild.nodeValue.trim()));if(e==="vtkZLibDataCompressor"){const a=Xr(t,o);h.push(...wr(a))}else{const a=Pr(t,"UInt8",o);h.push(...wr(a))}}else if(d==="appended"){const t=Number(_.getAttribute("offset")),a=Pr(new Uint8Array(r,t),"UInt8",o);h.push(...wr(a))}else ue.vtkErrorMacro(`Format not supported: ${d}`);return{name:c,values:h,numberOfComponents:l}}function uo(_,e,v,o,r,c){const d={},l=e.getElementsByTagName("DataArray");for(let p=0;p<l.length;p++){const m=l[p];d[m.getAttribute("Name")]=m}const u=Pt(_,d.offsets,v,o,r,c).values,n=u[u.length-1],h=Pt(n,d.connectivity,v,o,r,c).values,t=new Uint32Array(_+n);let a=0,f=0;return u.forEach(p=>{const m=p-f;t[a++]=m;for(let y=0;y<m;y++)t[a++]=h[f+y];f=p}),t}function lo(_,e,v,o,r,c,d){if(e){const l=["Scalars","Vectors","Normals","Tensors","TCoords"],u={};l.forEach(t=>{const a=e.getAttribute(t);a&&(u[a]=v[`set${t}`])});const n=e.getElementsByTagName("DataArray"),h=n.length;for(let t=0;t<h;t++){const a=n[t],f=Me.newInstance(Pt(_,a,o,r,c,d)),p=f.getName();(u[p]||v.addArray)(f)}}}function co(_,e,v,o,r){const c=[..._.getElementsByTagName("DataArray")].map(l=>Me.newInstance(Pt(Number(l.getAttribute("NumberOfTuples")),l,e,v,o,r))),d=[..._.getElementsByTagName("Array")].filter(l=>l.getAttribute("type")==="String").map(l=>eo.newInstance(so(l,e,v,o,r)));return[...c,...d]}function fo(_,e){e.classHierarchy.push("vtkXMLReader"),e.dataAccessHelper||(e.dataAccessHelper=Ut.get("http"));function v(o){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.dataAccessHelper.fetchBinary(o,r)}_.setUrl=function(o){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.url=o;const c=o.split("/");return c.pop(),e.baseURL=c.join("/"),_.loadData(r)},_.loadData=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return v(e.url,o).then(_.parseAsArrayBuffer)},_.parseAsArrayBuffer=o=>{if(!o)return!1;if(o!==e.rawDataBuffer)_.modified();else return!0;const{text:r,binaryBuffer:c}=no(o);e.rawDataBuffer=o,e.binaryBuffer=c;const l=ro(r).root(),u=l.node,n=u.getAttribute("type"),h=u.getAttribute("compressor"),t=u.getAttribute("byte_order"),a=u.getAttribute("header_type")||"UInt32";if(h&&h!=="vtkZLibDataCompressor")return console.error("Invalid compressor",h),!1;if(t&&t!=="LittleEndian")return console.error("Only LittleEndian encoding is supported"),!1;if(n!==e.dataType)return console.error("Invalid data type",n,"expecting",e.dataType),!1;if(un(u,"AppendedData")){const m=un(u,"AppendedData"),y=m.getAttribute("encoding"),g=l.filter(S=>{const{node:D}=S;return D.nodeType===Node.ELEMENT_NODE&&D.getAttribute("format")==="appended"&&D.hasAttribute("offset")},!1,!0).map(S=>({node:S.node,offset:Number(S.node.getAttribute("offset"))}));g.sort((S,D)=>S.offset-D.offset);let i=e.binaryBuffer;y==="base64"&&(i=m.textContent.trim().substr(1));const s=[];for(let S=0;S<g.length;++S){const D=g[S].offset;let C=0;S===g.length-1?C=i.length||i.byteLength:C=g[S+1].offset,y==="base64"?s.push(new Uint8Array(Hr.toArrayBuffer(i.substring(D,C)))):s.push(new Uint8Array(i.slice(D,C)))}if(h==="vtkZLibDataCompressor")for(let S=0;S<s.length;++S){const D=s[S],C=Xr(D,a),A=new Uint8Array(C.length+Ft[a]);new rt[a](A.buffer,0,1)[0]=C.length,A.set(C,Ft[a]),s[S]=A}const x=s.reduce((S,D)=>S+D.length,0),b=new ArrayBuffer(x),w=new Uint8Array(b);for(let S=0,D=0;S<s.length;++S)g[S].node.setAttribute("offset",D),w.set(s[S],D),D+=s[S].length;if(e.binaryBuffer=b,!e.binaryBuffer)return console.error("Processing appended data format: requires binaryBuffer to parse"),!1}_.parseXML(u,n,h,t,a);const p=u.getElementsByTagName(n)[0].getElementsByTagName("FieldData")[0];if(p){const m=co(p,h,t,a,e.binaryBuffer);for(let y=0;y<e.output.length;y++){const g=e.output[y].getFieldData();for(let i=0;i<m.length;i++)g.addArray(m[i])}}return!0},_.requestData=(o,r)=>{_.parseAsArrayBuffer(e.rawDataBuffer)}}const ho={};function po(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ho,v),ue.obj(_,e),ue.get(_,e,["url","baseURL"]),ue.setGet(_,e,["dataAccessHelper"]),ue.algo(_,e,0,1),fo(_,e)}var It={extend:po,processDataArray:Pt,processFieldData:lo,processCells:uo};function mo(_,e,v,o,r,c,d){const l=Number(v.getAttribute(`NumberOf${e}`));if(l>0){const u=v.getElementsByTagName(e)[0].getElementsByTagName("DataArray")[0],{values:n,numberOfComponents:h}=It.processDataArray(l,u,o,r,c,d);_[`get${e}`]().setData(n,h)}return l}function go(_,e,v,o,r,c,d){const l=Number(v.getAttribute(`NumberOf${e}`));if(l>0){const u=It.processCells(l,v.getElementsByTagName(e)[0],o,r,c,d);_[`get${e}`]().setData(u)}return l}function yo(_,e){e.classHierarchy.push("vtkXMLPolyDataReader"),_.parseXML=(v,o,r,c,d)=>{const u=v.getElementsByTagName(e.dataType)[0].getElementsByTagName("Piece"),n=u.length;for(let h=0;h<n;h++){const t=We.newInstance(),a=u[h],f=mo(t,"Points",a,r,c,d,e.binaryBuffer);let p=0;["Verts","Lines","Strips","Polys"].forEach(m=>{p+=go(t,m,a,r,c,d,e.binaryBuffer)}),It.processFieldData(f,a.getElementsByTagName("PointData")[0],t.getPointData(),r,c,d,e.binaryBuffer),It.processFieldData(p,a.getElementsByTagName("CellData")[0],t.getCellData(),r,c,d,e.binaryBuffer),e.output[h]=t}}}const vo={dataType:"PolyData"};function Zn(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,vo,v),It.extend(_,e,v),yo(_,e)}const _o=ue.newInstance(Zn,"vtkXMLPolyDataReader");var xo={newInstance:_o,extend:Zn};const xe={};function Sr(_,e,v,o,r){for(let c=0;c<r;c++)v[o+c]=_[e+c]}function bo(_){xe.splitOn=_,xe.pieces=[],xe.v=[],xe.vt=[],xe.vn=[],xe.f=[[]],xe.size=0}function wo(_){const e=_.split("/").map(c=>Number(c));let v=e[0]-1;v=v<0?v+1+xe.v.length/3:v;let o=e[1]?e[1]-1:v;o=o<0?o+1+xe.vt.length/2:o;let r=e[2]?e[2]-1:v;return r=r<0?r+1+xe.vn.length/3:r,[v,o,r]}function So(_){if(_[0]==="#")return;const e=_.split(/[ \t]+/);if(e[0]===xe.splitOn)e.shift(),xe.pieces.push(e.join(" ").trim()),xe.f.push([]),xe.size++;else if(e[0]==="v")xe.v.push(Number(e[1])),xe.v.push(Number(e[2])),xe.v.push(Number(e[3]));else if(e[0]==="vt")xe.vt.push(Number(e[1])),xe.vt.push(Number(e[2]));else if(e[0]==="vn")xe.vn.push(Number(e[1])),xe.vn.push(Number(e[2])),xe.vn.push(Number(e[3]));else if(e[0]==="f"){xe.size===0&&xe.size++;const v=xe.f[xe.size-1];e.shift();const o=e.filter(c=>c.length>0&&c!=="\r"),r=o.length;v.push(r);for(let c=0;c<r;c++)v.push(wo(o[c]))}}function Do(_){const e=!!xe.vt.length,v=!!xe.vn.length;if(_.splitMode){_.numberOfOutputs=xe.size;for(let o=0;o<xe.size;o++){const r=xe.f[o],c=r.length,d=xe.v.length/3,l={};let u;if(_.trackDuplicates){const y=[];let g=0;for(let s=0;s<c;){const x=r[s++];for(let b=0;b<x;b++){const[w,S,D]=r[s++],C=`${w}/${S}/${D}`;l[C]===void 0&&(y[w]===void 0?y[w]=[C]:(y[w].push(C),++g),l[C]=w)}}u=new Uint16Array(d+g);let i=0;for(let s=0;s<y.length;++s){const x=y[s]?y[s].length:0;u[s]=x>1?d+i:s;for(let b=1;b<x;++b){const w=d+i++;u[w]=s,l[y[s][b]]=w}}}const n={},h=We.newInstance({name:xe.pieces[o]}),t=[],a=[],f=[],p=[];let m=0;for(;m<c;){const y=r[m];p.push(y);for(let g=0;g<y;g++){const[i,s,x]=r[m+g+1],b=`${i}/${s}/${x}`;if(n[b]===void 0){const w=_.trackDuplicates?l[b]:t.length/3;n[b]=w,Sr(xe.v,i*3,t,w*3,3),e&&Sr(xe.vt,s*2,a,w*2,2),v&&Sr(xe.vn,x*3,f,w*3,3)}p.push(n[b])}m+=y+1}if(h.getPoints().setData(Float32Array.from(t),3),_.trackDuplicates){const y=Me.newInstance({name:"Duplicates",values:u});h.getPointData().addArray(y)}if(h.getPolys().setData(Uint32Array.from(p)),e){const y=Me.newInstance({numberOfComponents:2,values:Float32Array.from(a),name:"TextureCoordinates"});h.getPointData().setTCoords(y)}if(v){const y=Me.newInstance({numberOfComponents:3,values:Float32Array.from(f),name:"Normals"});h.getPointData().setNormals(y)}_.output[o]=h}}else{_.numberOfOutputs=1;const o=We.newInstance();if(o.getPoints().setData(Float32Array.from(xe.v),3),e&&xe.v.length/3===xe.vt.length/2){const u=Me.newInstance({numberOfComponents:2,values:Float32Array.from(xe.vt),name:"TextureCoordinates"});o.getPointData().setTCoords(u)}if(v&&xe.v.length===xe.vn.length){const u=Me.newInstance({numberOfComponents:3,values:Float32Array.from(xe.vn),name:"Normals"});o.getPointData().setNormals(u)}const r=[],c=xe.f[0],d=c.length;let l=0;for(;l<d;){const u=c[l];r.push(u);for(let n=0;n<u;n++){const[h]=c[l+n+1];r.push(h)}l+=u+1}o.getPolys().setData(Uint32Array.from(r)),_.output[0]=o}}function Eo(_,e){const v=[],o=_.getPointData().getArrayByName("Duplicates");if(o==null)return v;const r=o.getData(),c=Math.min(e,r[e]);v.push(c);let d=r[c];if(d!==c)for(;d<r.length&&r[d]===c;)v.push(d++);return v}const Co={getPointDuplicateIds:Eo};function To(_,e){e.classHierarchy.push("vtkOBJReader"),e.dataAccessHelper||(e.dataAccessHelper=Ut.get("http"));function v(o){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.dataAccessHelper.fetchText(_,o,r)}_.setUrl=function(o){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(o.indexOf(".obj")===-1&&!r.fullpath)e.baseURL=o,e.url=`${o}/index.obj`;else{e.url=o;const c=o.split("/");c.pop(),e.baseURL=c.join("/")}return _.loadData(r)},_.loadData=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return v(e.url,o).then(r=>_.isDeleted()?!1:_.parseAsText(r))},_.parseAsText=o=>(o&&(o!==e.parseData&&_.modified(),e.parseData=o,e.numberOfOutputs=0,bo(e.splitMode),o.split(`
`).forEach(So),Do(e)),!0),_.requestData=(o,r)=>{_.parseAsText(e.parseData)},_.isBusy=()=>!!e.requestCount,_.getNumberOfOutputPorts=()=>e.numberOfOutputs}const Ao={numberOfOutputs:1,requestCount:0,splitMode:null,trackDuplicates:!1};function ei(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Ao,v),ue.obj(_,e),ue.get(_,e,["url","baseURL"]),ue.setGet(_,e,["dataAccessHelper","splitMode","trackDuplicates"]),ue.algo(_,e,0,1),ue.event(_,e,"busy"),To(_,e)}const No=ue.newInstance(ei,"vtkOBJReader");var Oo={newInstance:No,extend:ei,...Co};function ko(_,e){e.classHierarchy.push("vtkPolyDataNormals"),_.vtkPolyDataNormalsExecute=(v,o,r)=>{if(!r)return null;const c=new Float32Array(r.length),d=new Float32Array(3*v);let l=0,u=0;const n=o.length,h=[0,0,0],t=[0,0,0];for(let a=0;a<n;a+=u+1)if(u=o[a],!(u<3)){for(let f=1;f<=3;++f)h[f-1]=3*o[a+f];if(Fi.computeNormal(r.slice(h[0],h[0]+3),r.slice(h[1],h[1]+3),r.slice(h[2],h[2]+3),t),d[l++]=t[0],d[l++]=t[1],d[l++]=t[2],e.computePointNormals)for(let f=1;f<=u;++f){let p=3*o[a+f];c[p]+=t[0],c[++p]+=t[1],c[++p]+=t[2]}}if(e.computePointNormals){const a=[0,0,0];for(let f=0;f<r.length;)a[0]=c[f],a[1]=c[f+1],a[2]=c[f+2],Pi.normalize(a),c[f++]=a[0],c[f++]=a[1],c[f++]=a[2]}return[d,c]},_.requestData=(v,o)=>{if(!_.getNumberOfInputPorts())return;const c=v[0];if(!c)return;const d=We.newInstance();d.setPoints(c.getPoints()),d.setVerts(c.getVerts()),d.setLines(c.getLines()),d.setPolys(c.getPolys()),d.setStrips(c.getStrips()),d.getPointData().passData(c.getPointData()),d.getCellData().passData(c.getCellData()),d.getFieldData().passData(c.getFieldData());const[l,u]=_.vtkPolyDataNormalsExecute(c.getNumberOfPolys(),c.getPolys().getData(),c.getPoints().getData());if(e.computePointNormals){const n=Me.newInstance({numberOfComponents:3,name:"Normals",values:u});d.getPointData().setNormals(n)}if(e.computeCellNormals){const n=Me.newInstance({numberOfComponents:3,name:"Normals",values:l});d.getCellData().setNormals(n)}o[0]=d}}function Fo(_){return{computeCellNormals:!1,computePointNormals:!0,..._}}function ti(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Fo(v)),ue.obj(_,e),ue.algo(_,e,1,1),ue.setGet(_,e,["computeCellNormals","computePointNormals"]),ko(_,e)}const Po=ue.newInstance(ti,"vtkPolyDataNormals");var Io={newInstance:Po,extend:ti};class Mo{constructor(e){this._color=[255,255,255],this._actors=[],this.id=e.id,this._color=e.color??this._color,this._format=e.format;const v=new TextDecoder,o=Io.newInstance(),r=c=>{const d=mt.newInstance();d.setMapper(c);const l=Fn.newInstance();return l.setColor(this._color[0]/255,this._color[1]/255,this._color[2]/255),d.setProperty(l),d};if(this._format===Je.PLY){const c=Qe.newInstance(),d=_a.newInstance();d.parseAsArrayBuffer(e.arrayBuffer),c.setInputConnection(d.getOutputPort()),this._actors.push(r(c))}else if(this._format===Je.STL){const c=Qe.newInstance(),d=Ea.newInstance();d.parseAsArrayBuffer(e.arrayBuffer),o.setInputConnection(d.getOutputPort()),c.setInputConnection(o.getOutputPort()),this._actors.push(r(c))}else if(this._format===Je.OBJ){const c=Oo.newInstance({splitMode:e.materialUrl?"usemtl":null});c.parseAsText(v.decode(e.arrayBuffer));const d=c.getNumberOfOutputPorts();for(let l=0;l<d;l++){const u=c.getOutputData(l),n=Qe.newInstance();n.setInputData(u),this._actors.push(r(n))}}else if(this._format===Je.VTP){const c=Qe.newInstance(),d=xo.newInstance();d.parseAsArrayBuffer(e.arrayBuffer),c.setInputConnection(d.getOutputPort()),this._actors.push(r(c))}this.sizeInBytes=this._getSizeInBytes()}_getSizeInBytes(){let e=0;for(let v=0;v<this._actors.length;v++){const c=this._actors[v].getMapper().getInputData(),d=c.getPoints(),l=c.getPolys(),u=d.getData().length,n=l.getData().length;e+=u*4+n*4}return e}get defaultActor(){return this._actors[0]}get actors(){return this._actors}get color(){return this._color}get format(){return this._format}}class Bo extends Ii{constructor(e,v){super(e,v),this._dimensionGroupNumber=1,this._loadedDimensionGroups=new Set,this._getImageIdRequests=(c,d)=>this.getImageIdsRequests(c,d),this.getImageLoadRequests=c=>{const d=this.getImageIdsToLoad();return this._getImageIdRequests(d,c)};const{imageIdGroups:o,splittingTag:r}=e;this._splittingTag=r,this._imageIdGroups=o,this.numDimensionGroups=this._imageIdGroups.length,this.numTimePoints=this.numDimensionGroups}_getImageIdsToLoad(){const e=this._imageIdGroups,v=this._dimensionGroupNumber-1,o=[...e[v]];let r=v-1,c=v+1;for(;r>=0||c<e.length;)r>=0&&o.push(...e[r--]),c<e.length&&o.push(...e[c++]);return o}getImageIdsToLoad(){return this._getImageIdsToLoad()}get dimensionGroupNumber(){return this._dimensionGroupNumber}set timePointIndex(e){console.warn("Warning: timePointIndex is deprecated. Please use dimensionGroupNumber instead. Note that timePointIndex is zero-based while dimensionGroupNumber starts at 1."),this.dimensionGroupNumber=e+1}set dimensionGroupNumber(e){this._dimensionGroupNumber!==e&&(this._dimensionGroupNumber=e,this.voxelManager.setDimensionGroupNumber(e),this.invalidateVolume(!0),ut(ct,lt.DYNAMIC_VOLUME_DIMENSION_GROUP_CHANGED,{volumeId:this.volumeId,dimensionGroupNumber:e,numDimensionGroups:this.numDimensionGroups,imageIdGroupIndex:e-1,numImageIdGroups:this.numDimensionGroups,splittingTag:this.splittingTag}),ut(ct,lt.DYNAMIC_VOLUME_TIME_POINT_INDEX_CHANGED,{volumeId:this.volumeId,timePointIndex:e-1,numTimePoints:this.numDimensionGroups,imageIdGroupIndex:e-1,numImageIdGroups:this.numDimensionGroups,splittingTag:this.splittingTag}))}get timePointIndex(){return console.warn("Warning: timePointIndex is deprecated. Please use dimensionGroupNumber instead. Note that timePointIndex is zero-based while dimensionGroupNumber starts at 1."),this._dimensionGroupNumber-1}scroll(e){const v=this._dimensionGroupNumber+e;v<1?this.dimensionGroupNumber=this.numDimensionGroups:v>this.numDimensionGroups?this.dimensionGroupNumber=1:this.dimensionGroupNumber=v}getCurrentDimensionGroupImageIds(){return this._imageIdGroups[this._dimensionGroupNumber-1]}getCurrentTimePointImageIds(){return console.warn("Warning: getCurrentTimePointImageIds is deprecated. Please use getCurrentDimensionGroupImageIds instead."),this.getCurrentDimensionGroupImageIds()}flatImageIdIndexToTimePointIndex(e){return console.warn("Warning: flatImageIdIndexToTimePointIndex is deprecated. Please use flatImageIdIndexToDimensionGroupNumber instead."),this.flatImageIdIndexToDimensionGroupNumber(e)-1}flatImageIdIndexToDimensionGroupNumber(e){return Math.floor(e/this._imageIdGroups[0].length)+1}flatImageIdIndexToImageIdIndex(e){return e%this._imageIdGroups[0].length}get splittingTag(){return this._splittingTag}isTimePointLoaded(e){return console.warn("Warning: isTimePointLoaded is deprecated. Please use isDimensionGroupLoaded instead. Note that timePointIndex is zero-based while dimensionGroupNumber starts at 1."),this.isDimensionGroupLoaded(e+1)}isDimensionGroupLoaded(e){return this._loadedDimensionGroups.has(e)}markDimensionGroupAsLoaded(e){this._loadedDimensionGroups.add(e),ut(ct,lt.DYNAMIC_VOLUME_DIMENSION_GROUP_LOADED,{volumeId:this.volumeId,dimensionGroupNumber:e}),ut(ct,lt.DYNAMIC_VOLUME_TIME_POINT_LOADED,{volumeId:this.volumeId,timePointIndex:e-1})}checkTimePointCompletion(e){console.warn("Warning: checkTimePointCompletion is deprecated. Please use checkDimensionGroupCompletion instead."),this.checkDimensionGroupCompletion(e)}checkDimensionGroupCompletion(e){const v=this.flatImageIdIndexToDimensionGroupNumber(e);this._imageIdGroups[v-1].every(c=>{const d=this.getImageIdIndex(c);return this.cachedFrames[d]===Mi.FULL_RESOLUTION})&&!this.isDimensionGroupLoaded(v)&&this.markDimensionGroupAsLoaded(v)}}function rr(_,e){return _==null||e==null?NaN:_<e?-1:_>e?1:_>=e?0:NaN}function Lo(_,e){return _==null||e==null?NaN:e<_?-1:e>_?1:e>=_?0:NaN}function ri(_){let e,v,o;_.length!==2?(e=rr,v=(l,u)=>rr(_(l),u),o=(l,u)=>_(l)-u):(e=_===rr||_===Lo?_:Uo,v=_,o=_);function r(l,u,n=0,h=l.length){if(n<h){if(e(u,u)!==0)return h;do{const t=n+h>>>1;v(l[t],u)<0?n=t+1:h=t}while(n<h)}return n}function c(l,u,n=0,h=l.length){if(n<h){if(e(u,u)!==0)return h;do{const t=n+h>>>1;v(l[t],u)<=0?n=t+1:h=t}while(n<h)}return n}function d(l,u,n=0,h=l.length){const t=r(l,u,n,h-1);return t>n&&o(l[t-1],u)>-o(l[t],u)?t-1:t}return{left:r,center:d,right:c}}function Uo(){return 0}function Ro(_){return _===null?NaN:+_}const jo=ri(rr),zo=jo.right;ri(Ro).center;const Go=Math.sqrt(50),Vo=Math.sqrt(10),Wo=Math.sqrt(2);function ar(_,e,v){const o=(e-_)/Math.max(0,v),r=Math.floor(Math.log10(o)),c=o/Math.pow(10,r),d=c>=Go?10:c>=Vo?5:c>=Wo?2:1;let l,u,n;return r<0?(n=Math.pow(10,-r)/d,l=Math.round(_*n),u=Math.round(e*n),l/n<_&&++l,u/n>e&&--u,n=-n):(n=Math.pow(10,r)*d,l=Math.round(_/n),u=Math.round(e/n),l*n<_&&++l,u*n>e&&--u),u<l&&.5<=v&&v<2?ar(_,e,v*2):[l,u,n]}function Ho(_,e,v){if(e=+e,_=+_,v=+v,!(v>0))return[];if(_===e)return[_];const o=e<_,[r,c,d]=o?ar(e,_,v):ar(_,e,v);if(!(c>=r))return[];const l=c-r+1,u=new Array(l);if(o)if(d<0)for(let n=0;n<l;++n)u[n]=(c-n)/-d;else for(let n=0;n<l;++n)u[n]=(c-n)*d;else if(d<0)for(let n=0;n<l;++n)u[n]=(r+n)/-d;else for(let n=0;n<l;++n)u[n]=(r+n)*d;return u}function Ir(_,e,v){return e=+e,_=+_,v=+v,ar(_,e,v)[2]}function Xo(_,e,v){e=+e,_=+_,v=+v;const o=e<_,r=o?Ir(e,_,v):Ir(_,e,v);return(o?-1:1)*(r<0?1/-r:r)}function qo(_,e){switch(arguments.length){case 0:break;case 1:this.range(_);break;default:this.range(e).domain(_);break}return this}function qr(_,e,v){_.prototype=e.prototype=v,v.constructor=_}function ni(_,e){var v=Object.create(_.prototype);for(var o in e)v[o]=e[o];return v}function jt(){}var Mt=.7,or=1/Mt,_t="\\s*([+-]?\\d+)\\s*",Bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ye="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$o=/^#([0-9a-f]{3,8})$/,Ko=new RegExp(`^rgb\\(${_t},${_t},${_t}\\)$`),Jo=new RegExp(`^rgb\\(${Ye},${Ye},${Ye}\\)$`),Yo=new RegExp(`^rgba\\(${_t},${_t},${_t},${Bt}\\)$`),Qo=new RegExp(`^rgba\\(${Ye},${Ye},${Ye},${Bt}\\)$`),Zo=new RegExp(`^hsl\\(${Bt},${Ye},${Ye}\\)$`),es=new RegExp(`^hsla\\(${Bt},${Ye},${Ye},${Bt}\\)$`),ln={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qr(jt,Lt,{copy(_){return Object.assign(new this.constructor,this,_)},displayable(){return this.rgb().displayable()},hex:cn,formatHex:cn,formatHex8:ts,formatHsl:rs,formatRgb:fn,toString:fn});function cn(){return this.rgb().formatHex()}function ts(){return this.rgb().formatHex8()}function rs(){return ii(this).formatHsl()}function fn(){return this.rgb().formatRgb()}function Lt(_){var e,v;return _=(_+"").trim().toLowerCase(),(e=$o.exec(_))?(v=e[1].length,e=parseInt(e[1],16),v===6?hn(e):v===3?new Re(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):v===8?Vt(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):v===4?Vt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ko.exec(_))?new Re(e[1],e[2],e[3],1):(e=Jo.exec(_))?new Re(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Yo.exec(_))?Vt(e[1],e[2],e[3],e[4]):(e=Qo.exec(_))?Vt(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Zo.exec(_))?mn(e[1],e[2]/100,e[3]/100,1):(e=es.exec(_))?mn(e[1],e[2]/100,e[3]/100,e[4]):ln.hasOwnProperty(_)?hn(ln[_]):_==="transparent"?new Re(NaN,NaN,NaN,0):null}function hn(_){return new Re(_>>16&255,_>>8&255,_&255,1)}function Vt(_,e,v,o){return o<=0&&(_=e=v=NaN),new Re(_,e,v,o)}function ns(_){return _ instanceof jt||(_=Lt(_)),_?(_=_.rgb(),new Re(_.r,_.g,_.b,_.opacity)):new Re}function Mr(_,e,v,o){return arguments.length===1?ns(_):new Re(_,e,v,o??1)}function Re(_,e,v,o){this.r=+_,this.g=+e,this.b=+v,this.opacity=+o}qr(Re,Mr,ni(jt,{brighter(_){return _=_==null?or:Math.pow(or,_),new Re(this.r*_,this.g*_,this.b*_,this.opacity)},darker(_){return _=_==null?Mt:Math.pow(Mt,_),new Re(this.r*_,this.g*_,this.b*_,this.opacity)},rgb(){return this},clamp(){return new Re(dt(this.r),dt(this.g),dt(this.b),sr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pn,formatHex:pn,formatHex8:is,formatRgb:dn,toString:dn}));function pn(){return`#${ht(this.r)}${ht(this.g)}${ht(this.b)}`}function is(){return`#${ht(this.r)}${ht(this.g)}${ht(this.b)}${ht((isNaN(this.opacity)?1:this.opacity)*255)}`}function dn(){const _=sr(this.opacity);return`${_===1?"rgb(":"rgba("}${dt(this.r)}, ${dt(this.g)}, ${dt(this.b)}${_===1?")":`, ${_})`}`}function sr(_){return isNaN(_)?1:Math.max(0,Math.min(1,_))}function dt(_){return Math.max(0,Math.min(255,Math.round(_)||0))}function ht(_){return _=dt(_),(_<16?"0":"")+_.toString(16)}function mn(_,e,v,o){return o<=0?_=e=v=NaN:v<=0||v>=1?_=e=NaN:e<=0&&(_=NaN),new $e(_,e,v,o)}function ii(_){if(_ instanceof $e)return new $e(_.h,_.s,_.l,_.opacity);if(_ instanceof jt||(_=Lt(_)),!_)return new $e;if(_ instanceof $e)return _;_=_.rgb();var e=_.r/255,v=_.g/255,o=_.b/255,r=Math.min(e,v,o),c=Math.max(e,v,o),d=NaN,l=c-r,u=(c+r)/2;return l?(e===c?d=(v-o)/l+(v<o)*6:v===c?d=(o-e)/l+2:d=(e-v)/l+4,l/=u<.5?c+r:2-c-r,d*=60):l=u>0&&u<1?0:d,new $e(d,l,u,_.opacity)}function as(_,e,v,o){return arguments.length===1?ii(_):new $e(_,e,v,o??1)}function $e(_,e,v,o){this.h=+_,this.s=+e,this.l=+v,this.opacity=+o}qr($e,as,ni(jt,{brighter(_){return _=_==null?or:Math.pow(or,_),new $e(this.h,this.s,this.l*_,this.opacity)},darker(_){return _=_==null?Mt:Math.pow(Mt,_),new $e(this.h,this.s,this.l*_,this.opacity)},rgb(){var _=this.h%360+(this.h<0)*360,e=isNaN(_)||isNaN(this.s)?0:this.s,v=this.l,o=v+(v<.5?v:1-v)*e,r=2*v-o;return new Re(Dr(_>=240?_-240:_+120,r,o),Dr(_,r,o),Dr(_<120?_+240:_-120,r,o),this.opacity)},clamp(){return new $e(gn(this.h),Wt(this.s),Wt(this.l),sr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const _=sr(this.opacity);return`${_===1?"hsl(":"hsla("}${gn(this.h)}, ${Wt(this.s)*100}%, ${Wt(this.l)*100}%${_===1?")":`, ${_})`}`}}));function gn(_){return _=(_||0)%360,_<0?_+360:_}function Wt(_){return Math.max(0,Math.min(1,_||0))}function Dr(_,e,v){return(_<60?e+(v-e)*_/60:_<180?v:_<240?e+(v-e)*(240-_)/60:e)*255}const $r=_=>()=>_;function os(_,e){return function(v){return _+v*e}}function ss(_,e,v){return _=Math.pow(_,v),e=Math.pow(e,v)-_,v=1/v,function(o){return Math.pow(_+o*e,v)}}function us(_){return(_=+_)==1?ai:function(e,v){return v-e?ss(e,v,_):$r(isNaN(e)?v:e)}}function ai(_,e){var v=e-_;return v?os(_,v):$r(isNaN(_)?e:_)}const yn=function _(e){var v=us(e);function o(r,c){var d=v((r=Mr(r)).r,(c=Mr(c)).r),l=v(r.g,c.g),u=v(r.b,c.b),n=ai(r.opacity,c.opacity);return function(h){return r.r=d(h),r.g=l(h),r.b=u(h),r.opacity=n(h),r+""}}return o.gamma=_,o}(1);function ls(_,e){e||(e=[]);var v=_?Math.min(e.length,_.length):0,o=e.slice(),r;return function(c){for(r=0;r<v;++r)o[r]=_[r]*(1-c)+e[r]*c;return o}}function cs(_){return ArrayBuffer.isView(_)&&!(_ instanceof DataView)}function fs(_,e){var v=e?e.length:0,o=_?Math.min(v,_.length):0,r=new Array(o),c=new Array(v),d;for(d=0;d<o;++d)r[d]=Kr(_[d],e[d]);for(;d<v;++d)c[d]=e[d];return function(l){for(d=0;d<o;++d)c[d]=r[d](l);return c}}function hs(_,e){var v=new Date;return _=+_,e=+e,function(o){return v.setTime(_*(1-o)+e*o),v}}function ur(_,e){return _=+_,e=+e,function(v){return _*(1-v)+e*v}}function ps(_,e){var v={},o={},r;(_===null||typeof _!="object")&&(_={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in _?v[r]=Kr(_[r],e[r]):o[r]=e[r];return function(c){for(r in v)o[r]=v[r](c);return o}}var Br=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Er=new RegExp(Br.source,"g");function ds(_){return function(){return _}}function ms(_){return function(e){return _(e)+""}}function gs(_,e){var v=Br.lastIndex=Er.lastIndex=0,o,r,c,d=-1,l=[],u=[];for(_=_+"",e=e+"";(o=Br.exec(_))&&(r=Er.exec(e));)(c=r.index)>v&&(c=e.slice(v,c),l[d]?l[d]+=c:l[++d]=c),(o=o[0])===(r=r[0])?l[d]?l[d]+=r:l[++d]=r:(l[++d]=null,u.push({i:d,x:ur(o,r)})),v=Er.lastIndex;return v<e.length&&(c=e.slice(v),l[d]?l[d]+=c:l[++d]=c),l.length<2?u[0]?ms(u[0].x):ds(e):(e=u.length,function(n){for(var h=0,t;h<e;++h)l[(t=u[h]).i]=t.x(n);return l.join("")})}function Kr(_,e){var v=typeof e,o;return e==null||v==="boolean"?$r(e):(v==="number"?ur:v==="string"?(o=Lt(e))?(e=o,yn):gs:e instanceof Lt?yn:e instanceof Date?hs:cs(e)?ls:Array.isArray(e)?fs:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ps:ur)(_,e)}function ys(_,e){return _=+_,e=+e,function(v){return Math.round(_*(1-v)+e*v)}}function vs(_){return function(){return _}}function _s(_){return+_}var vn=[0,1];function yt(_){return _}function Lr(_,e){return(e-=_=+_)?function(v){return(v-_)/e}:vs(isNaN(e)?NaN:.5)}function xs(_,e){var v;return _>e&&(v=_,_=e,e=v),function(o){return Math.max(_,Math.min(e,o))}}function bs(_,e,v){var o=_[0],r=_[1],c=e[0],d=e[1];return r<o?(o=Lr(r,o),c=v(d,c)):(o=Lr(o,r),c=v(c,d)),function(l){return c(o(l))}}function ws(_,e,v){var o=Math.min(_.length,e.length)-1,r=new Array(o),c=new Array(o),d=-1;for(_[o]<_[0]&&(_=_.slice().reverse(),e=e.slice().reverse());++d<o;)r[d]=Lr(_[d],_[d+1]),c[d]=v(e[d],e[d+1]);return function(l){var u=zo(_,l,1,o)-1;return c[u](r[u](l))}}function Ss(_,e){return e.domain(_.domain()).range(_.range()).interpolate(_.interpolate()).clamp(_.clamp()).unknown(_.unknown())}function Ds(){var _=vn,e=vn,v=Kr,o,r,c,d=yt,l,u,n;function h(){var a=Math.min(_.length,e.length);return d!==yt&&(d=xs(_[0],_[a-1])),l=a>2?ws:bs,u=n=null,t}function t(a){return a==null||isNaN(a=+a)?c:(u||(u=l(_.map(o),e,v)))(o(d(a)))}return t.invert=function(a){return d(r((n||(n=l(e,_.map(o),ur)))(a)))},t.domain=function(a){return arguments.length?(_=Array.from(a,_s),h()):_.slice()},t.range=function(a){return arguments.length?(e=Array.from(a),h()):e.slice()},t.rangeRound=function(a){return e=Array.from(a),v=ys,h()},t.clamp=function(a){return arguments.length?(d=a?!0:yt,h()):d!==yt},t.interpolate=function(a){return arguments.length?(v=a,h()):v},t.unknown=function(a){return arguments.length?(c=a,t):c},function(a,f){return o=a,r=f,h()}}function Es(){return Ds()(yt,yt)}function Cs(_){return Math.abs(_=Math.round(_))>=1e21?_.toLocaleString("en").replace(/,/g,""):_.toString(10)}function lr(_,e){if((v=(_=e?_.toExponential(e-1):_.toExponential()).indexOf("e"))<0)return null;var v,o=_.slice(0,v);return[o.length>1?o[0]+o.slice(2):o,+_.slice(v+1)]}function wt(_){return _=lr(Math.abs(_)),_?_[1]:NaN}function Ts(_,e){return function(v,o){for(var r=v.length,c=[],d=0,l=_[0],u=0;r>0&&l>0&&(u+l+1>o&&(l=Math.max(1,o-u)),c.push(v.substring(r-=l,r+l)),!((u+=l+1)>o));)l=_[d=(d+1)%_.length];return c.reverse().join(e)}}function As(_){return function(e){return e.replace(/[0-9]/g,function(v){return _[+v]})}}var Ns=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cr(_){if(!(e=Ns.exec(_)))throw new Error("invalid format: "+_);var e;return new Jr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}cr.prototype=Jr.prototype;function Jr(_){this.fill=_.fill===void 0?" ":_.fill+"",this.align=_.align===void 0?">":_.align+"",this.sign=_.sign===void 0?"-":_.sign+"",this.symbol=_.symbol===void 0?"":_.symbol+"",this.zero=!!_.zero,this.width=_.width===void 0?void 0:+_.width,this.comma=!!_.comma,this.precision=_.precision===void 0?void 0:+_.precision,this.trim=!!_.trim,this.type=_.type===void 0?"":_.type+""}Jr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Os(_){e:for(var e=_.length,v=1,o=-1,r;v<e;++v)switch(_[v]){case".":o=r=v;break;case"0":o===0&&(o=v),r=v;break;default:if(!+_[v])break e;o>0&&(o=0);break}return o>0?_.slice(0,o)+_.slice(r+1):_}var oi;function ks(_,e){var v=lr(_,e);if(!v)return _+"";var o=v[0],r=v[1],c=r-(oi=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,d=o.length;return c===d?o:c>d?o+new Array(c-d+1).join("0"):c>0?o.slice(0,c)+"."+o.slice(c):"0."+new Array(1-c).join("0")+lr(_,Math.max(0,e+c-1))[0]}function _n(_,e){var v=lr(_,e);if(!v)return _+"";var o=v[0],r=v[1];return r<0?"0."+new Array(-r).join("0")+o:o.length>r+1?o.slice(0,r+1)+"."+o.slice(r+1):o+new Array(r-o.length+2).join("0")}const xn={"%":(_,e)=>(_*100).toFixed(e),b:_=>Math.round(_).toString(2),c:_=>_+"",d:Cs,e:(_,e)=>_.toExponential(e),f:(_,e)=>_.toFixed(e),g:(_,e)=>_.toPrecision(e),o:_=>Math.round(_).toString(8),p:(_,e)=>_n(_*100,e),r:_n,s:ks,X:_=>Math.round(_).toString(16).toUpperCase(),x:_=>Math.round(_).toString(16)};function bn(_){return _}var wn=Array.prototype.map,Sn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Fs(_){var e=_.grouping===void 0||_.thousands===void 0?bn:Ts(wn.call(_.grouping,Number),_.thousands+""),v=_.currency===void 0?"":_.currency[0]+"",o=_.currency===void 0?"":_.currency[1]+"",r=_.decimal===void 0?".":_.decimal+"",c=_.numerals===void 0?bn:As(wn.call(_.numerals,String)),d=_.percent===void 0?"%":_.percent+"",l=_.minus===void 0?"−":_.minus+"",u=_.nan===void 0?"NaN":_.nan+"";function n(t){t=cr(t);var a=t.fill,f=t.align,p=t.sign,m=t.symbol,y=t.zero,g=t.width,i=t.comma,s=t.precision,x=t.trim,b=t.type;b==="n"?(i=!0,b="g"):xn[b]||(s===void 0&&(s=12),x=!0,b="g"),(y||a==="0"&&f==="=")&&(y=!0,a="0",f="=");var w=m==="$"?v:m==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",S=m==="$"?o:/[%p]/.test(b)?d:"",D=xn[b],C=/[defgprs%]/.test(b);s=s===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,s)):Math.max(0,Math.min(20,s));function A(T){var O=w,I=S,k,R,G;if(b==="c")I=D(T)+I,T="";else{T=+T;var W=T<0||1/T<0;if(T=isNaN(T)?u:D(Math.abs(T),s),x&&(T=Os(T)),W&&+T==0&&p!=="+"&&(W=!1),O=(W?p==="("?p:l:p==="-"||p==="("?"":p)+O,I=(b==="s"?Sn[8+oi/3]:"")+I+(W&&p==="("?")":""),C){for(k=-1,R=T.length;++k<R;)if(G=T.charCodeAt(k),48>G||G>57){I=(G===46?r+T.slice(k+1):T.slice(k))+I,T=T.slice(0,k);break}}}i&&!y&&(T=e(T,1/0));var L=O.length+T.length+I.length,j=L<g?new Array(g-L+1).join(a):"";switch(i&&y&&(T=e(j+T,j.length?g-I.length:1/0),j=""),f){case"<":T=O+T+I+j;break;case"=":T=O+j+T+I;break;case"^":T=j.slice(0,L=j.length>>1)+O+T+I+j.slice(L);break;default:T=j+O+T+I;break}return c(T)}return A.toString=function(){return t+""},A}function h(t,a){var f=n((t=cr(t),t.type="f",t)),p=Math.max(-8,Math.min(8,Math.floor(wt(a)/3)))*3,m=Math.pow(10,-p),y=Sn[8+p/3];return function(g){return f(m*g)+y}}return{format:n,formatPrefix:h}}var Ht,si,ui;Ps({thousands:",",grouping:[3],currency:["$",""]});function Ps(_){return Ht=Fs(_),si=Ht.format,ui=Ht.formatPrefix,Ht}function Is(_){return Math.max(0,-wt(Math.abs(_)))}function Ms(_,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wt(e)/3)))*3-wt(Math.abs(_)))}function Bs(_,e){return _=Math.abs(_),e=Math.abs(e)-_,Math.max(0,wt(e)-wt(_))+1}function Ls(_,e,v,o){var r=Xo(_,e,v),c;switch(o=cr(o??",f"),o.type){case"s":{var d=Math.max(Math.abs(_),Math.abs(e));return o.precision==null&&!isNaN(c=Ms(r,d))&&(o.precision=c),ui(o,d)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(c=Bs(r,Math.max(Math.abs(_),Math.abs(e))))&&(o.precision=c-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(c=Is(r))&&(o.precision=c-(o.type==="%")*2);break}}return si(o)}function Us(_){var e=_.domain;return _.ticks=function(v){var o=e();return Ho(o[0],o[o.length-1],v??10)},_.tickFormat=function(v,o){var r=e();return Ls(r[0],r[r.length-1],v??10,o)},_.nice=function(v){v==null&&(v=10);var o=e(),r=0,c=o.length-1,d=o[r],l=o[c],u,n,h=10;for(l<d&&(n=d,d=l,l=n,n=r,r=c,c=n);h-- >0;){if(n=Ir(d,l,v),n===u)return o[r]=d,o[c]=l,e(o);if(n>0)d=Math.floor(d/n)*n,l=Math.ceil(l/n)*n;else if(n<0)d=Math.ceil(d*n)/n,l=Math.floor(l*n)/n;else break;u=n}return _},_}function Yr(){var _=Es();return _.copy=function(){return Ss(_,Yr())},qo.apply(_,arguments),Us(_)}function Rs(_,e){e.classHierarchy.push("vtkTexture"),_.imageLoaded=()=>{e.image.removeEventListener("load",_.imageLoaded),e.imageLoaded=!0,_.modified()},_.setJsImageData=v=>{e.jsImageData!==v&&(v!==null&&(_.setInputData(null),_.setInputConnection(null),e.image=null,e.canvas=null),e.jsImageData=v,e.imageLoaded=!0,_.modified())},_.setCanvas=v=>{e.canvas!==v&&(v!==null&&(_.setInputData(null),_.setInputConnection(null),e.image=null,e.jsImageData=null),e.canvas=v,_.modified())},_.setImage=v=>{e.image!==v&&(v!==null&&(_.setInputData(null),_.setInputConnection(null),e.canvas=null,e.jsImageData=null),e.image=v,e.imageLoaded=!1,v.complete?_.imageLoaded():v.addEventListener("load",_.imageLoaded),_.modified())},_.getDimensionality=()=>{let v=0,o=0,r=1;if(_.getInputData()){const d=_.getInputData();v=d.getDimensions()[0],o=d.getDimensions()[1],r=d.getDimensions()[2]}return e.jsImageData&&(v=e.jsImageData.width,o=e.jsImageData.height),e.canvas&&(v=e.canvas.width,o=e.canvas.height),e.image&&(v=e.image.width,o=e.image.height),(v>1)+(o>1)+(r>1)},_.getInputAsJsImageData=()=>{if(!e.imageLoaded||_.getInputData())return null;if(e.jsImageData)return e.jsImageData();if(e.canvas)return e.canvas.getContext("2d").getImageData(0,0,e.canvas.width,e.canvas.height);if(e.image){const v=document.createElement("canvas");v.width=e.image.width,v.height=e.image.height;const o=v.getContext("2d");return o.translate(0,v.height),o.scale(1,-1),o.drawImage(e.image,0,0,e.image.width,e.image.height),o.getImageData(0,0,v.width,v.height)}return null}}const js=(_,e,v,o)=>{const r=[1,2,1],c=4,d=r,l=c,u=_.length/(e*v);let n=e,h=v,t=_;const a=[t];for(let f=0;f<o;f++){const p=[...t];n/=2,h/=2,t=new Uint8ClampedArray(n*h*u);const m=u*n;let y=0;for(let i=0;i<t.length;i+=u){i%m===0&&(y+=2*u*n);for(let s=0;s<u;s++){let x=p[y+s];x+=p[y+u+s],x+=p[y-2*m+s],x+=p[y-2*m+u+s],x/=4,t[i+s]=x}y+=2*u}let g=[...t];for(let i=0;i<t.length;i+=u)for(let s=0;s<u;s++){let x=-(d.length-1)/2,b=l,w=0;for(let S=0;S<d.length;S++){let D=i+s+x*u;const C=D%m-(i+s)%m;C>u&&(D+=m),C<-u&&(D-=m),g[D]?w+=g[D]*d[S]:b-=d[S],x+=1}t[i+s]=w/b}g=[...t];for(let i=0;i<t.length;i+=u)for(let s=0;s<u;s++){let x=-(d.length-1)/2,b=l,w=0;for(let S=0;S<d.length;S++){const D=i+s+x*m;g[D]?w+=g[D]*d[S]:b-=d[S],x+=1}t[i+s]=w/b}a.push(t)}return a},zs={image:null,canvas:null,jsImageData:null,imageLoaded:!1,repeat:!1,interpolate:!1,edgeClamp:!1,mipLevel:0,resizable:!1};function li(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,zs,v),ue.obj(_,e),ue.algo(_,e,6,0),ue.get(_,e,["canvas","image","jsImageData","imageLoaded","resizable"]),ue.setGet(_,e,["repeat","edgeClamp","interpolate","mipLevel"]),Rs(_,e)}const Gs=ue.newInstance(li,"vtkTexture"),Vs={generateMipmaps:js};var Dt={newInstance:Gs,extend:li,...Vs};const Ws=[[-1,0,0],[1,0,0],[0,-1,0],[0,1,0],[0,0,-1],[0,0,1]],Dn=[[8,7,11,3],[9,1,10,5],[4,9,0,8],[2,11,6,10],[0,3,2,1],[4,5,6,7]],Xt=[[0,1],[1,3],[2,3],[0,2],[4,5],[5,7],[6,7],[4,6],[0,4],[1,5],[3,7],[2,6]],En=[0,1,0,1,0,1,0,1,2,2,2,2],Fe=[[1,2],[1,2],[0,2],[0,2],[0,1],[0,1]],_e=new Float64Array(3),qt=new Float64Array(3),Te=new Float64Array(3),st=new Float64Array(3),it=new Float64Array(3),$t=new Float64Array(3),Cr=new Float64Array(16);function Tr(_,e){_.strokeStyle=e.strokeColor,_.lineWidth=e.strokeSize,_.fillStyle=e.fontColor,_.font=`${e.fontStyle} ${e.fontSize}px ${e.fontFamily}`}function ci(_){const e=[],v=[];for(let o=0;o<3;o++){const r=Yr().domain([_[o*2],_[o*2+1]]);e[o]=r.ticks(5);const c=r.tickFormat(5);v[o]=e[o].map(c)}return{ticks:e,tickStrings:v}}function Hs(_,e){e.classHierarchy.push("vtkCubeAxesActorHelper"),_.setRenderable=v=>{e.renderable!==v&&(e.renderable=v,e.tmActor.addTexture(e.renderable.getTmTexture()),e.tmActor.setProperty(v.getProperty()),e.tmActor.setParentProp(v),_.modified())},_.createPolyDataForOneLabel=(v,o,r,c,d,l,u)=>{const n=e.renderable.get_tmAtlas().get(v);if(!n)return;const h=e.renderable.getTextPolyData().getPoints().getData(),t=e.lastSize;_e[0]=h[o*3],_e[1]=h[o*3+1],_e[2]=h[o*3+2],ot(Te,_e,r),Te[0]+=.1,ot(qt,Te,c),Et(it,qt,_e),Te[0]-=.1,Te[1]+=.1,ot(qt,Te,c),Et($t,qt,_e);for(let p=0;p<3;p++)it[p]/=.5*.1*t[0],$t[p]/=.5*.1*t[1];let a=u.ptIdx,f=u.cellIdx;_e[0]=h[o*3],_e[1]=h[o*3+1],_e[2]=h[o*3+2],d[0]<-.5?nt(Te,it,d[0]*l-n.width):d[0]>.5?nt(Te,it,d[0]*l):nt(Te,it,d[0]*l-n.width/2),zt(_e,_e,Te),nt(Te,$t,d[1]*l-n.height/2),zt(_e,_e,Te),u.points[a*3]=_e[0],u.points[a*3+1]=_e[1],u.points[a*3+2]=_e[2],u.tcoords[a*2]=n.tcoords[0],u.tcoords[a*2+1]=n.tcoords[1],a++,nt(Te,it,n.width),zt(_e,_e,Te),u.points[a*3]=_e[0],u.points[a*3+1]=_e[1],u.points[a*3+2]=_e[2],u.tcoords[a*2]=n.tcoords[2],u.tcoords[a*2+1]=n.tcoords[3],a++,nt(Te,$t,n.height),zt(_e,_e,Te),u.points[a*3]=_e[0],u.points[a*3+1]=_e[1],u.points[a*3+2]=_e[2],u.tcoords[a*2]=n.tcoords[4],u.tcoords[a*2+1]=n.tcoords[5],a++,nt(Te,it,n.width),Et(_e,_e,Te),u.points[a*3]=_e[0],u.points[a*3+1]=_e[1],u.points[a*3+2]=_e[2],u.tcoords[a*2]=n.tcoords[6],u.tcoords[a*2+1]=n.tcoords[7],a++,u.polys[f*4]=3,u.polys[f*4+1]=a-4,u.polys[f*4+2]=a-3,u.polys[f*4+3]=a-2,f++,u.polys[f*4]=3,u.polys[f*4+1]=a-4,u.polys[f*4+2]=a-2,u.polys[f*4+3]=a-1,u.ptIdx+=4,u.cellIdx+=2},_.updateTexturePolyData=()=>{const v=e.camera.getCompositeProjectionMatrix(e.lastAspectRatio,-1,1);Nt(v,v);const o=e.renderable.getTextValues().length,r=o*4,c=o*2,d=new Float64Array(r*3),l=new Uint16Array(c*4),u=new Float32Array(r*2);Pn(Cr,v);const n={ptIdx:0,cellIdx:0,polys:l,points:d,tcoords:u};let h=0,t=0,a=0;const f=e.renderable.getTextPolyData().getPoints().getData(),p=e.renderable.getTextValues();for(;h<f.length/3;){_e[0]=f[h*3],_e[1]=f[h*3+1],_e[2]=f[h*3+2],ot(Te,_e,v),_e[0]=f[h*3+3],_e[1]=f[h*3+4],_e[2]=f[h*3+5],ot(st,_e,v),Et(Te,Te,st);const y=[Te[0],Te[1]];Bi(y),_.createPolyDataForOneLabel(p[t],h,v,Cr,y,e.renderable.getAxisTitlePixelOffset(),n),h+=2,t++;for(let g=0;g<e.renderable.getTickCounts()[a];g++)_.createPolyDataForOneLabel(p[t],h,v,Cr,y,e.renderable.getTickLabelPixelOffset(),n),h++,t++;a++}const m=Me.newInstance({numberOfComponents:2,values:u,name:"TextureCoordinates"});e.tmPolyData.getPointData().setTCoords(m),e.tmPolyData.getPoints().setData(d,3),e.tmPolyData.getPoints().modified(),e.tmPolyData.getPolys().setData(l,1),e.tmPolyData.getPolys().modified(),e.tmPolyData.modified()},_.updateAPISpecificData=(v,o,r)=>{(e.lastSize[0]!==v[0]||e.lastSize[1]!==v[1])&&(e.lastSize[0]=v[0],e.lastSize[1]=v[1],e.lastAspectRatio=v[0]/v[1],e.forceUpdate=!0),e.camera=o,_.updateTexturePolyData()}}const Xs=ue.newInstance(function(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{renderable:null};Object.assign(e,{},v),ue.obj(_,e),e.tmPolyData=We.newInstance(),e.tmMapper=Qe.newInstance(),e.tmMapper.setInputData(e.tmPolyData),e.tmActor=mt.newInstance({parentProp:_}),e.tmActor.setMapper(e.tmMapper),ue.setGet(_,e,["renderable"]),ue.get(_,e,["lastSize","lastAspectRatio","axisTextStyle","tickTextStyle","tmActor","ticks"]),e.forceUpdate=!1,e.lastRedrawTime={},ue.obj(e.lastRedrawTime,{mtime:0}),e.lastRebuildTime={},ue.obj(e.lastRebuildTime,{mtime:0}),e.lastSize=[-1,-1],e.lastTickBounds=[],Hs(_,e)},"vtkCubeAxesActorHelper");function qs(_,e){e.classHierarchy.push("vtkCubeAxesActor"),_.setCamera=o=>{e.camera!==o&&(e.cameraModifiedSub&&(e.cameraModifiedSub.unsubscribe(),e.cameraModifiedSub=null),e.camera=o,o&&(e.cameraModifiedSub=o.onModified(_.update)),_.update(),_.modified())},_.computeFacesToDraw=()=>{const o=e.camera.getViewMatrix();Nt(o,o);let r=!1;const c=er.getDiagonalLength(e.dataBounds),d=Math.sin(e.faceVisibilityAngle*Math.PI/180);for(let l=0;l<6;l++){let u=!1;const n=Math.floor(l/2),h=(n+1)%3,t=(n+2)%3;e.dataBounds[h*2]!==e.dataBounds[h*2+1]&&e.dataBounds[t*2]!==e.dataBounds[t*2+1]&&(_e[n]=e.dataBounds[l]-.1*c*Ws[l][n],_e[h]=.5*(e.dataBounds[h*2]+e.dataBounds[h*2+1]),_e[t]=.5*(e.dataBounds[t*2]+e.dataBounds[t*2+1]),ot(Te,_e,o),_e[n]=e.dataBounds[l],ot(st,_e,o),Et(Te,st,Te),Qr(Te,Te),u=Te[2]>d,e.camera.getParallelProjection()||(Qr(st,st),u=Li(st,Te)>d)),u!==e.lastFacesToDraw[l]&&(e.lastFacesToDraw[l]=u,r=!0)}return r},_.updatePolyData=(o,r,c)=>{let d=0,l=0;d+=8;let u=0;for(let f=0;f<12;f++)r[f]>0&&u++;if(l+=u,e.gridLines)for(let f=0;f<6;f++)o[f]&&(d+=c[Fe[f][0]].length*2+c[Fe[f][1]].length*2,l+=c[Fe[f][0]].length+c[Fe[f][1]].length);const n=new Float64Array(d*3),h=new Uint32Array(l*3);let t=0,a=0;for(let f=0;f<2;f++)for(let p=0;p<2;p++)for(let m=0;m<2;m++)n[t*3]=e.dataBounds[m],n[t*3+1]=e.dataBounds[2+p],n[t*3+2]=e.dataBounds[4+f],t++;for(let f=0;f<12;f++)r[f]>0&&(h[a*3]=2,h[a*3+1]=Xt[f][0],h[a*3+2]=Xt[f][1],a++);if(e.gridLines){for(let f=0;f<6;f++)if(o[f]){const p=Math.floor(f/2);let m=c[Fe[f][0]];for(let y=0;y<m.length;y++)n[t*3+p]=e.dataBounds[f],n[t*3+Fe[f][0]]=m[y],n[t*3+Fe[f][1]]=e.dataBounds[Fe[f][1]*2],t++,n[t*3+p]=e.dataBounds[f],n[t*3+Fe[f][0]]=m[y],n[t*3+Fe[f][1]]=e.dataBounds[Fe[f][1]*2+1],t++,h[a*3]=2,h[a*3+1]=t-2,h[a*3+2]=t-1,a++;m=c[Fe[f][1]];for(let y=0;y<m.length;y++)n[t*3+p]=e.dataBounds[f],n[t*3+Fe[f][1]]=m[y],n[t*3+Fe[f][0]]=e.dataBounds[Fe[f][0]*2],t++,n[t*3+p]=e.dataBounds[f],n[t*3+Fe[f][1]]=m[y],n[t*3+Fe[f][0]]=e.dataBounds[Fe[f][0]*2+1],t++,h[a*3]=2,h[a*3+1]=t-2,h[a*3+2]=t-1,a++}}e.polyData.getPoints().setData(n,3),e.polyData.getPoints().modified(),e.polyData.getLines().setData(h,1),e.polyData.getLines().modified(),e.polyData.modified()},_.updateTextData=(o,r,c,d)=>{let l=0;for(let f=0;f<12;f++)r[f]===1&&(l+=2,l+=c[En[f]].length);const u=e.polyData.getPoints().getData(),n=new Float64Array(l*3);let h=0,t=0,a=0;for(let f=0;f<6;f++)if(o[f])for(let p=0;p<4;p++){const m=Dn[f][p];if(r[m]===1){const y=En[m],g=Xt[m][0]*3,i=Xt[m][1]*3;n[h*3]=.5*(u[g]+u[i]),n[h*3+1]=.5*(u[g+1]+u[i+1]),n[h*3+2]=.5*(u[g+2]+u[i+2]),h++;const s=Math.floor(f/2);n[h*3+s]=e.dataBounds[f],n[h*3+Fe[f][0]]=.5*(e.dataBounds[Fe[f][0]*2]+e.dataBounds[Fe[f][0]*2+1]),n[h*3+Fe[f][1]]=.5*(e.dataBounds[Fe[f][1]*2]+e.dataBounds[Fe[f][1]*2+1]),h++,e.textValues[t]=e.axisLabels[y],t++;const x=(y+1)%3,b=(y+2)%3,w=c[y],S=d[y];e.tickCounts[a]=w.length;for(let D=0;D<w.length;D++)n[h*3+y]=w[D],n[h*3+x]=u[g+x],n[h*3+b]=u[g+b],h++,e.textValues[t]=S[D],t++;a++}}e.textPolyData.getPoints().setData(n,3),e.textPolyData.modified()},_.update=()=>{if(!e.camera)return;const o=_.computeFacesToDraw(),r=e.lastFacesToDraw;let c=!1;for(let d=0;d<6;d++)e.dataBounds[d]!==e.lastTickBounds[d]&&(c=!0,e.lastTickBounds[d]=e.dataBounds[d]);if(o||c||e.forceUpdate){const d=new Array(12).fill(0);for(let u=0;u<6;u++)if(r[u])for(let n=0;n<4;n++)d[Dn[u][n]]++;const l=e.generateTicks(e.dataBounds);_.updatePolyData(r,d,l.ticks),_.updateTextData(r,d,l.ticks,l.tickStrings),(c||e.forceUpdate)&&_.updateTextureAtlas(l.tickStrings)}e.forceUpdate=!1},_.updateTextureAtlas=o=>{e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e._tmAtlas.clear();let r=0,c=1;for(let d=0;d<3;d++){if(!e._tmAtlas.has(e.axisLabels[d])){Tr(e.tmContext,e.axisTextStyle);const l=e.tmContext.measureText(e.axisLabels[d]),u={height:l.actualBoundingBoxAscent+2,startingHeight:c,width:l.width+2,textStyle:e.axisTextStyle};e._tmAtlas.set(e.axisLabels[d],u),c+=u.height,r<u.width&&(r=u.width)}Tr(e.tmContext,e.tickTextStyle);for(let l=0;l<o[d].length;l++)if(!e._tmAtlas.has(o[d][l])){const u=e.tmContext.measureText(o[d][l]),n={height:u.actualBoundingBoxAscent+2,startingHeight:c,width:u.width+2,textStyle:e.tickTextStyle};e._tmAtlas.set(o[d][l],n),c+=n.height,r<n.width&&(r=n.width)}}r=nr(r),c=nr(c),e._tmAtlas.forEach(d=>{d.tcoords=[0,(c-d.startingHeight-d.height)/c,d.width/r,(c-d.startingHeight-d.height)/c,d.width/r,(c-d.startingHeight)/c,0,(c-d.startingHeight)/c]}),e.tmCanvas.width=r,e.tmCanvas.height=c,e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e.tmContext.clearRect(0,0,r,c),e._tmAtlas.forEach((d,l)=>{Tr(e.tmContext,d.textStyle),e.tmContext.fillText(l,1,d.startingHeight+d.height-1)}),e.tmTexture.setCanvas(e.tmCanvas),e.tmTexture.modified()},_.onModified(()=>{e.forceUpdate=!0,_.update()}),_.setTickTextStyle=o=>{e.tickTextStyle={...e.tickTextStyle,...o},_.modified()},_.setAxisTextStyle=o=>{e.axisTextStyle={...e.axisTextStyle,...o},_.modified()},_.get_tmAtlas=()=>e._tmAtlas,_.getBounds=()=>(_.update(),er.setBounds(e.bounds,e.gridActor.getBounds()),er.scaleAboutCenter(e.bounds,e.boundsScaleFactor,e.boundsScaleFactor,e.boundsScaleFactor),e.bounds);const v=ue.chain(_.setProperty,e.gridActor.setProperty);_.setProperty=o=>v(o)[0]}function $s(_,e,v){return{boundsScaleFactor:1.3,camera:null,dataBounds:[...er.INIT_BOUNDS],faceVisibilityAngle:8,gridLines:!0,axisLabels:null,axisTitlePixelOffset:35,tickLabelPixelOffset:12,generateTicks:ci,...v,axisTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:18,fontFamily:"serif",...v?.axisTextStyle},tickTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:14,fontFamily:"serif",...v?.tickTextStyle}}}function fi(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};mt.extend(_,e,$s(_,e,v)),e.lastFacesToDraw=[!1,!1,!1,!1,!1,!1],e.axisLabels=["X-Axis","Y-Axis","Z-Axis"],e.tickCounts=[],e.textValues=[],e.lastTickBounds=[],e.tmCanvas=document.createElement("canvas"),e.tmContext=e.tmCanvas.getContext("2d"),e._tmAtlas=new Map,e.tmTexture=Dt.newInstance({resizable:!0}),e.tmTexture.setInterpolate(!1),_.getProperty().setDiffuse(0),_.getProperty().setAmbient(1),e.gridMapper=Qe.newInstance(),e.polyData=We.newInstance(),e.gridMapper.setInputData(e.polyData),e.gridActor=mt.newInstance(),e.gridActor.setMapper(e.gridMapper),e.gridActor.setProperty(_.getProperty()),e.gridActor.setParentProp(_),e.textPolyData=We.newInstance(),ue.setGet(_,e,["axisTitlePixelOffset","boundsScaleFactor","faceVisibilityAngle","gridLines","tickLabelPixelOffset","generateTicks"]),ue.setGetArray(_,e,["dataBounds"],6),ue.setGetArray(_,e,["axisLabels"],3),ue.get(_,e,["axisTextStyle","tickTextStyle","camera","tmTexture","textValues","textPolyData","tickCounts","gridActor"]),qs(_,e)}const Ks=ue.newInstance(fi,"vtkCubeAxesActor");var hi={newInstance:Ks,extend:fi,newCubeAxesActorHelper:Xs,defaultGenerateTicks:ci};function Js(_,e){e.classHierarchy.push("vtkOpenGLCubeAxesActor"),_.buildPass=v=>{v&&(e._openGLRenderer=_.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.CubeAxesActorHelper.getRenderable()||e.CubeAxesActorHelper.setRenderable(e.renderable),_.prepareNodes(),_.addMissingNode(e.CubeAxesActorHelper.getTmActor()),_.addMissingNode(e.renderable.getGridActor()),_.removeUnusedNodes())},_.opaquePass=(v,o)=>{if(v){const r=e._openGLRenderer?e._openGLRenderer.getRenderable().getActiveCamera():null,c=e._openGLRenderer.getTiledSizeAndOrigin();e.CubeAxesActorHelper.updateAPISpecificData([c.usize,c.vsize],r,e._openGLRenderWindow.getRenderable())}}}const Ys={};function Qs(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Ys,v),et.extend(_,e,v),e.CubeAxesActorHelper=hi.newCubeAxesActorHelper(),Js(_,e)}const Zs=Ze(Qs,"vtkOpenGLCubeAxesActor");Rr("vtkCubeAxesActor",Zs);const{ColorMode:eu,ScalarMode:at,GetArray:Ar}=ji;function tu(_,e){e.classHierarchy.push("vtkMapper2D"),_.createDefaultLookupTable=()=>{e.lookupTable=Ri.newInstance()},_.getColorModeAsString=()=>ue.enumToString(eu,e.colorMode),_.setColorModeToDefault=()=>_.setColorMode(0),_.setColorModeToMapScalars=()=>_.setColorMode(1),_.setColorModeToDirectScalars=()=>_.setColorMode(2),_.getScalarModeAsString=()=>ue.enumToString(at,e.scalarMode),_.setScalarModeToDefault=()=>_.setScalarMode(0),_.setScalarModeToUsePointData=()=>_.setScalarMode(1),_.setScalarModeToUseCellData=()=>_.setScalarMode(2),_.setScalarModeToUsePointFieldData=()=>_.setScalarMode(3),_.setScalarModeToUseCellFieldData=()=>_.setScalarMode(4),_.setScalarModeToUseFieldData=()=>_.setScalarMode(5),_.getAbstractScalars=(v,o,r,c,d)=>{if(!v||!e.scalarVisibility)return{scalars:null,cellFLag:!1};let l=null,u=!1;if(o===at.DEFAULT)l=v.getPointData().getScalars(),l||(l=v.getCellData().getScalars(),u=!0);else if(o===at.USE_POINT_DATA)l=v.getPointData().getScalars();else if(o===at.USE_CELL_DATA)l=v.getCellData().getScalars(),u=!0;else if(o===at.USE_POINT_FIELD_DATA){const n=v.getPointData();r===Ar.BY_ID?l=n.getArrayByIndex(c):l=n.getArrayByName(d)}else if(o===at.USE_CELL_FIELD_DATA){const n=v.getCellData();u=!0,r===Ar.BY_ID?l=n.getArrayByIndex(c):l=n.getArrayByName(d)}else if(o===at.USE_FIELD_DATA){const n=v.getFieldData();r===Ar.BY_ID?l=n.getArrayByIndex(c):l=n.getArrayByName(d)}return{scalars:l,cellFlag:u}},_.getLookupTable=()=>(e.lookupTable||_.createDefaultLookupTable(),e.lookupTable),_.getMTime=()=>{let v=e.mtime;if(e.lookupTable!==null){const o=e.lookupTable.getMTime();v=o>v?o:v}return v},_.mapScalars=(v,o)=>{const r=_.getAbstractScalars(v,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;if(!r){e.colorMapColors=null;return}const c=`${_.getMTime()}${r.getMTime()}${o}`;if(e.colorBuildString===c)return;e.useLookupTableScalarRange||_.getLookupTable().setRange(e.scalarRange[0],e.scalarRange[1]);const d=_.getLookupTable();d&&(d.build(),e.colorMapColors=d.mapScalars(r,e.colorMode,e.fieldDataTupleId)),e.colorBuildString=`${_.getMTime()}${r.getMTime()}${o}`},_.getPrimitiveCount=()=>{const v=_.getInputData();return{points:v.getPoints().getNumberOfValues()/3,verts:v.getVerts().getNumberOfValues()-v.getVerts().getNumberOfCells(),lines:v.getLines().getNumberOfValues()-2*v.getLines().getNumberOfCells(),triangles:v.getPolys().getNumberOfValues()-3*v.getPolys().getNumberOfCells()}}}const ru={static:!1,lookupTable:null,scalarVisibility:!1,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,transformCoordinate:null,viewSpecificProperties:null,customShaderAttributes:[]};function nu(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ru,v),Ui.extend(_,e,v),ue.get(_,e,["colorMapColors"]),ue.setGet(_,e,["arrayAccessMode","colorByArrayName","colorMode","lookupTable","renderTime","scalarMode","scalarVisibility","static","transformCoordinate","useLookupTableScalarRange","viewSpecificProperties","customShaderAttributes"]),ue.setGetArray(_,e,["scalarRange"],2),e.viewSpecificProperties||(e.viewSpecificProperties={}),tu(_,e)}ue.newInstance(nu,"vtkMapper2D");var iu={},au=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyData2DFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

uniform int PrimitiveIDOffset;

// Texture coordinates
//VTK::TCoord::Dec

// Scalar coloring
//VTK::Color::Dec

// Depth Peeling
//VTK::DepthPeeling::Dec

// picking support
//VTK::Picking::Dec

// the output of this shader
//VTK::Output::Dec

// Apple Bug
//VTK::PrimID::Dec

void main()
{
  // Apple Bug
  //VTK::PrimID::Impl

  //VTK::Color::Impl
  //VTK::TCoord::Impl

  //VTK::DepthPeeling::Impl
  //VTK::Picking::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }
}
`,ou=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyData2DVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

// all variables that represent positions or directions have a suffix
// indicating the coordinate system they are in. The possible values are
// MC - Model Coordinates
// WC - WC world coordinates
// VC - View Coordinates
// DC - Display Coordinates

in vec4 vertexWC;

// frag position in VC
//VTK::PositionVC::Dec

// material property values
//VTK::Color::Dec

// Texture coordinates
//VTK::TCoord::Dec

// Apple Bug
//VTK::PrimID::Dec

uniform mat4 WCVCMatrix;  // World to view matrix

void main()
{
  // Apple Bug
  //VTK::PrimID::Impl

  gl_Position = WCVCMatrix*vertexWC;

  //VTK::TCoord::Impl

  //VTK::Color::Impl

  //VTK::PositionVC::Impl
}
`;const pi={BACKGROUND:0,FOREGROUND:1};var di={DisplayLocation:pi};const{primTypes:Xe}=In,{ScalarMode:Kt}=iu,{vtkErrorMacro:Jt}=zi,su={type:"StartEvent"},uu={type:"EndEvent"};function lu(_,e){e.classHierarchy.push("vtkOpenGLPolyDataMapper2D"),_.buildPass=o=>{o&&(e.openGLActor2D=_.getFirstAncestorOfType("vtkOpenGLActor2D"),e._openGLRenderer=e.openGLActor2D.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getLastAncestorOfType("vtkOpenGLRenderWindow"),e.openGLCamera=e._openGLRenderer.getViewNodeFor(e._openGLRenderer.getRenderable().getActiveCamera()))},_.overlayPass=o=>{o&&_.render()},_.getShaderTemplate=(o,r,c)=>{o.Vertex=ou,o.Fragment=au,o.Geometry=""},_.render=()=>{const o=e._openGLRenderWindow.getContext();if(e.context!==o){e.context=o;for(let d=Xe.Start;d<Xe.End;d++)e.primitives[d].setOpenGLRenderWindow(e._openGLRenderWindow)}const r=e.openGLActor2D.getRenderable(),c=e._openGLRenderer.getRenderable();_.renderPiece(c,r)},_.renderPiece=(o,r)=>{if(_.invokeEvent(su),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(),_.invokeEvent(uu),!e.currentInput){Jt("No input!");return}!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues()||(_.renderPieceStart(o,r),_.renderPieceDraw(o,r),_.renderPieceFinish(o,r))},_.renderPieceStart=(o,r)=>{if(e.primitiveIDOffset=0,e._openGLRenderer.getSelector())switch(e._openGLRenderer.getSelector().getCurrentPass()){default:e._openGLRenderer.getSelector().renderProp(r)}_.updateBufferObjects(o,r),e.lastBoundBO=null},_.getNeedToRebuildShaders=(o,r,c)=>o.getShaderSourceTime().getMTime()<e.renderable.getMTime()||o.getShaderSourceTime().getMTime()<e.currentInput.getMTime(),_.updateBufferObjects=(o,r)=>{_.getNeedToRebuildBufferObjects(o,r)&&_.buildBufferObjects(o,r)},_.getNeedToRebuildBufferObjects=(o,r)=>{const c=e.VBOBuildTime.getMTime();return!!(c<_.getMTime()||c<e._openGLRenderWindow.getMTime()||c<e.renderable.getMTime()||c<r.getMTime()||c<e.currentInput.getMTime()||e.renderable.getTransformCoordinate()&&c<o.getMTime())},_.buildBufferObjects=(o,r)=>{const c=e.currentInput;if(c===null)return;e.renderable.mapScalars(c,r.getProperty().getOpacity());const d=e.renderable.getColorMapColors();e.haveCellScalars=!1;const l=e.renderable.getScalarMode();e.renderable.getScalarVisibility()&&(l===Kt.USE_CELL_DATA||l===Kt.USE_CELL_FIELD_DATA||l===Kt.USE_FIELD_DATA||!c.getPointData().getScalars())&&l!==Kt.USE_POINT_FIELD_DATA&&d&&(e.haveCellScalars=!0);const u=r.getProperty().getRepresentation();let n=c.getPointData().getTCoords();e.openGLActor2D.getActiveTextures()||(n=null);const h=e.renderable.getTransformCoordinate(),a=o.getRenderWindow().getViews()[0].getViewportSize(o),f=`${c.getMTime()}A${u}B${c.getMTime()}C${d?d.getMTime():1}D${n?n.getMTime():1}E${h?o.getMTime():1}F${a}`;if(e.VBOBuildString!==f){let p=c.getPoints();if(h){const y=Gi.newInstance(),g=p.getNumberOfPoints();y.setNumberOfPoints(g);const i=[];for(let s=0;s<g;++s){p.getPoint(s,i),h.setValue(i);const x=h.getComputedDoubleViewportValue(o);y.setPoint(s,x[0],x[1],0)}p=y}const m={points:p,tcoords:n,colors:d,cellOffset:0,haveCellScalars:e.haveCellSCalars,customAttributes:e.renderable.getCustomShaderAttributes().map(y=>c.getPointData().getArrayByName(y))};m.cellOffset+=e.primitives[Xe.Points].getCABO().createVBO(c.getVerts(),"verts",u,m),m.cellOffset+=e.primitives[Xe.Lines].getCABO().createVBO(c.getLines(),"lines",u,m),m.cellOffset+=e.primitives[Xe.Tris].getCABO().createVBO(c.getPolys(),"polys",u,m),m.cellOffset+=e.primitives[Xe.TriStrips].getCABO().createVBO(c.getStrips(),"strips",u,m),e.VBOBuildTime.modified(),e.VBOBuildString=f}},_.renderPieceDraw=(o,r)=>{const c=r.getProperty().getRepresentation();e.context.depthMask(!0);for(let l=Xe.Start;l<Xe.End;l++)e.primitives[l].getCABO().getElementCount()&&(e.lastBoundBO=e.primitives[l],e.primitiveIDOffset+=e.primitives[l].drawArrays(o,r,c,_))},_.renderPieceFinish=(o,r)=>{e.lastBoundBO&&e.lastBoundBO.getVAO().release()},_.replaceShaderValues=(o,r,c)=>{_.replaceShaderColor(o,r,c),_.replaceShaderTCoord(o,r,c),_.replaceShaderPicking(o,r,c),_.replaceShaderPositionVC(o,r,c)},_.replaceShaderColor=(o,r,c)=>{let d=o.Vertex,l=o.Geometry,u=o.Fragment;e.haveCellScalars&&(u=Ne.substitute(u,"//VTK::Color::Dec",["uniform samplerBuffer texture1;"]).result,u=Ne.substitute(u,"//VTK::Color::Impl",["gl_FragData[0] = texelFetchBuffer(texture1, gl_PrimitiveID + PrimitiveIDOffset);"]).result),e.lastBoundBO.getCABO().getColorComponents()!==0?(d=Ne.substitute(d,"//VTK::Color::Dec",["in vec4 diffuseColor;","out vec4 fcolorVSOutput;"]).result,d=Ne.substitute(d,"//VTK::Color::Impl",["fcolorVSOutput = diffuseColor;"]).result,l=Ne.substitute(l,"//VTK::Color::Dec",[`in vec4 fcolorVSOutput[];
`,"out vec4 fcolorGSOutput;"]).result,l=Ne.substitute(l,"//VTK::Color::Impl",["fcolorGSOutput = fcolorVSOutput[i];"]).result,u=Ne.substitute(u,"//VTK::Color::Dec",["in vec4 fcolorVSOutput;"]).result,u=Ne.substitute(u,"//VTK::Color::Impl",["gl_FragData[0] = fcolorVSOutput;"]).result):(u=Ne.substitute(u,"//VTK::Color::Dec",["uniform vec4 diffuseColor;"]).result,u=Ne.substitute(u,"//VTK::Color::Impl",["gl_FragData[0] = diffuseColor;"]).result),o.Vertex=d,o.Geometry=l,o.Fragment=u},_.replaceShaderTCoord=(o,r,c)=>{if(e.lastBoundBO.getCABO().getTCoordOffset()){let d=o.Vertex,l=o.Geometry,u=o.Fragment;const n=e.lastBoundBO.getCABO().getTCoordComponents();n===1?(d=Ne.substitute(d,"//VTK::TCoord::Dec",["in float tcoordMC;","out float tcoordVCVSOutput;"]).result,d=Ne.substitute(d,"//VTK::TCoord::Impl",["tcoordVCVSOutput = tcoordMC;"]).result,l=Ne.substitute(l,"//VTK::TCoord::Dec",[`in float tcoordVCVSOutput[];
`,"out float tcoordVCGSOutput;"]).result,l=Ne.substitute(l,["//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];"]).result,u=Ne.substitute(u,"//VTK::TCoord::Dec",["in float tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,u=Ne.substitute(u,"//VTK::TCoord::Impl",["gl_FragData[0] = gl_FragData[0]*texture2D(texture1, vec2(tcoordVCVSOutput,0));"]).result):n===2&&(d=Ne.substitute(d,"//VTK::TCoord::Dec",["in vec2 tcoordMC;","out vec2 tcoordVCVSOutput;"]).result,d=Ne.substitute(d,"//VTK::TCoord::Impl",["tcoordVCVSOutput = tcoordMC;"]).result,l=Ne.substitute(l,"//VTK::TCoord::Dec",[`in vec2 tcoordVCVSOutput[];
`,"out vec2 tcoordVCGSOutput;"]).result,l=Ne.substitute(l,"//VTK::TCoord::Impl",["tcoordVCGSOutput = tcoordVCVSOutput[i];"]).result,u=Ne.substitute(u,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,u=Ne.substitute(u,"//VTK::TCoord::Impl",["gl_FragData[0] = gl_FragData[0]*texture2D(texture1, tcoordVCVSOutput.st);"]).result),e.haveCellScalars&&(l=Ne.substitute(l,"//VTK::PrimID::Impl",["gl_PrimitiveID = gl_PrimitiveIDIn;"]).result),o.Vertex=d,o.Geometry=l,o.Fragment=u}},_.replaceShaderPicking=(o,r,c)=>{let d=o.Fragment;d=Ne.substitute(d,"//VTK::Picking::Dec",["uniform vec3 mapperIndex;","uniform int picking;"]).result,d=Ne.substitute(d,"//VTK::Picking::Impl","  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];").result,o.Fragment=d},_.replaceShaderPositionVC=(o,r,c)=>{e.lastBoundBO.replaceShaderPositionVC(o,r,c)},_.invokeShaderCallbacks=(o,r,c)=>{const d=e.renderable.getViewSpecificProperties().ShadersCallbacks;d&&d.forEach(l=>{l.callback(l.userData,o,r,c)})},_.setMapperShaderParameters=(o,r,c)=>{if(o.getProgram().isUniformUsed("PrimitiveIDOffset")&&o.getProgram().setUniformi("PrimitiveIDOffset",e.primitiveIDOffset),o.getProgram().isAttributeUsed("vertexWC")&&(o.getVAO().addAttributeArray(o.getProgram(),o.getCABO(),"vertexWC",o.getCABO().getVertexOffset(),o.getCABO().getStride(),e.context.FLOAT,3,!1)||Jt("Error setting vertexWC in shader VAO.")),o.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>o.getAttributeUpdateTime().getMTime()||o.getShaderSourceTime().getMTime()>o.getAttributeUpdateTime().getMTime())){e.renderable.getCustomShaderAttributes().forEach((u,n)=>{o.getProgram().isAttributeUsed(`${u}MC`)&&(o.getVAO().addAttributeArray(o.getProgram(),o.getCABO(),`${u}MC`,o.getCABO().getCustomData()[n].offset,o.getCABO().getStride(),e.context.FLOAT,o.getCABO().getCustomData()[n].components,!1)||Jt(`Error setting ${u}MC in shader VAO.`))}),o.getProgram().isAttributeUsed("tcoordMC")&&o.getCABO().getTCoordOffset()?o.getVAO().addAttributeArray(o.getProgram(),o.getCABO(),"tcoordMC",o.getCABO().getTCoordOffset(),o.getCABO().getStride(),e.context.FLOAT,o.getCABO().getTCoordComponents(),!1)||Jt("Error setting tcoordMC in shader VAO."):o.getVAO().removeAttributeArray("tcoordMC"),e.internalColorTexture&&o.getProgram().isUniformUsed("texture1")&&o.getProgram().setUniformi("texture1",e.internalColorTexture.getTextureUnit());const d=e.openGLActor2D.getActiveTextures();if(d)for(let u=0;u<d.length;++u){const h=d[u].getTextureUnit(),t=`texture${h+1}`;o.getProgram().isUniformUsed(t)&&o.getProgram().setUniformi(t,h)}o.setMapperShaderParameters(r,c,e._openGLRenderer.getTiledSizeAndOrigin());const l=e._openGLRenderer.getSelector();o.getProgram().setUniform3fArray("mapperIndex",l?l.getPropColorValue():[0,0,0]),o.getProgram().setUniformi("picking",l?l.getCurrentPass()+1:0)}},_.setPropertyShaderParameters=(o,r,c)=>{const d=e.renderable.getColorMapColors();if(!d||d.getNumberOfComponents()===0){const l=o.getProgram(),u=c.getProperty(),n=u.getOpacity(),h=u.getColor(),t=[h[0],h[1],h[2],n];l.setUniform4f("diffuseColor",t)}},_.setLightingShaderParameters=(o,r,c)=>{};function v(o,r,c){return r.identity(c),o.reduce((d,l,u)=>u===0?l?r.copy(d,l):r.identity(d):l?r.multiply(d,d,l):d,c)}_.setCameraShaderParameters=(o,r,c)=>{const d=o.getProgram(),u=o.getCABO().getCoordShiftAndScaleEnabled()?o.getCABO().getInverseShiftAndScaleMatrix():null,h=r.getRenderWindow().getViews()[0].getViewportSize(r),t=r.getViewport(),a=c.getActualPositionCoordinate().getComputedDoubleViewportValue(r),f=[0,0,1,1],p=[0,0,1,1];if(p[0]=t[0]>=f[0]?t[0]:f[0],p[1]=t[1]>=f[1]?t[1]:f[1],p[2]=t[2]<=f[2]?t[2]:f[2],p[3]=t[3]<=f[3]?t[3]:f[3],p[0]>=p[2]||p[1]>=p[3])return;h[0]=Gt(h[0]*(p[2]-p[0])/(t[2]-t[0])),h[1]=Gt(h[1]*(p[3]-p[1])/(t[3]-t[1]));const m=e._openGLRenderer.getParent().getSize(),y=Gt(a[0]-(p[0]-t[0])*m[0]),g=Gt(a[1]-(p[1]-t[1])*m[1]),i=-y;let s=-y+h[0];const x=-g;let b=-g+h[1];i===s&&(s=i+1),x===b&&(b=x+1);const w=xt(new Float64Array(16));w[0]=2/(s-i),w[1*4+1]=2/(b-x),w[0*4+3]=-1*(s+i)/(s-i),w[1*4+3]=-1*(b+x)/(b-x),w[2*4+2]=0,w[2*4+3]=c.getProperty().getDisplayLocation()===pi.FOREGROUND?-1:1,w[3*4+3]=1,Nt(w,w),d.setUniformMatrix("WCVCMatrix",v([w,u],Vi,e.tmpMat4))},_.getAllocatedGPUMemoryInBytes=()=>{let o=0;return e.primitives.forEach(r=>{o+=r.getAllocatedGPUMemoryInBytes()}),o}}const cu={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null};function fu(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,cu,v),et.extend(_,e,v),Zr.implementReplaceShaderCoincidentOffset(_,e,v),Zr.implementBuildShadersWithReplacements(_,e,v),e.primitives=[],e.primTypes=Xe,e.tmpMat4=xt(new Float64Array(16));for(let o=Xe.Start;o<Xe.End;o++)e.primitives[o]=In.newInstance(),e.primitives[o].setPrimitiveType(o),e.primitives[o].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);jr(_,e,["context"]),e.VBOBuildTime={},Mn(e.VBOBuildTime,{mtime:0}),lu(_,e)}const hu=Ze(fu,"vtkOpenGLPolyDataMapper2D");Rr("vtkMapper2D",hu);const{VectorMode:pu}=Wi;function Nr(_,e){_.strokeStyle=e.strokeColor,_.lineWidth=e.strokeSize,_.fillStyle=e.fontColor,_.font=`${e.fontStyle} ${e.fontSize}px ${e.fontFamily}`}function mi(_,e){return v=>{const o=v.getLastSize(),r=(o[0]/700)**.8,c=(o[1]/700)**.8,d=Math.min(r,c),l=v.getAxisTextStyle(),u=v.getTickTextStyle();Object.assign(l,e.axisTextStyle),Object.assign(u,e.tickTextStyle),l.fontSize=Math.max(24*d,12),v.getLastAspectRatio()>1?u.fontSize=Math.max(20*d,10):u.fontSize=Math.max(16*d,10);const n=v.updateTextureAtlas();v.setTopTitle(!1);const h=v.getBoxSizeByReference();if(v.getLastAspectRatio()>1)v.setTickLabelPixelOffset(.3*u.fontSize),n.titleWidth<=n.tickWidth+v.getTickLabelPixelOffset()+.8*u.fontSize?(v.setTopTitle(!0),v.setAxisTitlePixelOffset(.2*u.fontSize),h[0]=2*(n.tickWidth+v.getTickLabelPixelOffset()+.8*u.fontSize)/o[0],v.setBoxPosition([.98-h[0],-.92])):(v.setAxisTitlePixelOffset(.2*u.fontSize),h[0]=2*(n.titleHeight+v.getAxisTitlePixelOffset()+n.tickWidth+v.getTickLabelPixelOffset()+.8*u.fontSize)/o[0],v.setBoxPosition([.99-h[0],-.92])),h[1]=Math.max(1.2,Math.min(1.84/c,1.84));else{v.setAxisTitlePixelOffset(1.2*u.fontSize),v.setTickLabelPixelOffset(.1*u.fontSize);const t=2*(.8*u.fontSize+n.titleHeight+v.getAxisTitlePixelOffset())/o[1],a=2*n.tickWidth/o[0];h[0]=Math.min(1.9,Math.max(1.4,1.4*a*(v.getTicks().length+3))),h[1]=t,v.setBoxPosition([-.5*h[0],-.97])}v.recomputeBarSegments(n)}}function gi(_,e){return v=>{const o=v.getLastTickBounds(),r=Yr().domain([o[0],o[1]]),c=r.ticks(5),d=r.tickFormat(5);v.setTicks(c),v.setTickStrings(c.map(d))}}function du(_,e){e.classHierarchy.push("vtkScalarBarActorHelper"),_.setRenderable=r=>{e.renderable!==r&&(e.renderable=r,e.barActor.setProperty(r.getProperty()),e.barActor.setParentProp(r),e.barActor.setCoordinateSystemToDisplay(),e.tmActor.setProperty(r.getProperty()),e.tmActor.setParentProp(r),e.tmActor.setCoordinateSystemToDisplay(),e.generateTicks=r.generateTicks,e.axisTextStyle={...r.getAxisTextStyle()},e.tickTextStyle={...r.getTickTextStyle()},_.modified())},_.updateAPISpecificData=(r,c,d)=>{(e.lastSize[0]!==r[0]||e.lastSize[1]!==r[1])&&(e.lastSize[0]=r[0],e.lastSize[1]=r[1],e.lastAspectRatio=r[0]/r[1],e.forceUpdate=!0);const l=e.renderable.getScalarsToColors();if(!(!l||!e.renderable.getVisibility())&&(e.barMapper.setLookupTable(l),e.camera=c,e.renderWindow=d,e.forceUpdate||Math.max(l.getMTime(),_.getMTime(),e.renderable.getMTime())>e.lastRebuildTime.getMTime())){const u=l.getMappingRange();if(e.lastTickBounds=[...u],e.renderable.getGenerateTicks()(_),e.renderable.getAutomated())e.renderable.getAutoLayout()(_);else{e.axisTextStyle={...e.renderable.getAxisTextStyle()},e.tickTextStyle={...e.renderable.getTickTextStyle()},e.barPosition=[...e.renderable.getBarPosition()],e.barSize=[...e.renderable.getBarSize()],e.boxPosition=[...e.renderable.getBoxPosition()],e.boxSize=[...e.renderable.getBoxSize()],e.axisTitlePixelOffset=e.renderable.getAxisTitlePixelOffset(),e.tickLabelPixelOffset=e.renderable.getTickLabelPixelOffset();const n=_.updateTextureAtlas();_.recomputeBarSegments(n)}_.updatePolyDataForLabels(),_.updatePolyDataForBarSegments(),e.lastRebuildTime.modified(),e.forceUpdate=!1}},_.updateTextureAtlas=()=>{e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left";const r={},c=new Map;let d=0,l=1;Nr(e.tmContext,e.axisTextStyle);let u=e.tmContext.measureText(e.renderable.getAxisLabel()),n={height:u.actualBoundingBoxAscent+2,startingHeight:l,width:u.width+2,textStyle:e.axisTextStyle};c.set(e.renderable.getAxisLabel(),n),l+=n.height,d=n.width,r.titleWidth=n.width,r.titleHeight=n.height,r.tickWidth=0,r.tickHeight=0,Nr(e.tmContext,e.tickTextStyle);const h=[..._.getTickStrings(),"NaN","Below","Above"];for(let t=0;t<h.length;t++)c.has(h[t])||(u=e.tmContext.measureText(h[t]),n={height:u.actualBoundingBoxAscent+2,startingHeight:l,width:u.width+2,textStyle:e.tickTextStyle},c.set(h[t],n),l+=n.height,d<n.width&&(d=n.width),r.tickWidth<n.width&&(r.tickWidth=n.width),r.tickHeight<n.height&&(r.tickHeight=n.height));return d=nr(d),l=nr(l),c.forEach(t=>{t.tcoords=[0,(l-t.startingHeight-t.height)/l,t.width/d,(l-t.startingHeight-t.height)/l,t.width/d,(l-t.startingHeight)/l,0,(l-t.startingHeight)/l]}),e.tmCanvas.width=d,e.tmCanvas.height=l,e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e.tmContext.clearRect(0,0,d,l),c.forEach((t,a)=>{Nr(e.tmContext,t.textStyle),e.tmContext.fillText(a,1,t.startingHeight+t.height-1)}),e.tmTexture.setCanvas(e.tmCanvas),e.tmTexture.modified(),e._tmAtlas=c,r},_.computeBarSize=r=>{e.vertical=e.boxSize[1]>e.boxSize[0];const c=2*r.tickHeight/e.lastSize[1],d=[1,1];if(e.vertical){const l=2*(r.tickWidth+e.tickLabelPixelOffset)/e.lastSize[0];if(e.topTitle){const u=2*(r.titleHeight+e.axisTitlePixelOffset)/e.lastSize[1];e.barSize[0]=e.boxSize[0]-l,e.barSize[1]=e.boxSize[1]-u}else{const u=2*(r.titleHeight+e.axisTitlePixelOffset)/e.lastSize[0];e.barSize[0]=e.boxSize[0]-u-l,e.barSize[1]=e.boxSize[1]}e.barPosition[0]=e.boxPosition[0]+l,e.barPosition[1]=e.boxPosition[1],d[1]=c}else{const l=(2*r.tickWidth-8)/e.lastSize[0],u=2*(r.titleHeight+e.axisTitlePixelOffset)/e.lastSize[1];e.barSize[0]=e.boxSize[0],e.barPosition[0]=e.boxPosition[0],e.barSize[1]=e.boxSize[1]-u,e.barPosition[1]=e.boxPosition[1],d[0]=l}return d},_.recomputeBarSegments=r=>{const c=_.computeBarSize(r);e.barSegments=[];const d=[0,0],l=e.vertical?1:0,u=e.vertical?.01:.02;function n(a,f){e.barSegments.push({corners:[[...d],[d[0]+c[0],d[1]],[d[0]+c[0],d[1]+c[1]],[d[0],d[1]+c[1]]],scalars:f,title:a}),d[l]+=c[l]+u}e.renderable.getDrawNanAnnotation()&&e.renderable.getScalarsToColors().getNanColor()&&n("NaN",[NaN,NaN,NaN,NaN]),e.renderable.getDrawBelowRangeSwatch()&&e.renderable.getScalarsToColors().getUseBelowRangeColor?.()&&n("Below",[-.1,-.1,-.1,-.1]);const h=e.renderable.getScalarsToColors().getUseAboveRangeColor?.();d[l]+=u;const t=c[l];c[l]=h?1-2*u-c[l]-d[l]:1-u-d[l],n("ticks",e.vertical?[0,0,.995,.995]:[0,.995,.995,0]),e.renderable.getDrawAboveRangeSwatch()&&h&&(c[l]=t,d[l]+=u,n("Above",[1.1,1.1,1.1,1.1]))};const v=new Float64Array(3);_.createPolyDataForOneLabel=(r,c,d,l,u,n)=>{const h=e._tmAtlas.get(r);if(!h)return;let t=n.ptIdx,a=n.cellIdx;v[0]=(.5*c[0]+.5)*e.lastSize[0],v[1]=(.5*c[1]+.5)*e.lastSize[1],v[2]=c[2],v[0]+=u[0],v[1]+=u[1];const f=[],p=l==="vertical"?[1,0]:[0,1];l==="vertical"?(f[0]=h.width,f[1]=-h.height,d[0]==="middle"?v[1]-=h.width/2:d[0]==="right"&&(v[1]-=h.width),d[1]==="middle"?v[0]+=h.height/2:d[1]==="top"&&(v[0]+=h.height)):(f[0]=h.width,f[1]=h.height,d[0]==="middle"?v[0]-=h.width/2:d[0]==="right"&&(v[0]-=h.width),d[1]==="middle"?v[1]-=h.height/2:d[1]==="top"&&(v[1]-=h.height)),n.points[t*3]=v[0],n.points[t*3+1]=v[1],n.points[t*3+2]=v[2],n.tcoords[t*2]=h.tcoords[0],n.tcoords[t*2+1]=h.tcoords[1],t++,v[p[0]]+=f[0],n.points[t*3]=v[0],n.points[t*3+1]=v[1],n.points[t*3+2]=v[2],n.tcoords[t*2]=h.tcoords[2],n.tcoords[t*2+1]=h.tcoords[3],t++,v[p[1]]+=f[1],n.points[t*3]=v[0],n.points[t*3+1]=v[1],n.points[t*3+2]=v[2],n.tcoords[t*2]=h.tcoords[4],n.tcoords[t*2+1]=h.tcoords[5],t++,v[p[0]]-=f[0],n.points[t*3]=v[0],n.points[t*3+1]=v[1],n.points[t*3+2]=v[2],n.tcoords[t*2]=h.tcoords[6],n.tcoords[t*2+1]=h.tcoords[7],t++,n.polys[a*4]=3,n.polys[a*4+1]=t-4,n.polys[a*4+2]=t-3,n.polys[a*4+3]=t-2,a++,n.polys[a*4]=3,n.polys[a*4+1]=t-4,n.polys[a*4+2]=t-2,n.polys[a*4+3]=t-1,n.ptIdx+=4,n.cellIdx+=2};const o=new Float64Array(3);_.updatePolyDataForLabels=()=>{const r=_.getTickStrings().length+e.barSegments.length,c=r*4,d=r*2,l=new Float64Array(c*3),u=new Uint16Array(d*4),n=new Float32Array(c*2),h={ptIdx:0,cellIdx:0,polys:u,points:l,tcoords:n},t=e.vertical?0:1,a=e.vertical?1:0;o[2]=-.99;const f=e.vertical?["right","middle"]:["middle","bottom"];let p=[0,1];const m=[0,0];e.vertical?(m[0]=-e.tickLabelPixelOffset,e.topTitle?(o[0]=e.boxPosition[0]+.5*e.boxSize[0],o[1]=e.barPosition[1]+e.barSize[1],_.createPolyDataForOneLabel(e.renderable.getAxisLabel(),o,["middle","bottom"],"horizontal",[0,e.axisTitlePixelOffset],h)):(o[0]=e.barPosition[0]+e.barSize[0],o[1]=e.barPosition[1]+.5*e.barSize[1],_.createPolyDataForOneLabel(e.renderable.getAxisLabel(),o,["middle","top"],"vertical",[e.axisTitlePixelOffset,0],h)),p=[-1,0]):(m[1]=e.tickLabelPixelOffset,o[0]=e.barPosition[0]+.5*e.barSize[0],o[1]=e.barPosition[1]+e.barSize[1],_.createPolyDataForOneLabel(e.renderable.getAxisLabel(),o,["middle","bottom"],"horizontal",[0,e.axisTitlePixelOffset],h)),o[t]=e.barPosition[t]+(.5*p[t]+.5)*e.barSize[t],o[a]=e.barPosition[a]+e.barSize[a]*.5;let y=null;for(let w=0;w<e.barSegments.length;w++){const S=e.barSegments[w];S.title==="ticks"?y=S:(o[a]=e.barPosition[a]+.5*e.barSize[a]*(S.corners[2][a]+S.corners[0][a]),_.createPolyDataForOneLabel(S.title,o,f,"horizontal",m,h))}const g=e.barPosition[a]+e.barSize[a]*y.corners[0][a],i=e.barSize[a]*(y.corners[2][a]-y.corners[0][a]),s=_.getTicks(),x=_.getTickStrings();for(let w=0;w<s.length;w++){const S=(s[w]-e.lastTickBounds[0])/(e.lastTickBounds[1]-e.lastTickBounds[0]);o[a]=g+i*S,_.createPolyDataForOneLabel(x[w],o,f,"horizontal",m,h)}const b=Me.newInstance({numberOfComponents:2,values:n,name:"TextureCoordinates"});e.tmPolyData.getPointData().setTCoords(b),e.tmPolyData.getPoints().setData(l,3),e.tmPolyData.getPoints().modified(),e.tmPolyData.getPolys().setData(u,1),e.tmPolyData.getPolys().modified(),e.tmPolyData.modified()},_.updatePolyDataForBarSegments=()=>{const r=e.renderable.getScalarsToColors();let c=0;e.renderable.getDrawNanAnnotation()&&r.getNanColor()&&(c+=1),e.renderable.getDrawBelowRangeSwatch()&&r.getUseBelowRangeColor?.()&&(c+=1),e.renderable.getDrawAboveRangeSwatch()&&r.getUseAboveRangeColor?.()&&(c+=1);const d=4*(1+c),l=d;let u=1;r.getVectorMode()===pu.COMPONENT&&(u=r.getVectorComponent()+1);const n=new Float64Array(d*3),h=new Uint16Array(l*5),t=new Float32Array(d*u);let a=0,f=0;for(let m=0;m<e.barSegments.length;m++){const y=e.barSegments[m];for(let g=0;g<4;g++){o[0]=e.barPosition[0]+y.corners[g][0]*e.barSize[0],o[1]=e.barPosition[1]+y.corners[g][1]*e.barSize[1],n[a*3]=(.5*o[0]+.5)*e.lastSize[0],n[a*3+1]=(.5*o[1]+.5)*e.lastSize[1],n[a*3+2]=o[2];for(let i=0;i<u;i++)t[a*u+i]=e.lastTickBounds[0]+y.scalars[g]*(e.lastTickBounds[1]-e.lastTickBounds[0]);a++}h[f*5]=4,h[f*5+1]=a-4,h[f*5+2]=a-3,h[f*5+3]=a-2,h[f*5+4]=a-1,f++}const p=Me.newInstance({numberOfComponents:u,values:t,name:"Scalars"});e.polyData.getPointData().setScalars(p),e.polyData.getPoints().setData(n,3),e.polyData.getPoints().modified(),e.polyData.getPolys().setData(h,1),e.polyData.getPolys().modified(),e.polyData.modified()}}const mu=ue.newInstance(function(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{renderable:null};Object.assign(e,{},v),ue.obj(_,e),ue.setGet(_,e,["axisTitlePixelOffset","tickLabelPixelOffset","renderable","topTitle","ticks","tickStrings"]),ue.get(_,e,["lastSize","lastAspectRatio","lastTickBounds","axisTextStyle","tickTextStyle","barActor","tmActor"]),ue.getArray(_,e,["boxPosition","boxSize"]),ue.setArray(_,e,["boxPosition","boxSize"],2),e.forceUpdate=!1,e.lastRebuildTime={},ue.obj(e.lastRebuildTime,{mtime:0}),e.lastSize=[-1,-1],e.tmCanvas=document.createElement("canvas"),e.tmContext=e.tmCanvas.getContext("2d"),e._tmAtlas=new Map,e.barMapper=Qe.newInstance(),e.barMapper.setInterpolateScalarsBeforeMapping(!0),e.barMapper.setUseLookupTableScalarRange(!0),e.polyData=We.newInstance(),e.barMapper.setInputData(e.polyData),e.barActor=mt.newInstance(),e.barActor.setMapper(e.barMapper),e.tmPolyData=We.newInstance(),e.tmMapper=Qe.newInstance(),e.tmMapper.setInputData(e.tmPolyData),e.tmTexture=Dt.newInstance({resizable:!0}),e.tmTexture.setInterpolate(!1),e.tmActor=mt.newInstance({parentProp:_}),e.tmActor.setMapper(e.tmMapper),e.tmActor.addTexture(e.tmTexture),e.barPosition=[0,0],e.barSize=[0,0],e.boxPosition=[.88,-.92],e.boxSize=[.1,1.1],e.lastTickBounds=[],du(_,e)},"vtkScalarBarActorHelper");function gu(_,e){e.classHierarchy.push("vtkScalarBarActor"),_.setTickTextStyle=v=>{e.tickTextStyle={...e.tickTextStyle,...v},_.modified()},_.setAxisTextStyle=v=>{e.axisTextStyle={...e.axisTextStyle,...v},_.modified()},_.resetAutoLayoutToDefault=()=>{_.setAutoLayout(mi(_,e))},_.resetGenerateTicksToDefault=()=>{_.setGenerateTicks(gi())}}function yu(_){return{automated:!0,autoLayout:null,axisLabel:"Scalar Value",barPosition:[0,0],barSize:[0,0],boxPosition:[.88,-.92],boxSize:[.1,1.1],scalarToColors:null,axisTitlePixelOffset:36,axisTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:18,fontFamily:"serif"},tickLabelPixelOffset:14,tickTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:14,fontFamily:"serif"},generateTicks:null,drawNanAnnotation:!0,drawBelowRangeSwatch:!0,drawAboveRangeSwatch:!0,..._}}function yi(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,yu(v)),e.autoLayout||(e.autoLayout=mi(_,e)),e.generateTicks||(e.generateTicks=gi()),mt.extend(_,e,v),_.getProperty().setDiffuse(0),_.getProperty().setAmbient(1),ue.setGet(_,e,["automated","autoLayout","axisTitlePixelOffset","axisLabel","scalarsToColors","tickLabelPixelOffset","generateTicks","drawNanAnnotation","drawBelowRangeSwatch","drawAboveRangeSwatch"]),ue.get(_,e,["axisTextStyle","tickTextStyle"]),ue.getArray(_,e,["barPosition","barSize","boxPosition","boxSize"]),ue.setArray(_,e,["barPosition","barSize","boxPosition","boxSize"],2),gu(_,e)}const vu=ue.newInstance(yi,"vtkScalarBarActor");var vi={newInstance:vu,extend:yi,newScalarBarActorHelper:mu};function _u(_,e){e.classHierarchy.push("vtkOpenGLScalarBarActor"),_.buildPass=v=>{v&&(e._openGLRenderer=_.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.scalarBarActorHelper.getRenderable()||e.scalarBarActorHelper.setRenderable(e.renderable),_.prepareNodes(),_.addMissingNode(e.scalarBarActorHelper.getBarActor()),_.addMissingNode(e.scalarBarActorHelper.getTmActor()),_.removeUnusedNodes())},_.opaquePass=(v,o)=>{if(v){const r=e._openGLRenderer?e._openGLRenderer.getRenderable().getActiveCamera():null,c=e._openGLRenderer.getTiledSizeAndOrigin();e.scalarBarActorHelper.updateAPISpecificData([c.usize,c.vsize],r,e._openGLRenderWindow.getRenderable())}}}const xu={};function bu(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,xu,v),et.extend(_,e,v),e.scalarBarActorHelper=vi.newScalarBarActorHelper(),_u(_,e)}const wu=Ze(bu,"vtkOpenGLScalarBarActor");Rr("vtkScalarBarActor",wu);const{CoordinateSystem:Cn}=zr;function Su(_,e){e.classHierarchy.push("vtkWebGPUActor"),_.buildPass=v=>{v&&(e.WebGPURenderer=_.getFirstAncestorOfType("vtkWebGPURenderer"),e.WebGPURenderWindow=e.WebGPURenderer.getFirstAncestorOfType("vtkWebGPURenderWindow"),e.propID===void 0&&(e.propID=e.WebGPURenderWindow.getUniquePropID()),_.prepareNodes(),_.addMissingNode(e.renderable.getMapper()),_.removeUnusedNodes())},_.traverseOpaquePass=v=>{!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e.WebGPURenderer.getSelector()&&!e.renderable.getNestedPickable()||(_.apply(v,!0),e.children[0]&&e.children[0].traverse(v),_.apply(v,!1))},_.traverseTranslucentPass=v=>{!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e.WebGPURenderer.getSelector()&&!e.renderable.getNestedPickable()||(_.apply(v,!0),e.children[0]&&e.children[0].traverse(v),_.apply(v,!1))},_.queryPass=(v,o)=>{if(v){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?o.incrementOpaqueActorCount():o.incrementTranslucentActorCount()}},_.getBufferShift=v=>(_.getKeyMatrices(v),e.bufferShift),_.getKeyMatrices=v=>{if(Math.max(e.renderable.getMTime(),v.getStabilizedTime())>e.keyMatricesTime.getMTime()){e.renderable.computeMatrix();const o=e.renderable.getMatrix();e.bufferShift[0]=o[3],e.bufferShift[1]=o[7],e.bufferShift[2]=o[11];const r=v.getStabilizedCenterByReference();e.renderable.getCoordinateSystem()===Cn.WORLD&&(e.bufferShift[0]-=r[0],e.bufferShift[1]-=r[1],e.bufferShift[2]-=r[2]),Nt(e.keyMatrices.bcwc,o),e.renderable.getIsIdentity()?xt(e.keyMatrices.normalMatrix):(Or(e.keyMatrices.normalMatrix,e.keyMatrices.bcwc),e.keyMatrices.normalMatrix[3]=0,e.keyMatrices.normalMatrix[7]=0,e.keyMatrices.normalMatrix[11]=0,Pn(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),Nt(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix)),ir(e.keyMatrices.bcwc,e.keyMatrices.bcwc,[-e.bufferShift[0],-e.bufferShift[1],-e.bufferShift[2]]),e.renderable.getCoordinateSystem()===Cn.WORLD?ir(e.keyMatrices.bcsc,e.keyMatrices.bcwc,[-r[0],-r[1],-r[2]]):Or(e.keyMatrices.bcsc,e.keyMatrices.bcwc),e.keyMatricesTime.modified()}return e.keyMatrices}}const Du={keyMatricesTime:null,keyMatrices:null,propID:void 0,bufferShift:void 0};function Eu(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Du,v),et.extend(_,e,v),e.keyMatricesTime={},ue.obj(e.keyMatricesTime,{mtime:0}),e.keyMatrices={normalMatrix:new Float64Array(16),bcwc:new Float64Array(16),bcsc:new Float64Array(16)},ue.get(_,e,["propID","keyMatricesTime"]),e.bufferShift=[0,0,0,0],Su(_,e)}const Cu=ue.newInstance(Eu);St("vtkActor",Cu);const{CoordinateSystem:Tn}=zr;function Tu(_,e){e.classHierarchy.push("vtkWebGPUActor2D"),_.buildPass=v=>{v&&(e.WebGPURenderer=_.getFirstAncestorOfType("vtkWebGPURenderer"),e.WebGPURenderWindow=e.WebGPURenderer.getFirstAncestorOfType("vtkWebGPURenderWindow"),e.propID===void 0&&(e.propID=e.WebGPURenderWindow.getUniquePropID()),_.prepareNodes(),_.addMissingNode(e.renderable.getMapper()),_.removeUnusedNodes())},_.traverseOpaquePass=v=>{!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e.WebGPURenderer.getSelector()&&!e.renderable.getNestedPickable()||(_.apply(v,!0),e.children[0]&&e.children[0].traverse(v),_.apply(v,!1))},_.traverseTranslucentPass=v=>{!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e.WebGPURenderer.getSelector()&&!e.renderable.getNestedPickable()||(_.apply(v,!0),e.children[0]&&e.children[0].traverse(v),_.apply(v,!1))},_.queryPass=(v,o)=>{if(v){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?o.incrementOpaqueActorCount():o.incrementTranslucentActorCount()}},_.getBufferShift=v=>(_.getKeyMatrices(v),e.bufferShift),_.getKeyMatrices=v=>{if(Math.max(e.renderable.getMTime(),v.getStabilizedTime())>e.keyMatricesTime.getMTime()){e.bufferShift[0]=0,e.bufferShift[1]=0,e.bufferShift[2]=0;const o=v.getStabilizedCenterByReference();e.renderable.getCoordinateSystem()===Tn.WORLD&&(e.bufferShift[0]-=o[0],e.bufferShift[1]-=o[1],e.bufferShift[2]-=o[2]),xt(e.keyMatrices.bcwc),xt(e.keyMatrices.normalMatrix),ir(e.keyMatrices.bcwc,e.keyMatrices.bcwc,[-e.bufferShift[0],-e.bufferShift[1],-e.bufferShift[2]]),e.renderable.getCoordinateSystem()===Tn.WORLD?ir(e.keyMatrices.bcsc,e.keyMatrices.bcwc,[-o[0],-o[1],-o[2]]):Or(e.keyMatrices.bcsc,e.keyMatrices.bcwc),e.keyMatricesTime.modified()}return e.keyMatrices}}const Au={keyMatricesTime:null,keyMatrices:null,propID:void 0,bufferShift:void 0};function Nu(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Au,v),et.extend(_,e,v),e.keyMatricesTime={},ue.obj(e.keyMatricesTime,{mtime:0}),e.keyMatrices={normalMatrix:new Float64Array(16),bcwc:new Float64Array(16),bcsc:new Float64Array(16)},ue.get(_,e,["propID","keyMatricesTime"]),e.bufferShift=[0,0,0,0],Tu(_,e)}const Ou=ue.newInstance(Nu);St("vtkActor2D",Ou);function ku(_,e){e.classHierarchy.push("vtkWebGPUCubeAxesActor"),_.buildPass=v=>{v&&(e.WebGPURenderer=_.getFirstAncestorOfType("vtkWebGPURenderer"),e.WebGPURenderWindow=e.WebGPURenderer.getParent(),e.CubeAxesActorHelper.getRenderable()||e.CubeAxesActorHelper.setRenderable(e.renderable),_.prepareNodes(),_.addMissingNode(e.CubeAxesActorHelper.getTmActor()),_.addMissingNode(e.renderable.getGridActor()),_.removeUnusedNodes())},_.opaquePass=(v,o)=>{if(v){const r=e.WebGPURenderer?e.WebGPURenderer.getRenderable().getActiveCamera():null,c=e.WebGPURenderer.getTiledSizeAndOrigin();e.CubeAxesActorHelper.updateAPISpecificData([c.usize,c.vsize],r,e.WebGPURenderWindow.getRenderable())}}}const Fu={};function Pu(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Fu,v),et.extend(_,e,v),e.CubeAxesActorHelper=hi.newCubeAxesActorHelper(),ku(_,e)}const Iu=Ze(Pu,"vtkWebGPUCubeAxesActor");St("vtkCubeAxesActor",Iu);const{DisplayLocation:Ur}=di;function Mu(_,e){e.classHierarchy.push("vtkProperty2D"),_.setDisplayLocationToBackground=()=>_.setDisplayLocation(Ur.BACKGROUND),_.setDisplayLocationToForeground=()=>_.setDisplayLocation(Ur.FOREGROUND),_.setRepresentationToWireframe=()=>_.setRepresentation(Ct.WIREFRAME),_.setRepresentationToSurface=()=>_.setRepresentation(Ct.SURFACE),_.setRepresentationToPoints=()=>_.setRepresentation(Ct.POINTS),_.getRepresentationAsString=()=>ue.enumToString(Ct,e.representation)}const Bu={color:[1,1,1],opacity:1,pointSize:1,lineWidth:1,representation:Ct.SURFACE,displayLocation:Ur.FOREGROUND};function Lu(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Bu,v),ue.obj(_,e),ue.setGet(_,e,["opacity","lineWidth","pointSize","displayLocation","representation"]),ue.setGetArray(_,e,["color"],3),Mu(_,e)}ue.newInstance(Lu,"vtkProperty2D");var Uu={...di};const{BufferUsage:Ie,PrimitiveTypes:Ue}=hr,{Representation:Yt}=Fn,{ScalarMode:Qt}=Qe,{CoordinateSystem:Ru}=zr,{DisplayLocation:ju}=Uu,zu=`
//VTK::Renderer::Dec

//VTK::Color::Dec

//VTK::Normal::Dec

//VTK::TCoord::Dec

//VTK::Select::Dec

//VTK::Mapper::Dec

//VTK::IOStructs::Dec

@vertex
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output : vertexOutput;

  var vertex: vec4<f32> = vertexBC;

  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Select::Impl

  //VTK::Position::Impl

  return output;
}
`,Gu=`
struct PBRData {
  diffuse: vec3<f32>,
  specular: vec3<f32>,
}

// Dot product with the max already in it
fn mdot(a: vec3<f32>, b: vec3<f32>) -> f32 {
  return max(0.0, dot(a, b));
}
// Dot product with a max in it that does not allow for negative values
// Physically based rendering is accurate as long as normals are accurate,
// however this is pretty often not the case. In order to prevent negative
// values from ruining light calculations and creating zones of zero light,
// this remapping is used, which smoothly clamps the dot product between
// zero and one while still maintaining a good amount of accuracy.
fn cdot(a: vec3<f32>, b: vec3<f32>) -> f32 {
  var d: f32 = max(0.0, dot(a, b));
  d = pow((d + 1.0) / 2.0, 2.6);
  return d;
}

// Lambertian diffuse model
fn lambertDiffuse(base: vec3<f32>, N: vec3<f32>, L: vec3<f32>) -> vec3<f32> {
  var pi: f32 = 3.14159265359; 
  var NdotL: f32 = mdot(N, L);
  NdotL = pow(NdotL, 1.5);
  return (base/pi)*NdotL;
}

// Yasuhiro Fujii improvement on the Oren-Nayar model
// https://mimosa-pudica.net/improved-oren-nayar.html
// p is surface color, o is roughness
fn fujiiOrenNayar(p: vec3<f32>, o: f32, N: vec3<f32>, L: vec3<f32>, V: vec3<f32>) -> vec3<f32> {
  var invpi: f32 = 0.31830988618; // 1/pi

  var o2 = o*o;
  var NdotL: f32 = mdot(N, L);
  NdotL = pow(NdotL, 1.5); // Less physically accurate, but hides the "seams" between lights better

  var NdotV: f32 = mdot(N, V);
  var LdotV: f32 = mdot(L, V);

  var s: f32 = LdotV - NdotL*NdotV;
  var t: f32 = mix(1.0, max(NdotL, NdotV), step(0.0, s)); // Mix with step is the equivalent of an if statement
  var A: vec3<f32> = 0.5*(o2 / (o2 + 0.33)) + 0.17*p*(o2 / (o2 + 0.13));
  A = invpi*(1 - A);
  var B: f32 = 0.45*(o2 / (o2 + 0.09));
  B = invpi*B;

  return p*NdotL*(A + B*(s/t));
}

// Fresnel portion of BRDF (IOR only, simplified)
fn schlickFresnelIOR(V: vec3<f32>, N: vec3<f32>, ior: f32, k: f32) -> f32 {
  var NdotV: f32 = mdot(V, N);
  var F0: f32 = (pow((ior - 1.0), 2.0) + k*k) / (pow((ior + 1.0), 2.0) + k*k); // This takes into account the roughness, which the other one does not
  return F0 + (1.0 - F0) * pow((1.0-NdotV), 5.0);
}

// Fresnel portion of BRDF (Color ior, better)
fn schlickFresnelRGB(V: vec3<f32>, N: vec3<f32>, F0: vec3<f32>) -> vec3<f32> {
  var NdotV: f32 = mdot(V, N);
  return F0 + (1.0 - F0) * pow((1-NdotV), 5.0);
}

// Normal portion of BRDF
// https://learnopengl.com/PBR/Theory
// Trowbridge-Reitz GGX functions: normal, halfway, roughness^2
fn trGGX(N: vec3<f32>, H: vec3<f32>, a: f32) -> f32 {
  var pi: f32 = 3.14159265359; 

  var a2: f32 = a*a;
  var NdotH = mdot(N, H);
  var NdotH2 = NdotH*NdotH;
  
  var denom: f32 = NdotH2 * (a2 - 1.0) + 1.0;

  return a2 / max((pi*denom*denom), 0.000001);
}

// A VERY bad approximation of anisotropy. Real anisotropic calculations require tangent and bitangent
fn anisotrophicTrGGX(N: vec3<f32>, H: vec3<f32>, O: vec3<f32>, s: f32, a: f32) -> f32 {
  var Op: vec3<f32> = (rendererUBO.WCVCNormals * vec4<f32>(normalize(O) * s, 0.)).xyz;

  var ggx1: f32 = trGGX(N + Op*s, H, a);
  var ggx2: f32 = trGGX(N - Op*s, H, a);
  return (0.5 * ggx1 + 0.5 * ggx2);
}

// Geometry portion of BRDF
fn schlickGGX(N: vec3<f32>, X: vec3<f32>, k: f32) -> f32 {
  var NdotX = cdot(N, X);
  return NdotX / max(0.000001, (NdotX*(1.0-k) + k));
}

fn smithSurfaceRoughness(N: vec3<f32>, V: vec3<f32>, L: vec3<f32>, k: f32) -> f32 {
  var ggx1: f32 = min(1.0, schlickGGX(N, V, k));
  var ggx2: f32 = min(1.0, schlickGGX(N, L, k));
  return ggx1*ggx2;
}

// BRDF Combination
fn cookTorrance(D: f32, F: f32, G: f32, N: vec3<f32>, V: vec3<f32>, L: vec3<f32>) -> f32 {
  var num: f32 = D*F*G;
  var denom: f32 = 4*cdot(V, N)*cdot(L, N);

  return num / max(denom, 0.000001);
}

// Different lighting calculations for different light sources
fn calcDirectionalLight(N: vec3<f32>, V: vec3<f32>, ior: f32, roughness: f32, metallic: f32, direction: vec3<f32>, color: vec3<f32>, base: vec3<f32>) -> PBRData {  
  var L: vec3<f32> = normalize(direction); // Light Vector
  var H: vec3<f32> = normalize(L + V); // Halfway Vector

  var alpha = roughness*roughness;
  var k: f32 = alpha*alpha / 2;

  var D: f32 = trGGX(N, H, alpha); // Distribution
  // var F: f32 = schlickFresnelIOR(V, N, ior, k); // Fresnel
  var G: f32 = smithSurfaceRoughness(N, V, L, k); // Geometry

  var brdf: f32 = cookTorrance(D, 1.0, G, N, V, L); // Fresnel term is replaced with 1 because it is added later
  var incoming: vec3<f32> = color;
  var angle: f32 = mdot(L, N);
  angle = pow(angle, 1.5);

  var specular: vec3<f32> = brdf*incoming*angle;
  // Oren-Nayar gives a clay-like effect when fully rough which some people may not want, so it might be better to give a separate
  // control property for the diffuse vs specular roughness
  var diffuse: vec3<f32> = incoming*fujiiOrenNayar(base, roughness, N, L, V); 
  // Stores the specular and diffuse separately to allow for finer post processing
  var out = PBRData(diffuse, specular);
  
  return out; // Returns angle along with color of light so the final color can be multiplied by angle as well (creates black areas)
}

// TODO: find some way to reduce the number of arguments going in here
fn calcPointLight(N: vec3<f32>, V: vec3<f32>, fragPos: vec3<f32>, ior: f32, roughness: f32, metallic: f32, position: vec3<f32>, color: vec3<f32>, base: vec3<f32>) -> PBRData {
  var L: vec3<f32> = normalize(position - fragPos); // Light Vector
  var H: vec3<f32> = normalize(L + V); // Halfway Vector
  var dist = distance(position, fragPos);

  var alpha = roughness*roughness;
  var k: f32 = alpha*alpha / 2.0; // could also be pow(alpha + 1.0, 2) / 8

  var D: f32 = trGGX(N, H, alpha); // Distribution
  // var F: f32 = schlickFresnelIOR(V, N, ior, k); // Fresnel
  var G: f32 = smithSurfaceRoughness(N, V, L, k); // Geometry

  var brdf: f32 = cookTorrance(D, 1.0, G, N, V, L);
  var incoming: vec3<f32> = color * (1.0 / (dist*dist));
  var angle: f32 = mdot(L, N);
  angle = pow(angle, 1.5); // Smoothing factor makes it less accurate, but reduces ugly "seams" bewteen light sources

  var specular: vec3<f32> = brdf*incoming*angle;
  var diffuse: vec3<f32> = incoming*fujiiOrenNayar(base, roughness, N, L, V);

  // Stores the specular and diffuse separately to allow for finer post processing
  // Could also be done (propably more properly) with a struct
  var out = PBRData(diffuse, specular);
  
  return out; // Returns angle along with color of light so the final color can be multiplied by angle as well (creates black areas)
}

// For a reason unknown to me, spheres dont seem to behave propperly with head-on spot lights
fn calcSpotLight(N: vec3<f32>, V: vec3<f32>, fragPos: vec3<f32>, ior: f32, roughness: f32, metallic: f32, position: vec3<f32>, direction: vec3<f32>, cones: vec2<f32>, color: vec3<f32>, base: vec3<f32>) -> PBRData {
  var L: vec3<f32> = normalize(position - fragPos);
  var H: vec3<f32> = normalize(L + V); // Halfway Vector
  var dist = distance(position, fragPos);

  var alpha = roughness*roughness;
  var k: f32 = alpha*alpha / 2.0; // could also be pow(alpha + 1.0, 2) / 8

  var D: f32 = trGGX(N, H, alpha); // Distribution
  // var F: f32 = schlickFresnelIOR(V, N, ior, k); // Fresnel
  var G: f32 = smithSurfaceRoughness(N, V, L, k); // Geometry

  var brdf: f32 = cookTorrance(D, 1.0, G, N, V, L);
  
  // Cones.x is the inner phi and cones.y is the outer phi
  var theta: f32 = mdot(normalize(direction), L);
  var epsilon: f32 = cones.x - cones.y;
  var intensity: f32 = (theta - cones.y) / epsilon;
  intensity = clamp(intensity, 0.0, 1.0);
  intensity /= dist*dist;

  var incoming: vec3<f32> = color * intensity;

  var angle: f32 = mdot(L, N);
  angle = pow(angle, 1.5); // Smoothing factor makes it less accurate, but reduces ugly "seams" bewteen light sources

  var specular: vec3<f32> = brdf*incoming*angle;
  var diffuse: vec3<f32> = incoming*fujiiOrenNayar(base, roughness, N, L, V);

  // Stores the specular and diffuse separately to allow for finer post processing
  // Could also be done (propably more properly) with a struct
  var out = PBRData(diffuse, specular);
  
  return out; // Returns angle along with color of light so the final color can be multiplied by angle as well (creates black areas)
}

// Environment mapping stuff
// Takes in a vector and converts it to an equivalent coordinate in a rectilinear texture. Should be replaced with cubemaps at some point
fn vecToRectCoord(dir: vec3<f32>) -> vec2<f32> {
  var tau: f32 = 6.28318530718;
  var pi: f32 = 3.14159265359;
  var out: vec2<f32> = vec2<f32>(0.0);

  out.x = atan2(dir.z, dir.x) / tau;
  out.x += 0.5;

  var phix: f32 = length(vec2(dir.x, dir.z));
  out.y = atan2(dir.y, phix) / pi + 0.5;

  return out;
}

//VTK::Renderer::Dec

//VTK::Color::Dec

//VTK::TCoord::Dec

// optional surface normal declaration
//VTK::Normal::Dec

//VTK::Select::Dec

//VTK::RenderEncoder::Dec

//VTK::Mapper::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output : fragmentOutput;

  // Temporary ambient, diffuse, and opacity
  var ambientColor: vec4<f32> = mapperUBO.AmbientColor;
  var diffuseColor: vec4<f32> = mapperUBO.DiffuseColor;
  var opacity: f32 = mapperUBO.Opacity;

  // This should be declared somewhere else
  var _diffuseMap: vec4<f32> = vec4<f32>(1.0);
  var _roughnessMap: vec4<f32> = vec4<f32>(1.0);
  var _metallicMap: vec4<f32> = vec4<f32>(1.0);
  var _normalMap: vec4<f32> = vec4<f32>(0.0, 0.0, 1.0, 0.0); // normal map was setting off the normal vector detection in fragment
  var _ambientOcclusionMap: vec4<f32> = vec4<f32>(1.);
  var _emissionMap: vec4<f32> = vec4<f32>(0.);

  //VTK::Color::Impl

  //VTK::TCoord::Impl

  //VTK::Normal::Impl

  var computedColor: vec4<f32> = vec4<f32>(diffuseColor.rgb, 1.0);

  //VTK::Light::Impl

  //VTK::Select::Impl

  if (computedColor.a == 0.0) { discard; };

  //VTK::Position::Impl

  //VTK::RenderEncoder::Impl

  return output;
}
`;function An(_){return _.indexOf("edge")>=0}function Vu(_,e){e.classHierarchy.push("vtkWebGPUCellArrayMapper"),_.buildPass=v=>{v&&(e.is2D?(e.WebGPUActor=_.getFirstAncestorOfType("vtkWebGPUActor2D"),e.forceZValue=!0):(e.WebGPUActor=_.getFirstAncestorOfType("vtkWebGPUActor"),e.forceZValue=!1),e.coordinateSystem=e.WebGPUActor.getRenderable().getCoordinateSystem(),e.useRendererMatrix=e.coordinateSystem!==Ru.DISPLAY,e.WebGPURenderer=e.WebGPUActor.getFirstAncestorOfType("vtkWebGPURenderer"),e.WebGPURenderWindow=e.WebGPURenderer.getParent(),e.device=e.WebGPURenderWindow.getDevice())},_.translucentPass=v=>{v&&(_.prepareToDraw(e.WebGPURenderer.getRenderEncoder()),e.renderEncoder.registerDrawCallback(e.pipeline,_.draw))},_.opaquePass=v=>{v&&(_.prepareToDraw(e.WebGPURenderer.getRenderEncoder()),e.renderEncoder.registerDrawCallback(e.pipeline,_.draw))},_.updateUBO=()=>{const o=e.WebGPUActor.getRenderable().getProperty(),r=e.UBO.getSendTime();if(_.getMTime()>r||o.getMTime()>r||e.renderable.getMTime()>r){const c=e.WebGPUActor.getKeyMatrices(e.WebGPURenderer);if(e.UBO.setArray("BCWCMatrix",c.bcwc),e.UBO.setArray("BCSCMatrix",c.bcsc),e.UBO.setArray("MCWCNormals",c.normalMatrix),e.is2D){e.UBO.setValue("ZValue",e.WebGPUActor.getRenderable().getProperty().getDisplayLocation()===ju.FOREGROUND?1:0);const u=o.getColorByReference();e.UBO.setValue("AmbientIntensity",1),e.UBO.setArray("DiffuseColor",[u[0],u[1],u[2],1]),e.UBO.setValue("DiffuseIntensity",0),e.UBO.setValue("SpecularIntensity",0)}else{let u=o.getAmbientColorByReference();e.UBO.setValue("AmbientIntensity",o.getAmbient()),e.UBO.setArray("AmbientColor",[u[0],u[1],u[2],1]),e.UBO.setValue("DiffuseIntensity",o.getDiffuse()),u=o.getDiffuseColorByReference(),e.UBO.setArray("DiffuseColor",[u[0],u[1],u[2],1]),e.UBO.setValue("Roughness",o.getRoughness()),e.UBO.setValue("BaseIOR",o.getBaseIOR()),e.UBO.setValue("Metallic",o.getMetallic()),e.UBO.setValue("NormalStrength",o.getNormalStrength()),e.UBO.setValue("Emission",o.getEmission()),e.UBO.setValue("SpecularIntensity",o.getSpecular()),u=o.getSpecularColorByReference(),e.UBO.setArray("SpecularColor",[u[0],u[1],u[2],1])}const d=o.getEdgeColorByReference?.();d&&e.UBO.setArray("EdgeColor",[d[0],d[1],d[2],1]),e.UBO.setValue("LineWidth",o.getLineWidth()),e.UBO.setValue("Opacity",o.getOpacity()),e.UBO.setValue("PropID",e.WebGPUActor.getPropID());const l=e.WebGPURenderWindow.getDevice();e.UBO.sendIfNeeded(l)}},_.haveWideLines=()=>{const v=e.WebGPUActor.getRenderable(),o=v.getProperty().getRepresentation();return v.getProperty().getLineWidth()<=1||e.primitiveType===Ue.Verts?!1:e.primitiveType===Ue.Triangles||e.primitiveType===Ue.TriangleStrips?o===Yt.WIREFRAME:!0},_.replaceShaderPosition=(v,o,r)=>{const c=o.getShaderDescription("vertex");c.addBuiltinOutput("vec4<f32>","@builtin(position) Position"),c.hasOutput("vertexVC")||c.addOutput("vec4<f32>","vertexVC");let d=c.getCode();e.useRendererMatrix?(d=Be.substitute(d,"//VTK::Position::Impl",["    var pCoord: vec4<f32> = rendererUBO.SCPCMatrix*mapperUBO.BCSCMatrix*vertexBC;","    output.vertexVC = rendererUBO.SCVCMatrix * mapperUBO.BCSCMatrix * vec4<f32>(vertexBC.xyz, 1.0);","//VTK::Position::Impl"]).result,e.forceZValue&&(d=Be.substitute(d,"//VTK::Position::Impl",["pCoord = vec4<f32>(pCoord.xyz/pCoord.w, 1.0);","pCoord.z = mapperUBO.ZValue;","//VTK::Position::Impl"]).result)):(d=Be.substitute(d,"//VTK::Position::Impl",["    var pCoord: vec4<f32> = mapperUBO.BCSCMatrix*vertexBC;","    pCoord.x = 2.0* pCoord.x / rendererUBO.viewportSize.x - 1.0;","    pCoord.y = 2.0* pCoord.y / rendererUBO.viewportSize.y - 1.0;","    pCoord.z = 0.5 - 0.5 * pCoord.z;","//VTK::Position::Impl"]).result,e.forceZValue&&(d=Be.substitute(d,"//VTK::Position::Impl",["    pCoord.z = mapperUBO.ZValue;","//VTK::Position::Impl"]).result)),_.haveWideLines()&&(c.addBuiltinInput("u32","@builtin(instance_index) instanceIndex"),d=Be.substitute(d,"//VTK::Position::Impl",["    var tmpPos: vec4<f32> = pCoord;","    var numSteps: f32 = ceil(mapperUBO.LineWidth - 1.0);","    var offset: f32 = (mapperUBO.LineWidth - 1.0) * (f32(input.instanceIndex / 2u) - numSteps/2.0) / numSteps;","    var tmpPos2: vec3<f32> = tmpPos.xyz / tmpPos.w;","    tmpPos2.x = tmpPos2.x + 2.0 * (f32(input.instanceIndex) % 2.0) * offset / rendererUBO.viewportSize.x;","    tmpPos2.y = tmpPos2.y + 2.0 * (f32(input.instanceIndex + 1u) % 2.0) * offset / rendererUBO.viewportSize.y;","    tmpPos2.z = min(1.0, tmpPos2.z + 0.00001);","    pCoord = vec4<f32>(tmpPos2.xyz * tmpPos.w, tmpPos.w);","//VTK::Position::Impl"]).result),d=Be.substitute(d,"//VTK::Position::Impl",["    output.Position = pCoord;"]).result,c.setCode(d)},e.shaderReplacements.set("replaceShaderPosition",_.replaceShaderPosition),_.replaceShaderNormal=(v,o,r)=>{const c=r.getBuffer("normalMC"),d=e.WebGPUActor.getRenderable();if(c){const l=o.getShaderDescription("vertex");l.hasOutput("normalVC")||l.addOutput("vec3<f32>","normalVC",c.getArrayInformation()[0].interpolation),l.hasOutput("tangentVC")||l.addOutput("vec3<f32>","tangentVC",c.getArrayInformation()[0].interpolation),l.hasOutput("bitangentVC")||l.addOutput("vec3<f32>","bitangentVC",c.getArrayInformation()[0].interpolation);let u=l.getCode();u=Be.substitute(u,"//VTK::Normal::Impl",["  output.normalVC = normalize((rendererUBO.WCVCNormals * mapperUBO.MCWCNormals * normalMC).xyz);","  var c1: vec3<f32> = cross(output.normalVC, vec3<f32>(0, 0, 1));","  var c2: vec3<f32> = cross(output.normalVC, vec3<f32>(0, 1, 0));","  var tangent: vec3<f32> = mix(c1, c2, distance(c1, c2));","  output.tangentVC = normalize(tangent);","  output.bitangentVC = normalize(cross(output.normalVC, tangent));"]).result,l.setCode(u);const n=o.getShaderDescription("fragment");u=n.getCode(),d.getProperty().getNormalTexture()?u=Be.substitute(u,"//VTK::Normal::Impl",["  var normal: vec3<f32> = input.normalVC;","  if (!input.frontFacing) { normal = -normal; }","  var tangent: vec3<f32> = input.tangentVC;","  var bitangent: vec3<f32> = input.bitangentVC;","  var TCVCMatrix: mat3x3<f32> = mat3x3<f32>(","    tangent.x, bitangent.x, normal.x,","    tangent.y, bitangent.y, normal.y,","    tangent.z, bitangent.z, normal.z,","  );","  var mappedNormal: vec3<f32> = TCVCMatrix * (_normalMap.xyz * 2 - 1);","  normal = mix(normal, mappedNormal, mapperUBO.NormalStrength);","  normal = normalize(normal);"]).result:u=Be.substitute(u,"//VTK::Normal::Impl",["  var normal: vec3<f32> = input.normalVC;","  if (!input.frontFacing) { normal = -normal; }","  normal = normalize(normal);"]).result,n.setCode(u)}},e.shaderReplacements.set("replaceShaderNormal",_.replaceShaderNormal),_.replaceShaderLight=(v,o,r)=>{if(v.includes("sel"))return;const c=o.getShaderDescription("vertex");c.hasOutput("vertexVC")||c.addOutput("vec4<f32>","vertexVC");const d=e.WebGPURenderer.getRenderable(),l=o.getShaderDescription("fragment");let u=l.getCode();if(u.includes("var normal:")&&e.useRendererMatrix&&!An(v)&&!e.is2D&&!v.includes("sel")){const n=["  var pi: f32 = 3.14159265359;","  var fragPos: vec3<f32> = vec3<f32>(input.vertexVC.xyz);","  var V: vec3<f32> = mix(normalize(-fragPos), vec3<f32>(0, 0, 1), f32(rendererUBO.cameraParallel)); // View Vector","  var baseColor: vec3<f32> = _diffuseMap.rgb * diffuseColor.rgb;","  var roughness: f32 = max(0.000001, mapperUBO.Roughness * _roughnessMap.r);","  var metallic: f32 = mapperUBO.Metallic * _metallicMap.r;","  var alpha: f32 = roughness*roughness;","  var ior: f32 = mapperUBO.BaseIOR;","  var k: f32 = alpha*alpha / 2;","  var diffuse: vec3<f32> = vec3<f32>(0.);","  var specular: vec3<f32> = vec3<f32>(0.);","  var emission: vec3<f32> = _emissionMap.rgb * mapperUBO.Emission;","  {","    var i: i32 = 0;","    loop {","      if !(i < rendererUBO.LightCount) { break; }","      switch (i32(rendererLightSSBO.values[i].LightData.x)) {","         // Point Light","         case 0 {","           var color: vec3<f32> = rendererLightSSBO.values[i].LightColor.rgb * rendererLightSSBO.values[i].LightColor.w;","           var pos: vec3<f32> = (rendererLightSSBO.values[i].LightPos).xyz;","           var calculated: PBRData = calcPointLight(normal, V, fragPos, ior, roughness, metallic, pos, color, baseColor);","           diffuse += max(vec3<f32>(0), calculated.diffuse);","           specular += max(vec3<f32>(0), calculated.specular);","          }","         // Directional light","         case 1 {","           var dir: vec3<f32> = (rendererUBO.WCVCNormals * vec4<f32>(normalize(rendererLightSSBO.values[i].LightDir.xyz), 0.)).xyz;","           dir = normalize(dir);","           var color: vec3<f32> = rendererLightSSBO.values[i].LightColor.rgb * rendererLightSSBO.values[i].LightColor.w;","           var calculated: PBRData = calcDirectionalLight(normal, V, ior, roughness, metallic, dir, color, baseColor); // diffuseColor.rgb needs to be fixed with a more dynamic diffuse color","           diffuse += max(vec3<f32>(0), calculated.diffuse);","           specular += max(vec3<f32>(0), calculated.specular);","         }","         // Spot Light","         case 2 {","           var color: vec3<f32> = rendererLightSSBO.values[i].LightColor.rgb * rendererLightSSBO.values[i].LightColor.w;","           var pos: vec3<f32> = (rendererLightSSBO.values[i].LightPos).xyz;","           var dir: vec3<f32> = (rendererUBO.WCVCNormals * vec4<f32>(normalize(rendererLightSSBO.values[i].LightDir.xyz), 0.)).xyz;","           dir = normalize(dir);","           var cones: vec2<f32> = vec2<f32>(rendererLightSSBO.values[i].LightData.y, rendererLightSSBO.values[i].LightData.z);","           var calculated: PBRData = calcSpotLight(normal, V, fragPos, ior, roughness, metallic, pos, dir, cones, color, baseColor);","           diffuse += max(vec3<f32>(0), calculated.diffuse);","           specular += max(vec3<f32>(0), calculated.specular);","         }","         default { continue; }","       }","      continuing { i++; }","    }","  }","  var fresnel: f32 = schlickFresnelIOR(V, normal, ior, k); // Fresnel","  fresnel = min(1.0, fresnel);","  // This could be controlled with its own variable (that isnt base color) for better artistic control","  var fresnelMetallic: vec3<f32> = schlickFresnelRGB(V, normal, baseColor); // Fresnel for metal, takes color into account","  var kS: vec3<f32> = mix(vec3<f32>(fresnel), fresnelMetallic, metallic);","  kS = min(vec3<f32>(1.0), kS);","  var kD: vec3<f32> = (1.0 - kS) * (1.0 - metallic);","  var PBR: vec3<f32> = mapperUBO.DiffuseIntensity*kD*diffuse + kS*specular;","  PBR += emission;","  computedColor = vec4<f32>(PBR, mapperUBO.Opacity);"];d.getEnvironmentTexture()?.getImageLoaded()&&n.push("  // To get diffuse IBL, the texture is sampled with normals in worldspace","  var diffuseIBLCoords: vec3<f32> = (transpose(rendererUBO.WCVCNormals) * vec4<f32>(normal, 1.)).xyz;","  var diffuseCoords: vec2<f32> = vecToRectCoord(diffuseIBLCoords);","  // To get specular IBL, the texture is sampled as the worldspace reflection between the normal and view vectors","  // Reflections are first calculated in viewspace, then converted to worldspace to sample the environment","  var VreflN: vec3<f32> = normalize(reflect(-V, normal));","  var reflectionIBLCoords = (transpose(rendererUBO.WCVCNormals) * vec4<f32>(VreflN, 1.)).xyz;","  var specularCoords: vec2<f32> = vecToRectCoord(reflectionIBLCoords);","  var diffuseIBL = textureSampleLevel(EnvironmentTexture, EnvironmentTextureSampler, diffuseCoords, rendererUBO.MaxEnvironmentMipLevel);","  var level = roughness * rendererUBO.MaxEnvironmentMipLevel;","  var specularIBL = textureSampleLevel(EnvironmentTexture, EnvironmentTextureSampler, specularCoords, level);","  var specularIBLContribution: vec3<f32> = specularIBL.rgb*rendererUBO.BackgroundSpecularStrength;","  computedColor += vec4<f32>(specularIBLContribution*kS, 0);","  var diffuseIBLContribution: vec3<f32> = diffuseIBL.rgb*rendererUBO.BackgroundDiffuseStrength;","  diffuseIBLContribution *= baseColor * _ambientOcclusionMap.rgb;","  computedColor += vec4<f32>(diffuseIBLContribution*kD, 0);"),u=Be.substitute(u,"//VTK::Light::Impl",n).result,l.setCode(u)}else u=Be.substitute(u,"//VTK::Light::Impl",["  var diffuse: vec3<f32> = diffuseColor.rgb;","  var specular: vec3<f32> = mapperUBO.SpecularColor.rgb * mapperUBO.SpecularColor.a;","  computedColor = vec4<f32>(diffuse * _diffuseMap.rgb, mapperUBO.Opacity);"]).result,l.setCode(u)},e.shaderReplacements.set("replaceShaderLight",_.replaceShaderLight),_.replaceShaderColor=(v,o,r)=>{if(An(v)){const n=o.getShaderDescription("fragment");let h=n.getCode();h=Be.substitute(h,"//VTK::Color::Impl",["ambientColor = mapperUBO.EdgeColor;","diffuseColor = mapperUBO.EdgeColor;"]).result,n.setCode(h);return}const c=r.getBuffer("colorVI");if(!c)return;const d=o.getShaderDescription("vertex");d.addOutput("vec4<f32>","color",c.getArrayInformation()[0].interpolation);let l=d.getCode();l=Be.substitute(l,"//VTK::Color::Impl",["  output.color = colorVI;"]).result,d.setCode(l);const u=o.getShaderDescription("fragment");l=u.getCode(),l=Be.substitute(l,"//VTK::Color::Impl",["ambientColor = input.color;","diffuseColor = input.color;","opacity = mapperUBO.Opacity * input.color.a;"]).result,u.setCode(l)},e.shaderReplacements.set("replaceShaderColor",_.replaceShaderColor),_.replaceShaderTCoord=(v,o,r)=>{if(!r.hasAttribute("tcoord"))return;const c=o.getShaderDescription("vertex"),d=r.getBuffer("tcoord"),l=pt.getNumberOfComponentsFromBufferFormat(d.getArrayInformation()[0].format);let u=c.getCode();c.addOutput(`vec${l}<f32>`,"tcoordVS"),u=Be.substitute(u,"//VTK::TCoord::Impl",["  output.tcoordVS = tcoord;"]).result,c.setCode(u);const n=o.getShaderDescription("fragment");u=n.getCode();const h=e.WebGPUActor.getRenderable(),t=f=>f?f.getDimensionality()===l:!1,a=[];(h.getProperty().getDiffuseTexture?.()?.getImageLoaded()||h.getTextures()[0]||e.colorTexture)&&(t(h.getProperty().getDiffuseTexture?.())||t(h.getTextures()[0])||t(e.colorTexture))&&a.push("_diffuseMap = textureSample(DiffuseTexture, DiffuseTextureSampler, input.tcoordVS);"),h.getProperty().getRoughnessTexture?.()?.getImageLoaded()&&t(h.getProperty().getRoughnessTexture())&&a.push("_roughnessMap = textureSample(RoughnessTexture, RoughnessTextureSampler, input.tcoordVS);"),h.getProperty().getMetallicTexture?.()?.getImageLoaded()&&t(h.getProperty().getMetallicTexture())&&a.push("_metallicMap = textureSample(MetallicTexture, MetallicTextureSampler, input.tcoordVS);"),h.getProperty().getNormalTexture?.()?.getImageLoaded()&&t(h.getProperty().getNormalTexture())&&a.push("_normalMap = textureSample(NormalTexture, NormalTextureSampler, input.tcoordVS);"),h.getProperty().getAmbientOcclusionTexture?.()?.getImageLoaded()&&t(h.getProperty().getAmbientOcclusionTexture())&&a.push("_ambientOcclusionMap = textureSample(AmbientOcclusionTexture, AmbientOcclusionTextureSampler, input.tcoordVS);"),h.getProperty().getEmissionTexture?.()?.getImageLoaded()&&t(h.getProperty().getEmissionTexture())&&a.push("_emissionMap = textureSample(EmissionTexture, EmissionTextureSampler, input.tcoordVS);"),u=Be.substitute(u,"//VTK::TCoord::Impl",a).result,n.setCode(u)},e.shaderReplacements.set("replaceShaderTCoord",_.replaceShaderTCoord),_.replaceShaderSelect=(v,o,r)=>{if(v.includes("sel")){const c=o.getShaderDescription("fragment");let d=c.getCode();d=Be.substitute(d,"//VTK::Select::Impl",["  var compositeID: u32 = 0u;"]).result,c.setCode(d)}},e.shaderReplacements.set("replaceShaderSelect",_.replaceShaderSelect),_.getUsage=(v,o)=>v===Yt.POINTS||o===Ue.Points?Ie.Verts:o===Ue.Lines?Ie.Lines:v===Yt.WIREFRAME?o===Ue.Triangles?Ie.LinesFromTriangles:Ie.LinesFromStrips:o===Ue.Triangles?Ie.Triangles:o===Ue.TriangleStrips?Ie.Strips:o===Ue.TriangleEdges?Ie.LinesFromTriangles:Ie.LinesFromStrips,_.getHashFromUsage=v=>`pt${v}`,_.getTopologyFromUsage=v=>{switch(v){case Ie.Triangles:return"triangle-list";case Ie.Verts:return"point-list";case Ie.Lines:default:return"line-list"}},_.buildVertexInput=()=>{const v=e.currentInput,o=e.cellArray,r=e.primitiveType;let d=e.WebGPUActor.getRenderable().getProperty().getRepresentation();const l=e.WebGPURenderWindow.getDevice();let u=!1;r===Ue.TriangleEdges&&(u=!0,d=Yt.WIREFRAME);const n=e.vertexInput,h=v.getPoints();let t;if(o){const m={hash:`R${d}P${r}${o.getMTime()}`,usage:Ie.Index,cells:o,numberOfPoints:h.getNumberOfPoints(),primitiveType:r,representation:d};t=l.getBufferManager().getBuffer(m),n.setIndexBuffer(t)}else n.setIndexBuffer(null);if(h){const m=e.WebGPUActor.getBufferShift(e.WebGPURenderer),y={hash:`${h.getMTime()}I${t.getMTime()}${m.join()}float32x4`,usage:Ie.PointArray,format:"float32x4",dataArray:h,indexBuffer:t,shift:m,packExtra:!0},g=l.getBufferManager().getBuffer(y);n.addBuffer(g,["vertexBC"])}else n.removeBufferIfPresent("vertexBC");const a=_.getUsage(d,r);if(e._usesCellNormals=!1,!e.is2D&&(a===Ie.Triangles||a===Ie.Strips)){const m=v.getPointData().getNormals(),y={format:"snorm8x4",indexBuffer:t,packExtra:!0,shift:0,scale:127};if(m){y.hash=`${m.getMTime()}I${t.getMTime()}snorm8x4`,y.dataArray=m,y.usage=Ie.PointArray;const g=l.getBufferManager().getBuffer(y);n.addBuffer(g,["normalMC"])}else if(r===Ue.Triangles){e._usesCellNormals=!0,y.hash=`PFN${h.getMTime()}I${t.getMTime()}snorm8x4`,y.dataArray=h,y.cells=o,y.usage=Ie.NormalsFromPoints;const g=l.getBufferManager().getBuffer(y);n.addBuffer(g,["normalMC"])}else n.removeBufferIfPresent("normalMC")}else n.removeBufferIfPresent("normalMC");let f=!1;if(e.renderable.getScalarVisibility()){const m=e.renderable.getColorMapColors();if(m&&!u){const y=e.renderable.getScalarMode();let g=!1;(y===Qt.USE_CELL_DATA||y===Qt.USE_CELL_FIELD_DATA||y===Qt.USE_FIELD_DATA||!v.getPointData().getScalars())&&y!==Qt.USE_POINT_FIELD_DATA&&m&&(g=!0);const i={usage:Ie.PointArray,format:"unorm8x4",hash:`${g}${m.getMTime()}I${t.getMTime()}unorm8x4`,dataArray:m,indexBuffer:t,cellData:g,cellOffset:0},s=l.getBufferManager().getBuffer(i);n.addBuffer(s,["colorVI"]),f=!0}}f||n.removeBufferIfPresent("colorVI");let p=null;if(e.renderable.getInterpolateScalarsBeforeMapping?.()&&e.renderable.getColorCoordinates()?p=e.renderable.getColorCoordinates():p=v.getPointData().getTCoords(),p&&!u){const m=l.getBufferManager().getBufferForPointArray(p,n.getIndexBuffer());n.addBuffer(m,["tcoord"])}else n.removeBufferIfPresent("tcoord")},_.updateTextures=()=>{const v=[],o=[],r=e.renderable.getColorTextureMap?.();r&&(e.colorTexture||(e.colorTexture=Dt.newInstance({label:"polyDataColor"})),e.colorTexture.setInputData(r),o.push(["Diffuse",e.colorTexture]));const c=e.WebGPUActor.getRenderable(),d=e.WebGPURenderer.getRenderable(),l=[];if(c.getProperty().getDiffuseTexture?.()){const u=["Diffuse",c.getProperty().getDiffuseTexture()];l.push(u)}if(c.getTextures()[0]){const u=["Diffuse",c.getTextures()[0]];l.push(u)}if(e.colorTexture){const u=["Diffuse",e.colorTexture];l.push(u)}if(c.getProperty().getRoughnessTexture?.()){const u=["Roughness",c.getProperty().getRoughnessTexture()];l.push(u)}if(c.getProperty().getMetallicTexture?.()){const u=["Metallic",c.getProperty().getMetallicTexture()];l.push(u)}if(c.getProperty().getNormalTexture?.()){const u=["Normal",c.getProperty().getNormalTexture()];l.push(u)}if(c.getProperty().getAmbientOcclusionTexture?.()){const u=["AmbientOcclusion",c.getProperty().getAmbientOcclusionTexture()];l.push(u)}if(c.getProperty().getEmissionTexture?.()){const u=["Emission",c.getProperty().getEmissionTexture()];l.push(u)}if(d.getEnvironmentTexture?.()){const u=["Environment",d.getEnvironmentTexture()];l.push(u)}for(let u=0;u<l.length;u++)(l[u][1].getInputData()||l[u][1].getJsImageData()||l[u][1].getCanvas())&&o.push(l[u]),l[u][1].getImage()&&l[u][1].getImageLoaded()&&o.push(l[u]);for(let u=0;u<o.length;u++){const n=o[u][1],h=o[u][0],t=e.device.getTextureManager().getTextureForVTKTexture(n);if(t.getReady()){let a=!1;for(let f=0;f<e.textures.length;f++)e.textures[f]===t&&(a=!0,v[f]=!0);if(!a){v[e.textures.length]=!0;const f=t.createView(`${h}Texture`);e.textures.push(t),e.textureViews.push(f);const p=n.getInterpolate()?"linear":"nearest";let m=null;!m&&n.getEdgeClamp()&&n.getRepeat()&&(m="mirror-repeat"),!m&&n.getEdgeClamp()&&(m="clamp-to-edge"),!m&&n.getRepeat()&&(m="repeat"),h!=="Environment"?f.addSampler(e.device,{addressModeU:m,addressModeV:m,addressModeW:m,minFilter:p,magFilter:p}):f.addSampler(e.device,{addressModeU:"repeat",addressModeV:"clamp-to-edge",addressModeW:"repeat",minFilter:p,magFilter:p,mipmapFilter:"linear"})}}}for(let u=e.textures.length-1;u>=0;u--)v[u]||(e.textures.splice(u,1),e.textureViews.splice(u,1))},_.computePipelineHash=()=>{let v=`pd${e.useRendererMatrix?"r":""}${e.forceZValue?"z":""}`;if(e.primitiveType===Ue.TriangleEdges||e.primitiveType===Ue.TriangleStripEdges)v+="edge";else{if(e.vertexInput.hasAttribute("normalMC")&&(v+="n"),e.vertexInput.hasAttribute("colorVI")&&(v+="c"),e.vertexInput.hasAttribute("tcoord")){const r=e.vertexInput.getBuffer("tcoord"),c=pt.getNumberOfComponentsFromBufferFormat(r.getArrayInformation()[0].format);v+=`t${c}`}e.textures.length&&(v+=`tx${e.textures.length}`)}e._usesCellNormals&&(v+="cn"),e.SSBO&&(v+="ssbo");const o=_.getHashFromUsage(e.usage);v+=o,v+=e.renderEncoder.getPipelineHash(),e.pipelineHash=v},_.updateBuffers=()=>{e.primitiveType!==Ue.TriangleEdges&&e.primitiveType!==Ue.TriangleStripEdges&&_.updateTextures();const v=e.WebGPUActor.getRenderable(),o=v.getProperty().getRepresentation();e.usage=_.getUsage(o,e.primitiveType),_.buildVertexInput();const r=e.vertexInput.getBuffer("vertexBC");if(_.setNumberOfVertices(r.getSizeInBytes()/r.getStrideInBytes()),_.setTopology(_.getTopologyFromUsage(e.usage)),_.updateUBO(),_.haveWideLines()){const c=v.getProperty();_.setNumberOfInstances(Math.ceil(c.getLineWidth()*2))}else _.setNumberOfInstances(1)}}const Wu={is2D:!1,cellArray:null,currentInput:null,cellOffset:0,primitiveType:0,colorTexture:null,renderEncoder:null,textures:null};function _i(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Wu,v),Hi.extend(_,e,v),e.fragmentShaderTemplate=Gu,e.vertexShaderTemplate=zu,e._tmpMat3=Xi(new Float64Array(9)),e._tmpMat4=xt(new Float64Array(16)),e.UBO=qi.newInstance({label:"mapperUBO"}),e.UBO.addEntry("BCWCMatrix","mat4x4<f32>"),e.UBO.addEntry("BCSCMatrix","mat4x4<f32>"),e.UBO.addEntry("MCWCNormals","mat4x4<f32>"),e.UBO.addEntry("AmbientColor","vec4<f32>"),e.UBO.addEntry("DiffuseColor","vec4<f32>"),e.UBO.addEntry("EdgeColor","vec4<f32>"),e.UBO.addEntry("SpecularColor","vec4<f32>"),e.UBO.addEntry("AmbientIntensity","f32"),e.UBO.addEntry("DiffuseIntensity","f32"),e.UBO.addEntry("Roughness","f32"),e.UBO.addEntry("Metallic","f32"),e.UBO.addEntry("Ambient","f32"),e.UBO.addEntry("Normal","f32"),e.UBO.addEntry("Emission","f32"),e.UBO.addEntry("NormalStrength","f32"),e.UBO.addEntry("BaseIOR","f32"),e.UBO.addEntry("SpecularIntensity","f32"),e.UBO.addEntry("LineWidth","f32"),e.UBO.addEntry("Opacity","f32"),e.UBO.addEntry("ZValue","f32"),e.UBO.addEntry("PropID","u32"),e.UBO.addEntry("ClipNear","f32"),e.UBO.addEntry("ClipFar","f32"),e.UBO.addEntry("Time","u32"),jr(_,e,["cellArray","currentInput","cellOffset","is2D","primitiveType","renderEncoder"]),e.textures=[],Vu(_,e)}const Hu=Ze(_i,"vtkWebGPUCellArrayMapper");var xi={newInstance:Hu,extend:_i};const{PrimitiveTypes:Zt}=hr;function Xu(_,e){e.classHierarchy.push("vtkWebGPUPolyDataMapper"),_.createCellArrayMapper=()=>xi.newInstance(),_.buildPass=v=>{if(v){e.WebGPUActor=_.getFirstAncestorOfType("vtkWebGPUActor"),e.renderable.getStatic()||e.renderable.update();const o=e.renderable.getInputData();e.renderable.mapScalars(o,1),_.updateCellArrayMappers(o)}},_.updateCellArrayMappers=v=>{const o=[v.getVerts(),v.getLines(),v.getPolys(),v.getStrips()],r=[];let c=0;for(let d=Zt.Points;d<=Zt.Triangles;d++)if(o[d].getNumberOfValues()>0){e.primitives[d]||(e.primitives[d]=_.createCellArrayMapper());const l=e.primitives[d];l.setCellArray(o[d]),l.setCurrentInput(v),l.setCellOffset(c),l.setPrimitiveType(d),l.setRenderable(e.renderable),c+=o[d].getNumberOfCells(),r.push(l)}else e.primitives[d]=null;if(e.WebGPUActor.getRenderable().getProperty().getEdgeVisibility())for(let d=Zt.TriangleEdges;d<=Zt.TriangleStripEdges;d++)if(o[d-2].getNumberOfValues()>0){e.primitives[d]||(e.primitives[d]=_.createCellArrayMapper());const l=e.primitives[d];l.setCellArray(o[d-2]),l.setCurrentInput(v),l.setCellOffset(e.primitives[d-2].getCellOffset()),l.setPrimitiveType(d),l.setRenderable(e.renderable),r.push(l)}else e.primitives[d]=null;_.prepareNodes(),_.addMissingChildren(r),_.removeUnusedNodes()}}const qu={primitives:null};function $u(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,qu,v),et.extend(_,e,v),e.primitives=[],Xu(_,e)}const Ku=Ze($u,"vtkWebGPUPolyDataMapper");St("vtkMapper",Ku);const{PrimitiveTypes:Nn}=hr;function Ju(_,e){e.classHierarchy.push("vtkWebGPUPolyDataMapper2D"),_.createCellArrayMapper=()=>xi.newInstance(),_.buildPass=v=>{if(v){e.WebGPUActor=_.getFirstAncestorOfType("vtkWebGPUActor2D"),e.renderable.getStatic()||e.renderable.update();const o=e.renderable.getInputData();e.renderable.mapScalars(o,1),_.updateCellArrayMappers(o)}},_.updateCellArrayMappers=v=>{const o=[v.getVerts(),v.getLines(),v.getPolys(),v.getStrips()],r=[];let c=0;for(let d=Nn.Points;d<=Nn.Triangles;d++)if(o[d].getNumberOfValues()>0){e.primitives[d]||(e.primitives[d]=_.createCellArrayMapper());const l=e.primitives[d];l.setCellArray(o[d]),l.setCurrentInput(v),l.setCellOffset(c),l.setPrimitiveType(d),l.setRenderable(e.renderable),l.setIs2D(!0),c+=o[d].getNumberOfCells(),r.push(l)}else e.primitives[d]=null;_.prepareNodes(),_.addMissingChildren(r),_.removeUnusedNodes()}}function Yu(_){return{primitives:[],..._}}function Qu(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Yu(v)),et.extend(_,e,v),e.primitives=[],Ju(_,e)}const Zu=Ze(Qu,"vtkWebGPUPolyDataMapper2D");St("vtkMapper2D",Zu);function el(_,e){e.classHierarchy.push("vtkWebGPUScalarBarActor"),_.buildPass=v=>{v&&(e.WebGPURenderer=_.getFirstAncestorOfType("vtkWebGPURenderer"),e.WebGPURenderWindow=e.WebGPURenderer.getParent(),e.scalarBarActorHelper.getRenderable()||e.scalarBarActorHelper.setRenderable(e.renderable),_.prepareNodes(),_.addMissingNode(e.scalarBarActorHelper.getBarActor()),_.addMissingNode(e.scalarBarActorHelper.getTmActor()),_.removeUnusedNodes())},_.opaquePass=(v,o)=>{if(v){const r=e.WebGPURenderer?e.WebGPURenderer.getRenderable().getActiveCamera():null,c=e.WebGPURenderer.getTiledSizeAndOrigin();e.scalarBarActorHelper.updateAPISpecificData([c.usize,c.vsize],r,e.WebGPURenderWindow.getRenderable())}}}const tl={};function rl(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,tl,v),et.extend(_,e,v),e.scalarBarActorHelper=vi.newScalarBarActorHelper(),el(_,e)}const nl=Ze(rl,"vtkWebGPUScalarBarActor");St("vtkScalarBarActor",nl);function il(_,e){e.classHierarchy.push("vtkWebGPUTextureView"),_.create=(v,o)=>{e.texture=v,e.options=o,e.options.dimension=e.options.dimension||"2d",e.options.label=e.label,e.textureHandle=v.getHandle(),e.handle=e.textureHandle.createView(e.options),e.bindGroupLayoutEntry.texture.viewDimension=e.options.dimension;const r=pt.getDetailsFromTextureFormat(e.texture.getFormat());e.bindGroupLayoutEntry.texture.sampleType=r.sampleType},_.createFromTextureHandle=(v,o)=>{e.texture=null,e.options=o,e.options.dimension=e.options.dimension||"2d",e.options.label=e.label,e.textureHandle=v,e.handle=e.textureHandle.createView(e.options),e.bindGroupLayoutEntry.texture.viewDimension=e.options.dimension;const r=pt.getDetailsFromTextureFormat(o.format);e.bindGroupLayoutEntry.texture.sampleType=r.sampleType,e.bindGroupTime.modified()},_.getBindGroupEntry=()=>({resource:_.getHandle()}),_.getShaderCode=(v,o)=>{let r="f32";e.bindGroupLayoutEntry.texture.sampleType==="sint"?r="i32":e.bindGroupLayoutEntry.texture.sampleType==="uint"&&(r="u32");let c=`@binding(${v}) @group(${o}) var ${e.label}: texture_${e.options.dimension}<${r}>;`;return e.bindGroupLayoutEntry.texture.sampleType==="depth"&&(c=`@binding(${v}) @group(${o}) var ${e.label}: texture_depth_${e.options.dimension};`),c},_.addSampler=(v,o)=>{const r=$i.newInstance({label:`${e.label}Sampler`});r.create(v,o),_.setSampler(r)},_.getBindGroupTime=()=>(e.texture&&e.texture.getHandle()!==e.textureHandle&&(e.textureHandle=e.texture.getHandle(),e.handle=e.textureHandle.createView(e.options),e.bindGroupTime.modified()),e.bindGroupTime),_.getHandle=()=>(e.texture&&e.texture.getHandle()!==e.textureHandle&&(e.textureHandle=e.texture.getHandle(),e.handle=e.textureHandle.createView(e.options),e.bindGroupTime.modified()),e.handle)}const al={texture:null,handle:null,sampler:null,label:null};function bi(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,al,v),ue.obj(_,e),e.bindGroupLayoutEntry={visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d"}},e.bindGroupTime={},ue.obj(e.bindGroupTime,{mtime:0}),ue.get(_,e,["bindGroupTime","texture"]),ue.setGet(_,e,["bindGroupLayoutEntry","label","sampler"]),il(_,e)}const ol=ue.newInstance(bi);var sl={newInstance:ol,extend:bi};const{BufferUsage:On}=hr;function ul(_,e){e.classHierarchy.push("vtkWebGPUTexture"),_.create=(v,o)=>{e.device=v,e.width=o.width,e.height=o.height,e.depth=o.depth?o.depth:1;const r=e.depth===1?"2d":"3d";e.format=o.format?o.format:"rgba8unorm",e.mipLevel=o.mipLevel?o.mipLevel:0,e.usage=o.usage?o.usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST,e.handle=e.device.getHandle().createTexture({size:[e.width,e.height,e.depth],format:e.format,usage:e.usage,label:e.label,dimension:r,mipLevelCount:e.mipLevel+1})},_.assignFromHandle=(v,o,r)=>{e.device=v,e.handle=o,e.width=r.width,e.height=r.height,e.depth=r.depth?r.depth:1,e.format=r.format?r.format:"rgba8unorm",e.usage=r.usage?r.usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST},_.writeImageData=v=>{let o=[];if(v.canvas){e.device.getHandle().queue.copyExternalImageToTexture({source:v.canvas,flipY:v.flip},{texture:e.handle,premultipliedAlpha:!0},[e.width,e.height,e.depth]),e.ready=!0;return}v.jsImageData&&!v.nativeArray&&(v.width=v.jsImageData.width,v.height=v.jsImageData.height,v.depth=1,v.format="rgba8unorm",v.flip=!0,v.nativeArray=v.jsImageData.data);const r=pt.getDetailsFromTextureFormat(e.format);let c=e.width*r.stride;const d=(u,n,h)=>{const t=u.length/(n*h)*u.BYTES_PER_ELEMENT,a=r.elementSize===2&&r.sampleType==="float";if(a||t%256){const f=u,p=t/f.BYTES_PER_ELEMENT,m=r.elementSize,y=256*Math.floor((p*m+255)/256),g=y/m,i=ue.newTypedArray(a?"Uint16Array":f.constructor.name,g*n*h);for(let s=0;s<n*h;s++)if(a)for(let x=0;x<p;x++)i[s*g+x]=Ki.toHalf(f[s*p+x]);else i.set(f.subarray(s*p,(s+1)*p),s*g);return[i,y]}return[u,t]};if(v.nativeArray&&(o=v.nativeArray),v.image){const u=document.createElement("canvas");u.width=v.image.width,u.height=v.image.height;const n=u.getContext("2d");n.translate(0,u.height),n.scale(1,-1),n.drawImage(v.image,0,0,v.image.width,v.image.height,0,0,u.width,u.height),o=n.getImageData(0,0,v.image.width,v.image.height).data}const l=e.device.createCommandEncoder();if(_.getDimensionality()!==3){const u=Dt.generateMipmaps(o,e.width,e.height,e.mipLevel);let n=e.width,h=e.height;for(let t=0;t<=e.mipLevel;t++){const a=d(u[t],h,1);c=a[1];const f={dataArray:v.dataArray?v.dataArray:null,nativeArray:a[0],usage:On.Texture},p=e.device.getBufferManager().getBuffer(f);l.copyBufferToTexture({buffer:p.getHandle(),offset:0,bytesPerRow:c,rowsPerImage:h},{texture:e.handle,mipLevel:t},[n,h,1]),n/=2,h/=2}e.device.submitCommandEncoder(l),e.ready=!0}else{const u=d(o,e.height,e.depth);c=u[1];const n={dataArray:v.dataArray?v.dataArray:null,usage:On.Texture};n.nativeArray=u[0];const h=e.device.getBufferManager().getBuffer(n);l.copyBufferToTexture({buffer:h.getHandle(),offset:0,bytesPerRow:c,rowsPerImage:e.height},{texture:e.handle},[e.width,e.height,e.depth]),e.device.submitCommandEncoder(l),e.ready=!0}},_.getScale=()=>{const v=pt.getDetailsFromTextureFormat(e.format);return v.elementSize===2&&v.sampleType==="float"?1:255},_.getNumberOfComponents=()=>pt.getDetailsFromTextureFormat(e.format).numComponents,_.getDimensionality=()=>{let v=0;return e.width>1&&v++,e.height>1&&v++,e.depth>1&&v++,v},_.resizeToMatch=v=>{(v.getWidth()!==e.width||v.getHeight()!==e.height||v.getDepth()!==e.depth)&&(e.width=v.getWidth(),e.height=v.getHeight(),e.depth=v.getDepth(),e.handle=e.device.getHandle().createTexture({size:[e.width,e.height,e.depth],format:e.format,usage:e.usage,label:e.label}))},_.resize=function(v,o){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;(v!==e.width||o!==e.height||r!==e.depth)&&(e.width=v,e.height=o,e.depth=r,e.handle=e.device.getHandle().createTexture({size:[e.width,e.height,e.depth],format:e.format,usage:e.usage,label:e.label}))},_.createView=function(v){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o.dimension||(o.dimension=e.depth===1?"2d":"3d");const r=sl.newInstance({label:v});return r.create(_,o),r}}const ll={device:null,handle:null,buffer:null,ready:!1,label:null};function cl(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ll,v),ue.obj(_,e),ue.get(_,e,["handle","ready","width","height","depth","format","usage"]),ue.setGet(_,e,["device","label"]),ul(_,e)}ue.newInstance(cl);function fl(_){if(!_||_.data.length===0)throw new Error("Invalid contour set data, see publicContourSetData type for more info");if(!_.id)throw new Error("Invalid contour set data, each contour set must have an id");if(!_.data||!Array.isArray(_.data))throw new Error("Invalid contour set data, each contour set must have an array of contours");_.data.forEach(e=>{if(!e.points||!Array.isArray(e.points))throw new Error("Invalid contour set data, each contour must have an array of points");e.points.forEach(v=>{if(!v||!Array.isArray(v)||v.length!==3)throw new Error("Invalid contour set data, each point must be an array of length 3")})})}class kn{constructor(e){const{points:v,type:o}=e.data;this.id=e.id,this._points=v,this._type=o,this._color=e.color,this._segmentIndex=e.segmentIndex,this.sizeInBytes=this._getSizeInBytes()}_getSizeInBytes(){return this._points.length*3}get points(){return this._points}set points(e){this._points=e}get color(){return this._color}set color(e){this._color=e}get type(){return this._type}set type(e){this._type=e}get segmentIndex(){return this._segmentIndex}set segmentIndex(e){this._segmentIndex=e}get flatPointsArray(){return this._points.map(e=>[...e]).flat()}}class hl{constructor(e){this._color=[200,0,0],this.id=e.id,this._contours=[],this._color=e.color??this._color,this.frameOfReferenceUID=e.frameOfReferenceUID,this._segmentIndex=e.segmentIndex,this._createEachContour(e.data),this.sizeInBytes=this._getSizeInBytes()}_createEachContour(e){e.forEach(v=>{const{points:o,type:r,color:c}=v,d=new kn({id:`${this.id}-segment-${this._segmentIndex}`,data:{points:o,type:r,segmentIndex:this._segmentIndex,color:c??this._color},segmentIndex:this._segmentIndex,color:c??this._color});this._contours.push(d)}),this._updateContourSetCentroid()}_updateContourSetCentroid(){const e=this.totalNumberOfPoints,v=this.flatPointsArray,o=v.reduce((d,l)=>[d[0]+l[0],d[1]+l[1],d[2]+l[2]],[0,0,0]),r=[o[0]/e,o[1]/e,o[2]/e],c=v.reduce((d,l)=>{const u=this._getDistance(r,l),n=this._getDistance(r,d);return u<n?l:d},v[0]);this._centroid=c}_getSizeInBytes(){return this._contours.reduce((e,v)=>e+v.sizeInBytes,0)}_getDistance(e,v){return Math.sqrt((e[0]-v[0])**2+(e[1]-v[1])**2+(e[2]-v[2])**2)}get centroid(){return this._centroid}get segmentIndex(){return this._segmentIndex}get color(){return this._color}set color(e){this._color=e,this._contours.forEach(v=>{v instanceof kn&&(v.color=e)})}get contours(){return this._contours}get flatPointsArray(){return this._contours.flatMap(e=>e.points)}get numberOfContours(){return this._contours.length}get totalNumberOfPoints(){return this._contours.reduce((e,v)=>e+v.points.length,0)}get numberOfPointsArray(){return this._contours.map(e=>e.points.length)}getPointsInContour(e){return this._contours[e].points}getNumberOfPointsInAContour(e){return this.getPointsInContour(e).length}}function pl(_,e){fl(e);const v=new hl({id:e.id,data:e.data,color:e.color,frameOfReferenceUID:e.frameOfReferenceUID,segmentIndex:e.segmentIndex??1});return{id:_,type:vt.CONTOUR,data:v,sizeInBytes:v.sizeInBytes}}function dl(_){if(!_.id)throw new Error("Surface must have an id");if(_.points?.length===0)throw new Error("Surface must have non-empty points array");if(_.polys?.length===0)throw new Error("Surface must have non-empty polys array");if(!_.frameOfReferenceUID)throw new Error("Surface must have a frameOfReferenceUID")}function ml(_,e){dl(e);const v=new ra({id:e.id,points:e.points,polys:e.polys,color:e.color,frameOfReferenceUID:e.frameOfReferenceUID,segmentIndex:e.segmentIndex??1});return{id:_,type:vt.SURFACE,data:v,sizeInBytes:v.sizeInBytes}}function gl(_){if(!_.id)throw new Error("Mesh must have an id");if(!_.arrayBuffer)throw new Error("Mesh must have an arrayBuffer");if(!(_.format in Je))throw new Error(`Mesh format must be one of the following: ${Object.values(Je).join(", ")}`)}function yl(_,e){e.classHierarchy.push("vtkMTLReader");function v(){e.requestCount--,e.requestCount===0&&_.invokeBusy(!1)}function o(c){if(c[0]==="#"||c.length===0)return;const d=c.split(/[ \t]+/).map(l=>l.trim()).filter(l=>l.length);if(d[0]==="newmtl")d.shift(),e.currentMaterial=d.join(" ").trim();else if(e.currentMaterial){if(d.length<2)return;if(e.materials[e.currentMaterial]||(e.materials[e.currentMaterial]={}),e.materials[e.currentMaterial][d[0]]=d.slice(1),d[0]==="map_Kd"){const l=new Image;l.onload=()=>setTimeout(v,0),l.src=[e.baseURL,d[1]].join("/"),e.materials[e.currentMaterial].image=l,e.requestCount++}}}e.dataAccessHelper||(e.dataAccessHelper=Ut.get("http"));function r(c,d){return e.dataAccessHelper.fetchText(_,c,d)}_.setUrl=function(c){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(c.indexOf(".mtl")===-1&&!d.fullpath)e.baseURL=c,e.url=`${c}/index.mtl`;else{e.url=c;const l=c.split("/");l.pop(),e.baseURL=l.join("/")}return _.loadData(d)},_.loadData=c=>new Promise((d,l)=>{r(e.url,c).then(u=>{_.parseAsText(u),d()},u=>{l()})}),_.parseAsText=c=>{_.modified(),e.materials={},c.split(`
`).forEach(o)},_.isBusy=()=>!!e.requestCount,_.getMaterialNames=()=>Object.keys(e.materials),_.getMaterial=c=>e.materials[c],_.listImages=()=>Object.keys(e.materials).map(c=>e.materials[c].map_Kd).filter(c=>!!c).map(c=>c[0].trim()),_.setImageSrc=(c,d)=>new Promise((l,u)=>{const n=Object.keys(e.materials).find(t=>e.materials[t].map_Kd&&e.materials[t].map_Kd[0].trim()===c.trim()),h=e.materials[n];h&&h.image?(h.image.src=d,h.image.onload=()=>setTimeout(l,0)):l()}),_.applyMaterialToActor=(c,d)=>{const l=e.materials[c];if(l&&d){const u=[1,1,1],n={ambientColor:l.Ka?l.Ka.map(t=>Number(t)):u,specularColor:l.Ks?l.Ks.map(t=>Number(t)):u,diffuseColor:l.Kd?l.Kd.map(t=>Number(t)):u,opacity:l.d?Number(l.d):1,specularPower:l.Ns?Number(l.Ns):1},h=Number(l.illum||2);if(["ambient","diffuse","specular"].forEach((t,a)=>{n[t]=a<=h?1:0}),l.image){const t=Dt.newInstance({interpolate:e.interpolateTextures});t.setImage(l.image),d.addTexture(t)}d.getProperty().set(n)}}}const vl={numberOfOutputs:1,requestCount:0,materials:{},interpolateTextures:!0};function wi(_,e){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,vl,v),Mn(_,e),Ji(_,e,["url","baseURL"]),jr(_,e,["dataAccessHelper","interpolateTextures","splitGroup"]),Yi(_,e,"busy"),yl(_,e)}const _l=Ze(wi,"vtkMTLReader");var xl={newInstance:_l,extend:wi};function Si(_,e){gl(e);const v=new Mo({...e}),o={id:_,type:vt.MESH,data:v,sizeInBytes:v.sizeInBytes};switch(e.format){case Je.PLY:if(e.materialUrl){const r=new Image;return new Promise((c,d)=>{r.onload=()=>{try{const l=Dt.newInstance();l.setInterpolate(!0),l.setImage(r),v.defaultActor.addTexture(l),c(o)}catch(l){d(l)}},r.onerror=l=>d(l),r.src=e.materialUrl})}return Promise.resolve(o);case Je.OBJ:if(e.materialUrl){const r=xl.newInstance();return r.setUrl(e.materialUrl).then(()=>{for(let c=0;c<v.actors.length;c++){const d=v.actors[c],l=d.getMapper();if(l){const u=l.getInputData();if(u){const n=u.get("name").name;r.applyMaterialToActor(n,d)}}}return o}).catch(c=>{throw new Error(`Failed to load material: ${c}`)})}return Promise.resolve(o);case Je.STL:case Je.VTP:return Promise.resolve(o);default:return Promise.reject(new Error(`Unsupported format: ${e.format}`))}}function bl({url:_,signal:e,onload:v,loaderOptions:o}){return new Promise((r,c)=>{const d=new XMLHttpRequest;d.open("GET",_,!0);const l={},u=o.beforeSend(d,l),n=Object.assign({},l,u);d.responseType="arraybuffer",Object.keys(n).forEach(function(f){n[f]!==null&&d.setRequestHeader(f,n[f])});const h=function(f){v&&typeof v=="function"&&v(),e&&e.removeEventListener("abort",t),r(d.response)},t=()=>{d.abort(),d.removeEventListener("load",h),c(new Error("Request aborted"))};d.addEventListener("load",h);const a=(f,p)=>{const m={url:_,loaded:f,total:p};ut(ct,lt.GEOMETRY_LOAD_PROGRESS,{data:m})};d.onprogress=function(f){a(f.loaded,f.total)},e&&e.aborted?(d.abort(),c(new Error("Request aborted"))):e&&e.addEventListener("abort",t),d.send()})}function wl(_,e,v){return{promise:new Promise((r,c)=>{Sl(_,e,v).then(r).catch(c)}),cancelFn:void 0,decache:()=>{}}}async function Sl(_,e,v){const r=_.split(":").slice(1).join(":"),c=await bl({url:r,loaderOptions:v});if(!e||!("geometryData"in e))throw new Error("Mesh must have a geometryData");return Si(r,{...e.geometryData,arrayBuffer:c})}let fr={beforeSend(_){}};function Dl(_){fr=Object.assign(fr,_)}function El(){return fr}const Di={};let At;function Ei(_,e){const v=_.indexOf(":"),o=_.substring(0,v);let r=Di[o];if(r==null){if(At==null||typeof At!="function")throw new Error(`No geometry loader for scheme ${o} has been registered`);r=At}const c=r(_,e,fr);return c.promise.then(function(d){ut(ct,lt.GEOMETRY_LOADED,{geometry:d})},function(d){const l={geometryId:_,error:d};ut(ct,lt.GEOMETRY_LOADED_FAILED,l)}),c}function Cl(_,e){if(_===void 0)throw new Error("loadGeometry: parameter geometryId must not be undefined");let v=Ot.getGeometryLoadObject(_);return v!==void 0||(v=Ei(_,e)),v.promise}async function Tl(_,e){if(_===void 0)throw new Error("createAndCacheGeometry: parameter geometryId must not be undefined");let v=Ot.getGeometryLoadObject(_);return v!==void 0||(v=Ei(_,e),await Ot.putGeometryLoadObject(_,v)),v.promise}function Al(_,e){if(_===void 0)throw new Error("createAndCacheGeometry: parameter geometryId must not be undefined");let v=Ot.getGeometry(_);if(v)return v;if(e.type===vt.CONTOUR)v=pl(_,e.geometryData);else if(e.type===vt.SURFACE)v=ml(_,e.geometryData);else if(e.type===vt.MESH)Si(_,e.geometryData).then(o=>{v=o});else throw new Error(`Unknown geometry type: ${e.type}`);return Ot.putGeometrySync(_,v),v}function Ci(_,e){Di[_]=e}function Nl(_){const e=At;return At=_,e}Ci("mesh",wl);const Fl=Object.freeze(Object.defineProperty({__proto__:null,createAndCacheGeometry:Al,getOptions:El,loadAndCacheGeometry:Tl,loadGeometry:Cl,registerGeometryLoader:Ci,registerUnknownGeometryLoader:Nl,setOptions:Dl},Symbol.toStringTag,{value:"Module"}));function Pl(_,e){if(!e||!e.imageIds||!e.imageIds.length)throw new Error("ImageIds must be provided to create a 4D streaming image volume");const{imageIds:v}=e,{splittingTag:o,imageIdGroups:r}=Qi(v),c=Math.floor(r.length/2),d=Zi(r[c],_),{metadata:l,dimensions:u,spacing:n,direction:h,sizeInBytes:t,origin:a,numberOfComponents:f,dataType:p}=d,m=h.slice(6,9),y=r.map(x=>ea(x,m).sortedImageIds),g=y.flat(),i=ta.createScalarDynamicVolumeVoxelManager({dimensions:u,imageIdGroups:y,dimensionGroupNumber:1,numberOfComponents:f});let s=new Bo({volumeId:_,metadata:l,dimensions:u,spacing:n,origin:a,direction:h,sizeInBytes:t,imageIds:g,imageIdGroups:y,splittingTag:o,voxelManager:i,numberOfComponents:f,dataType:p},{imageIds:g,loadStatus:{loaded:!1,loading:!1,cancelled:!1,cachedFrames:[],callbacks:[]}});return{promise:Promise.resolve(s),decache:()=>{s.destroy(),s=null},cancel:()=>{s.cancelLoading()}}}export{Bl as BaseRenderingEngine,Ll as BaseVolumeViewport,Ul as CONSTANTS,Rl as ContextPoolRenderingEngine,jl as EPSILON,lt as EVENTS,zl as Enums,Gl as ImageVolume,Vl as ProgressiveRetrieveImages,Wl as RenderingEngine,Hl as Settings,Xl as StackViewport,Bo as StreamingDynamicImageVolume,ql as StreamingImageVolume,ra as Surface,$l as TiledRenderingEngine,Kl as VideoViewport,Jl as Viewport,Yl as VolumeViewport,Ql as VolumeViewport3D,Zl as WSIViewport,ec as addImageSlicesToViewports,tc as addVolumesToViewports,Ot as cache,rc as canRenderFloatTextures,nc as convertMapperToNotSharedMapper,wl as cornerstoneMeshLoader,Pl as cornerstoneStreamingDynamicImageVolumeLoader,ic as cornerstoneStreamingImageVolumeLoader,ac as createCanvas,oc as createViewportElement,sc as createVolumeActor,uc as createVolumeMapper,ct as eventTarget,Fl as geometryLoader,lc as getConfiguration,cc as getEnabledElement,fc as getEnabledElementByIds,hc as getEnabledElementByViewportId,pc as getEnabledElements,dc as getOrCreateCanvas,mc as getRenderingEngine,gc as getRenderingEngines,yc as getShouldUseCPURendering,vc as getWebWorkerManager,_c as imageLoadPoolManager,xc as imageLoader,bc as imageRetrievalPoolManager,wc as init,Sc as isCornerstoneInitialized,Dc as metaData,Ec as peerImport,Cc as registerImageLoader,Tc as requestPoolManager,Ac as resetInitialization,Nc as resetUseCPURendering,Oc as setCanvasCreator,kc as setConfiguration,Fc as setPreferSizeOverAccuracy,Pc as setUseCPURendering,Ic as setVolumesForViewports,ut as triggerEvent,Mc as utilities,kl as version,Bc as volumeLoader};
//# sourceMappingURL=index-DGyS4qEw.js.map
